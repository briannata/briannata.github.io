
if (window.cdc === undefined) { window.cdc = {}; }
if (cdc.context === undefined) {
    cdc.context = (function (window, undefined) {
        /**
         * Key returned for unknown environments
         * @type {string}
         */
        var UNKNOWN_ENVIRONMENT_KEY = "unknown";

        /**
         * Keys returned for known environments
         * @type {Array} of Strings
         */
        var KNOWN_ENVIRONMENT_KEYS = ["dev", "stage", "prod"];

        /**
         * List of "full-fledged" envs to check against for asset loading (US161000)
         * @type {Array} of Strings
         */
        var FULL_WEM_ENV_LIST = ["fdk-pstage", "fdk-stage", "fdk-devint", "fdk-author-pstage"];

        /**
         * Keys for known and unknown environments (concatenation of KNOWN_ENVIRONMENT_KEYS and UNKNOWN_ENVIRONMENT_KEY)
         * @type {Array}
         */
        var STANDARD_ENVIRONMENT_KEYS = KNOWN_ENVIRONMENT_KEYS.concat([UNKNOWN_ENVIRONMENT_KEY]);

        /**
         * keys => environment description, values => Array holding strings to compare against hostnames
         * @type {Object}
         */
        var PATTERN_FRAGMENTS = {
            "prod": [
                "www[0-9]*"
                , "apps"
                , "cdx"
                , "cepx-active-prod[0-9]*"
                , "wemapp-(author|publish)-(prod[0-9]|nprd)[0-9]*-[0-9]*"
                , "www-(author|test|publish|author3|author4)"
                , "www-(author|test|publish|author3|author4)-nprd"
                , "wwwin-tools"
                , "cisco-apps"
                , "grs"
                , "investor"
                , "newsroom"
                , "origin-software"
                , "software"
                , "sso[0-9]*"
                , "cloudsso[0-9]*"
                , "tools"
                , "webapps"
                , "wwwin"
                , ".*\.cloudapps"
                , ".*\.cisco"
                , "^nic$"
            ],
            "stage": [
                "apps-lt"
                , "apps-stage"
                , "cdx-stage"
                , "(cepx|ecmx)-(active|staging|wip)-(lt|stage)[0-9]*"
                , "fdk-author-lt"
                , "fdk-author3-lt"
                , "fdk-author4-lt"
                , "fdk-(author|publish)*[0-9]*-stage"
                , "fdk-author3-stage"
                , "fdk-author4-stage"
                , "fdk-author-pstage"
                , "fdk-author3-pstage"
                , "fdk-author4-pstage"
                , "fdk-author-pstage3"
                , "(www(in)?-)?fdk-(publish-)?lt[0-9]*"
                , "(www(in)?-)?fdk-(publish-)?.?stage[0-9]*"
                , "wemapp-(author|publish)-.?stage[0-9]*-[0-9]*"
                , "software-lt"
                , "software-stage"
                , "sso-nprd[0-9]*"
                , "cloudsso-test[0-9]*"
                , "tools-lt"
                , "tools-stage"
                , "www-lt[0-9]*"
                , "www-(author-|publish-)*stage[0-9]*"
                , "webapps-lt"
                , "webapps-stage"
                , "wwwin-tools-(dev|stage|lt)"
                , "wwwin-stage"
                , ".*\-stage\.cloudapps"
                , ".*\-lt\.cloudapps",
                "cdcsearch-stage",
                "rt3-stage"

            ],
            "dev": [
                "apps-dev"
                , "cdx-dev"
                , "cepx-active-dev[0-9]*"
                , "ecmx-active-dev[0-9]*"
                , "fdk-(author-)?dev[0-9]*"
                , "fdk-(author3-)?dev[0-9]*"
                , "fdk-(author4-)?dev[0-9]*"
                , "(www(in)?-)?fdk-(author-)?devint[0-9]*"
                , "(www(in)?-)?fdk-(author3-)?devint[0-9]*"
                , "(www(in)?-)?fdk-(author4-)?devint[0-9]*"
                , "wemapp-(author|publish)-(dev|devint|idev)[0-9]*-[0-9]*"
                , "software-dev"
                , "sso-idev[0-9]*"
                , "fdk-author4-idev[0-9]*"
                , "cloudsso-idev[0-9]*"
                , "tools-dev"
                , "www-(dev|idev)[0-9]*"
                , "localhost"
                , "webapps-dev"
                , "wwwin-dev",
                "rt3-devint",
                , ".*\-dev\.cloudapps"
                , ".*\.cisco.com:4502" // add sandboxes to 'dev' classification
            ]
        };

        /**
         * Configuration for public, read-only properties.
         * @type {Object}
         */
        var READ_ONLY = {
            writable: false,
            enumerable: false,
            configurable: false
        };

        /**
         * Determines whether the environment is non-standard (by checking for a valid `cdcext.customEnvironment` property).
         * @return {Boolean} Indicates whether environment is custom or not.
         */
        var isCustomEnvironment = function () {
            let environmentsRegExp = new RegExp("^(" + STANDARD_ENVIRONMENT_KEYS.join("|").slice(0, -1) + ")$");
            return typeof cdcext !== "undefined" && typeof cdcext.customEnvironment !== "undefined" && cdcext.customEnvironment.match(environmentsRegExp);
        };

        /**
         * Determines whether or not the current host matches an env in FULL_WEM_ENV_LIST
         * @return {Boolean} whether or not the current host matches an env in FULL_WEM_ENV_LIST
         */
        var matchesTrueWemEnv = function () {
            let currentHost = window.location.host,
                subdomain = currentHost.split('.')[0];
            return FULL_WEM_ENV_LIST.some(function (regexpToMatch){
                return subdomain.match(regexpToMatch) != null;
            });
        };

        /**
         * Returns a key to represent the current environment based on the hostname or `cdcext.customEnvironment`.
         * @return {String} A key to describe a known, unknown, or custom environment.
         */
        var findEnvironment = function () {
            if (isCustomEnvironment()) {
                return cdcext.customEnvironment;
            } else {
                return matchEnvironment(window.location.host);
            }
        };

        /**
         * ensure that a specified namespace exists in the global scope
         * @param {String} namespaceStr: Namespace to ensure, in dot-notation, ex: "cdc.sso"
         */
        var ensureNamespace = function (namespaceStr) {
            if (!namespaceStr) { return; }
            var parts = namespaceStr.split(".");
            var o = window;
            var i;
            var aPart;
            for (i = 0; i < parts.length; i++) {
                aPart = parts[i];
                if (typeof (o[aPart]) != "object") {
                    o[aPart] = {};
                }
                o = o[aPart];
            }
        };        

        /**
         * Returns a compound regular expression to consolidate the provided fragments.
         * @param  {Array} patternFragments An array of strings to consolidate.
         * @return {RegExp}                 The compound regular expression object.
         */
        var getEnvironmentRegExp = function (patternFragments) {
            return new RegExp( "^(" + patternFragments.join("|") + ")(\\.|:|$)" )
        };

        /**
         * Determines if the provided hostname maps to a known environment (e.g., "dev", "stage", or "prod").
         * @param  {String} envToMatch The hostname to be tested.
         * @return {String}            A key to describe a known or unknown environment.
         */
        var matchEnvironment = function (envToMatch) {
            envToMatch = envToMatch.replace(/\.cisco\.com$|\.cisco$/i, ""); // Remove the top-level domain, if any
            let knownPatterns = {};
            KNOWN_ENVIRONMENT_KEYS.forEach(function (environmentKey) { knownPatterns[environmentKey] = getEnvironmentRegExp(PATTERN_FRAGMENTS[environmentKey]); });
            return (function (location) {
                var result = UNKNOWN_ENVIRONMENT_KEY;
                KNOWN_ENVIRONMENT_KEYS.forEach(function (environmentKey) {
                    if (knownPatterns[environmentKey].test(location)) { result = (result === UNKNOWN_ENVIRONMENT_KEY) ? environmentKey : result; }
                });
                return result;
            }(envToMatch));
        };

        /**
         * Determines whether the user is on login page (by detecting presence of element matching `#login-form`).
         * @return {Boolean} Whether the user is on login page.
         */
        var isLoginPage = function () {
            return (document.querySelectorAll("#login-form").length) ? true : false;
        };

        /**
         * generate URL with random number value for specified query param
         * @param {String} url URL to which to append the query string
         * @param {String} param the key to which to assign the random number
         * @return {String} generated url
         */
        var cacheBust = function (url, param) {
            if (!param) { param = 'cacheReset'; }
            let delim = "?";
            // if url is ng-prod1(bam) or has ?, set param delimeter to &
            if (url.match(/(ng-prod1|\?)/)) { delim = "&"; }

            return url + delim + param + '=' + cdc.context.randomNumber();
        };

        /**
         * generate string containing current time and random number
         * @param {Number} limit maximum limit for the random number
         * @return {String} current time and randum number, dash-separated
         */
        var randomNumber = function (limit) {
            if (!limit) { limit = 1000; }
            let sNum = Math.floor(Math.random() * limit) + 1,
                sTime = (new Date()).getTime(),
                rNum = sTime + "-" + sNum;
            return rNum;
        };

        var ls = {
            /**
             * ls.getConfigInfo: get specified key from session OR localStorage
             * @param {String} storeName key to get from specified storage
             * @param {Boolean} session true: get from sessionStorage? false: get from localStorage
             * @return {Boolean} success => true, error => false
             */
            getConfigInfo: function (storeName, session) {
                try {
                    if (session === true) {
                        return JSON.parse(sessionStorage[storeName]);
                    } else {
                        return JSON.parse(localStorage[storeName]);
                    }
                } catch (e) {
                    return false;
                }
            },
            /**
             * ls.deleteConfigInfo: delete specified key from session OR localStorage
             * @param {String} storeName key to remove from specified storage
             * @param {Boolean} session true: delete sessionStorage? false: delete localStorage
             * @return {Boolean} success => true, error => false
             */
            deleteConfigInfo: function (storeName, session) {
                try {
                    if (session === true) {
                        sessionStorage.removeItem(storeName);
                    } else {
                        localStorage.removeItem(storeName);
                    }
                    return true;
                } catch (e) {
                    return false;
                }
            }
        }

        /**
         * The public methods and properties to expose.
         * @type {Object}
         */
        let publicAPI = {
            findEnvironment: findEnvironment,
            matchEnvironment: matchEnvironment,
            isLoginPage: isLoginPage,
            randomNumber: randomNumber,
            ensureNamespace: ensureNamespace,
            cacheBust: cacheBust,
            ls: ls,
            UNKNOWN_ENVIRONMENT_KEY: UNKNOWN_ENVIRONMENT_KEY,
            KNOWN_ENVIRONMENT_KEYS: KNOWN_ENVIRONMENT_KEYS,
            STANDARD_ENVIRONMENT_KEYS: STANDARD_ENVIRONMENT_KEYS,
            PATTERN_FRAGMENTS: PATTERN_FRAGMENTS,
            FULL_WEM_ENV_LIST: FULL_WEM_ENV_LIST,
            matchesTrueWemEnv: matchesTrueWemEnv
        };


        /**
         * Updates public properties to be read-only.
         */
        Object.defineProperties(publicAPI, {
            "UNKNOWN_ENVIRONMENT_KEY": READ_ONLY,
            "KNOWN_ENVIRONMENT_KEYS": READ_ONLY,
            "STANDARD_ENVIRONMENT_KEYS": READ_ONLY,
            "PATTERN_FRAGMENTS": READ_ONLY
        })

        return publicAPI;

    })(window); // cdc.context
} // end existence check

/*
 *  Utility functions
 *  util_core.js was _util_frag.js
 *  These utility functions are for Homepage and Masterbrand bundles
 *  $Revision: 1.10 $
 */

if(window.location.href.match("zh_tw")) {
    document.documentElement.lang = "zh-TW";
}
cdc.util = {
    /** 
     * The following namespaces have been moved to cdc.context object
     * Any references to these methods should be updated to leverage the context namespace directly so that the cdc.util namespace can be retired
     */
    ensureNamespace: cdc.context.ensureNamespace,
    cacheBust: cdc.context.cacheBust,
    randomNumber: cdc.context.randomNumber,
    findEnvironment: cdc.context.findEnvironment,
    matchesTrueWemEnv: cdc.context.matchesTrueWemEnv,
    matchEnvironment: cdc.context.matchEnvironment,
    isLoginPage: cdc.context.isLoginPage,
    openCdcPopup: function (url, width, height) {
        if (!url) {
            return true;
        }
        var windowControls = '';
        var windowOptions = '';
        var windowName = 'globalCDCpopup';

        if (typeof url == "object") {
            // create temp variables to function params map
            width = url.width;
            height = url.height;
            let xtop = url.top !== undefined ? url.top : ''; //named "xtop" because "top" kills IE
            let left = url.left !== undefined ? url.left : '';
            windowOptions = "top=" + xtop + ",left=" + left + ",";
            if (url.windowName !== undefined) {
                windowName = url.windowName;
            }

            if (url.controls != false) { //undefined = true
                if (url.location !== undefined && url.location == "no") {
                    windowControls = ",toolbar=yes,location=no,menubar=yes";
                } else {
                    windowControls = ",toolbar=yes,location=yes,menubar=yes";
                }
            }
            url = url.address; // doing this last because it nukes the url object
        }

        width = isNaN(parseInt(width)) ? 550 : parseInt(width);
        height = isNaN(parseInt(height)) ? 550 : parseInt(height);

        windowOptions += "width=" + width + ",height=" + height + ",status=yes,scrollbars=yes,resizable=yes" + windowControls;
        var popup = window.open(url, windowName, windowOptions);
        if (popup) {
            popup.focus();
        }
        return false;
    },
    /*
     * Grabs a parameter from the URL.  Returns an empty
     * string if parameter does not exist.
     */
    getParameter: function (param, url) {
        param = param + "=";
        var qs;
        if (url) {
            qs = url.slice(url.indexOf('?') + 1);
        }
        qs = qs || window.location.search;
        var val = "";
        var start = qs.indexOf(param);
        if (start != -1) {
            start += param.length;
            var end = qs.indexOf("&", start);
            if (end == -1) {
                end = qs.length;
            }
            val = qs.substring(start, end);
        }
        return val;
    },
    /* Local storage function wrappers */
    ls: {
        setConfigInfo: function (storeName, configObj, session) {
            try {
                if (session === true) {
                    sessionStorage[storeName] = JSON.stringify(configObj);
                } else {
                    localStorage[storeName] = JSON.stringify(configObj);
                }
                return true;
            } catch (e) {
                return false;
            }
        },
        getConfigInfo: cdc.context.ls.getConfigInfo,
        deleteConfigInfo: cdc.context.ls.deleteConfigInfo
    },
    /* ut specific API wrapper used in UT code, does it belong here or in livemanager.js? */
    ut: {
        setConfigInfo: function (configObj) {
            cdc.util.ls.setConfigInfo("utConfig", configObj);
        },
        getConfigInfo: function () {
            var config = cdc.util.ls.getConfigInfo("utConfig");
            var now = new Date();
            if (config && config.expiry < now.getTime()) {
                if (console) {
                    console.log("Deleting expired utConfig.  Values were:" + JSON.stringify(config) + "You must resave them if you need them.");
                }
                cdc.util.ut.deleteConfigInfo();
                config = false;
            }
            return config;
        },
        deleteConfigInfo: function () {
            cdc.util.ls.deleteConfigInfo("utConfig");
        }
    },
    /* Localization function wrappers */
    locale: {
        languageforTheatercode: {
            "ES": "es_ES",
            "DE": "de_DE",
            "FR": "fr_FR",
            "PL": "pl_PL",
            "BR": "pt_BR",
            "RU": "ru_RU",
            "JP": "ja_JP",
            "KR": "ko_KR",
            "CN": "zh_CN",
            "CZ": "cs_CZ",
            "IT": "it_IT",
            "TH": "th_TH",
            "TR": "tr_TR",
            "VN": "vi_VN",
            "LA": "es_LA"
        },
        theatercodeforLanguage: {
            "es": "es_ES",
            "de": "de_DE",
            "fr": "fr_CA",
            "vi": "vi_VN",
            "pl": "pl_PL",
            "pt": "pt_BR",
            "ru": "ru_RU",
            "ja": "ja_JP",
            "ko": "ko_KR",
            "zh": "zh_CN",
            "cs": "cs_CZ",
            "it": "it_IT",
            "th": "th_TH",
            "tr": "tr_TR",
            "en": "en_US"
        },
        /* CK:
         * Modification:
         * Also adds isCdc functionality to indicate if link is a Cisco.com recognized link.
         * Returns
            'isCdc':isCdc, // true | false
            'getLanguage':languageCode,  // en | false
            'getCountry':theaterCode, // CA | false
            'getLocale':languageCode+'_'+theaterCode, // en_CA | false
            'matchCountry':matchCountry,  // url | meta - future to include storage | browser, etc.
            'matchLanguage':matchLanguage // url | meta - future to include storage | browser, etc.
        */
        getLocale: function (url) {
            var langArr, languageCode, theaterCode, theaterArr, matchLanguage, matchCountry = "";
            if (!url || url == null || url === undefined) {
                if (document.referrer) {
                    url = document.referrer.toString();
                }
            }

            // CK: need to break these out into their own functions so that they are accessible to other scripts to run test off of.
            var isLocalStorage = cdc.util.ls.getConfigInfo("localeinfo"); // checking for localstorage
            //http://tools.cisco.com/getlocale/index.html?loginlocale=de_DE&filterId=1&type=all
            var isParameterLoginLocale = cdc.util.getParameter('loginlocale', url); // Checking for parameter loginlocale
            //http://tools.cisco.com/getlocale/index.html?loginlocale=de_DE&filterId=1&type=all
            var isParameterLocale = cdc.util.getParameter('locale', url); // Checking for Parameter locale
            //http://tools.cisco.com/search/JSP/search-results.get?strQueryText=routers&Search+All+cisco.com=cisco.com&language=en&country=US&thissection=f&accessLevel=Guest
            var isParameterCountry = cdc.util.getParameter('country', url.toLowerCase());
            var isParameterLanguage = cdc.util.getParameter('language', url.toLowerCase());
            // http://www.cisco.com/web/CH/fr/products/index.html
            var isLanguagePattern = url.match(/(\/web\/.*[A-Z]{2,3}\/[a-z]{2}\/)/g); //tweaked to max at 3
            // http://www.cisco.com/cisco/web/CA/support/index_fr.html
            var isTheaterFilePattern = url.match(/(\/web\/[A-Z]{2,3}\/.*\_[a-z]{2}[\.\/])/g); // tweaked to max 3, add / as possible end
            // http://www.cisco.com/web/CA/products/index.html
            var isTheaterPattern = url.match(/(\/web\/.*[A-Z]{2,3}\/)/g); //tweaked to max 3
            // http://www.cisco.com/web/siteassets/legal/global/privacy_statement_ca_fr.html
            var is1xTheaterFilePattern = url.match(/(\/web\/.*\/global\/.*\_[a-z]{2,3}[\.\/])/g); // add for old privacy_statement_br.html and  privacy_statement_ca_fr.html pattern match
            // http://www.cisco.com/web/siteassets/legal/terms_condition_fr.html
            var is1xLanguageFilePattern = url.match(/(\/web\/.*\_[a-z]{2,2}[\.\/])/g); // add for old terms_condition_fr.html pattern match
            // http://www.cisco.com/en/US/hmpgs/index.html
            var is1xUsaPattern = url.match(/(\/en\/US\/)/g); // new for en/US matches

            // step 1 : Check for Local Storage...
            if (isLocalStorage) {
                langArr = isLocalStorage.toString().split('_');
                languageCode = langArr[0];
                theaterCode = langArr[1];
                matchLanguage = "localstorage";
                matchCountry = "localstorage";
            } else if ((isParameterLoginLocale != "") || (isParameterLocale != "") || (isParameterLanguage != "") || (isParameterCountry != "")) {
                // step 2 : Check for Parameters ...
                //http://tools.cisco.com/getlocale/index.html?loginlocale=de_DE&filterId=1&type=all
                //http://tools.cisco.com/search/JSP/search-results.get?strQueryText=routers&Search+All+cisco.com=cisco.com&language=ja&country=JP&thissection=f&accessLevel=Guest
                if (isParameterLoginLocale || isParameterLocale) {
                    langArr = isParameterLoginLocale.toString().split('_');
                    if (langArr == "") {
                        langArr = isParameterLocale.toString().split('_');
                    }
                    languageCode = langArr[0];
                    theaterCode = langArr[1];
                } else if (isParameterLanguage && isParameterCountry) {
                    languageCode = isParameterLanguage;
                    theaterCode = isParameterCountry.toUpperCase();
                }
                matchLanguage = "parameter";
                matchCountry = "parameter";
            } else if (isLanguagePattern || isTheaterFilePattern || isTheaterPattern || is1xTheaterFilePattern || is1xLanguageFilePattern || is1xUsaPattern) {
                // step 3 : Check for URL Patterns  ...
                if (isLanguagePattern) {
                    langArr = isLanguagePattern.toString().split('/');
                    languageCode = langArr[langArr.length - 2];
                    theaterCode = langArr[langArr.length - 3];
                    matchLanguage = "url";
                    matchCountry = "url";
                } else if (isTheaterFilePattern) {
                    langArr = isTheaterFilePattern.toString().split('_');
                    languageCode = langArr[langArr.length - 1].replace(/[./]/g, ''); // tweaked
                    theaterArr = isTheaterFilePattern.toString().split('/');
                    theaterCode = theaterArr[2];
                    matchLanguage = "url";
                    matchCountry = "url";
                } else if (isTheaterPattern) {
                    theaterArr = isTheaterPattern.toString().split('/');
                    theaterCode = theaterArr[theaterArr.length - 2];
                    languageCode = false;
                    // need to add the condition to veriy local  patterns ?????
                    if (theaterCode in cdc.util.locale.languageforTheatercode) {
                        languageCode = (cdc.util.locale.languageforTheatercode[theaterCode]).toString().split('_')[0];
                        matchLanguage = "url";
                        matchCountry = "url";
                    }
                } else if (is1xTheaterFilePattern) { // added
                    langArr = is1xTheaterFilePattern.toString().split('_');
                    if (langArr.length > 3) {
                        languageCode = langArr[langArr.length - 1].replace(/[./]/g, '');
                        theaterCode = langArr[langArr.length - 2].toUpperCase();
                        matchCountry = "url";
                        matchLanguage = "url";
                    } else {
                        theaterCode = langArr[langArr.length - 1].replace(/[./]/g, '').toUpperCase();
                        languageCode = false;
                        matchLanguage = false;
                        matchCountry = "url";
                    }
                } else if (is1xLanguageFilePattern) { // added
                    theaterCode = false;
                    matchCountry = false;
                    matchLanguage = "url";
                    langArr = is1xLanguageFilePattern.toString().split('_');
                    languageCode = langArr[langArr.length - 1].replace(/[./]/g, '');
                    // need to add the condition to verify theatre code patterns  for all  ?????
                    if (languageCode in cdc.util.theatercodeforLanguage) {
                        theaterCode = (cdc.util.theatercodeforLanguage[languageCode]).toString().split('_')[1];
                    }
                } else if (is1xUsaPattern) { // ck: added for identifying en/US
                    langArr = is1xUsaPattern.toString().split('/');
                    languageCode = langArr[1];
                    theaterArr = is1xUsaPattern.toString().split('/');
                    theaterCode = theaterArr[2];
                    matchLanguage = "url";
                    matchCountry = "url";
                }
            } else if (url == location.href && (!theaterCode || !languageCode)) {
                // step 4 was 5 : Check for Meta Data on the current Page..
                if (!(theaterCode && languageCode)) {
                    var getMeta = document.getElementsByTagName('meta');
                    for (var i in getMeta) {
                        if (getMeta[i].name == "language" && !languageCode) {
                            languageCode = getMeta[i].content;
                            matchLanguage = "meta";
                        }
                        if (getMeta[i].name == "country" && !theaterCode) {
                            theaterCode = getMeta[i].content;
                            matchCountry = "meta";
                        }
                    }
                }
            } else if (window.navigator.language) {
                // step 5 was 4 : Check for Browser Settings...
                langArr = (window.navigator.language).toString().split('-');
                languageCode = langArr[0];
                theaterCode = langArr[1];
                if (theaterCode) {
                    theaterCode = theaterCode.toUpperCase();
                }
                if (languageCode in cdc.util.locale.theatercodeforLanguage && theaterCode === undefined) {
                    theaterCode = (cdc.util.locale.theatercodeforLanguage[languageCode]).toString().split('_')[1];
                }
                matchLanguage = "Browser";
                matchCountry = "Browser";
            } else { //  NOT FOUND
                languageCode = false;
                theaterCode = false;
                matchLanguage = false;
                matchCountry = false;
            }

            return {
                'getLanguage': languageCode, // en | false
                'getCountry': theaterCode, // CA | false
                'getLocale': languageCode + '_' + theaterCode, // en_CA | false
                'matchCountry': matchCountry, // url | meta - future to include storage | browser, etc.
                'matchLanguage': matchLanguage // url | meta - future to include storage | browser, etc.
            };
        }
    },

    /*
     ** http://underscorejs.org/#throttle
     * Creates and returns a new, throttled version of the passed function, that, when invoked repeatedly, will only
     * actually call the original function at most once per every wait milliseconds. Useful for rate-limiting events
     * that occur faster than you can keep up with.
     * By default, throttle will execute the function as soon as you call it for the first time, and, if you call it
     * again any number of times during the wait period, as soon as that period is over. If you'd like to disable the
     * leading-edge call, pass {leading: false}, and if you'd like to disable the execution on the trailing-edge, pass
     * {trailing: false}.
     */
    throttle: function (func, wait, options) {
        var context, args, result;
        var timeout = null;
        var previous = 0;
        if (!options) {
            options = {};
        }
        var later = function () {
            previous = options.leading === false ? 0 : new Date().getTime();
            timeout = null;
            result = func.apply(context, args);
            if (!timeout) {
                context = args = null;
            }
        };
        return function () {
            var now = new Date().getTime();
            if (!previous && options.leading === false) {
                previous = now;
            }
            var remaining = wait - (now - previous);
            context = this;
            args = arguments;
            if (remaining <= 0 || remaining > wait) {
                if (timeout) {
                    clearTimeout(timeout);
                    timeout = null;
                }
                previous = now;
                result = func.apply(context, args);
                if (!timeout) {
                    context = args = null;
                }
            } else if (!timeout && options.trailing !== false) {
                timeout = setTimeout(later, remaining);
            }
            return result;
        };
    },
    /*
     ** http://underscorejs.org/#debounce
     * Creates and returns a new debounced version of the passed function which will postpone its execution until after
     * wait milliseconds have elapsed since the last time it was invoked. Useful for implementing behavior that should
     * only happen after the input has stopped arriving. For example: rendering a preview of a Markdown comment,
     * recalculating a layout after the window has stopped being resized, and so on.
     * Pass true for the immediate argument to cause debounce to trigger the function on the leading instead of the
     * trailing edge of the wait interval. Useful in circumstances like preventing accidental double-clicks on a
     * "submit" button from firing a second time.
     */
    debounce: function (func, wait, immediate) {
        var timeout, args, context, timestamp, result;

        var later = function () {
            var last = new Date().getTime() - timestamp;

            if (last < wait && last >= 0) {
                timeout = setTimeout(later, wait - last);
            } else {
                timeout = null;
                if (!immediate) {
                    result = func.apply(context, args);
                    if (!timeout) {
                        context = args = null;
                    }
                }
            }
        };

        return function () {
            context = this;
            args = arguments;
            timestamp = new Date().getTime();
            var callNow = immediate && !timeout;
            if (!timeout) {
                timeout = setTimeout(later, wait);
            }
            if (callNow) {
                result = func.apply(context, args);
                context = args = null;
            }

            return result;
        };
    }
};
if (window.cdc === undefined) { window.cdc = {}; }
if (cdc.debug === undefined) {
    cdc.debug = (function () {
        var namespace = "debug",
            debugOn,
            debugLibs = [],
            currentEnv = cdc.util.findEnvironment();

        if (window.console === undefined) {
            console = { log: function () { return; } };
        }

        /**
         * Turns debug mode on by parsing the url and looking for the following get variables:
         *          debugJS - boolean
         *          debugLibs - string with specified libraries separated by commas that the developer wants shown (i.e. debugLibs=mqo,mm)
         *          secret - string only used for production environments that needs to contain the appropriate value in order to enable debug operations
         *
         * @returns {boolean} returns true if debug mode is on
         */
        function debugModeOn() {
            // Only want to run the logic operations once
            if (debugOn === undefined) {
                let sha1 = 'da39a3ee5e6b4b0d3255bfef95601890afd80709',
                    secret;
                location.search.substr(1).split('&').forEach(function (item) {
                    let keyval = item.split('=');
                    switch (keyval[0]) {
                    case 'debugJS':
                        debugOn = (keyval[1] === 'true');
                        break;
                    case 'debugLibs':
                        if (keyval[1] !== '') { debugLibs = keyval[1].split(','); }
                        break;
                    case 'secret':
                        secret = keyval[1];
                        break;
                    default:
                        break;
                    }
                });
                // Allow production use of debugJS only if the secret matches
                if (currentEnv === 'prod' && sha1 !== secret) { debugOn = false; }
                if (debugOn) {
                    let msg = 'console log statements on';
                    if (debugLibs.length > 0) { msg += ' for these namespaces: ' + debugLibs.toString(); }
                    cdc.debug.log(namespace, msg);
                }
            }
            return debugOn;
        }

        /**
         * If debug mode on, this function will echo the msg param via the specified console method in two scenarios:
         *      1. debugLibs is null - meaning all .log requests will be printed to the console
         *      2. A lib that matches an array value of defaultlibs
         *
         * @param consoleMethod - corresponds to the console method that is to be used by consoleHandler
         * @param lib {string} - corresponds to the library the message is being sent from
         * @param msg {string or object} - corresponds to the message to be printed to the console
         */
        function consoleHandler(consoleMethod, lib, msg) {
            var isDebugModeOn = debugModeOn(),
                includedInWhiteList = (debugLibs.length === 0 || debugLibs.indexOf(lib) >= 0);

            // if conditions are met, log the msg parameter using the appropriate console method
            if (isDebugModeOn && includedInWhiteList && msg !== undefined) {
                console.log(lib, ':');
                consoleMethod(typeof msg === "object" ? JSON.parse(JSON.stringify(msg)) : msg);
            }
        }

        /**
         * Wrapper function that invokes the console.log method
         *
         * @param lib {string} - corresponds to the library the message is being sent from
         * @param msg {string or object} - corresponds to the message to be printed to the console
         */
        function log(lib, msg) {
            var logPointer;
            if (console.log.bind !== undefined) {
                logPointer = console.log.bind(console);
            } else {
                logPointer = function (m) { return console.log(m); };
            }
            consoleHandler(logPointer, lib, msg);
        }

        /**
         * Wrapper function that invokes the console.dir method via consoleHandler method
         * Note: console.dir is not supported by IE8 therefore, any references to cdc.debug.dir are redirected to cdc.debug.log
         *
         * @param lib {string} - corresponds to the library the message is being sent from
         * @param msg {string or object} - corresponds to the message to be printed to the console
         */
        function dir(lib, msg) {
            if (console.dir !== undefined) {
                consoleHandler(console.dir.bind(console), lib, msg);
            } else {
                log(lib, msg);
            }
        }

        return {
            debugModeOn: debugModeOn,
            log: log,
            dir: dir,
            dump: function () { return; },
            alert: function () { return; }
        };
    }());
}
cdc.util.wwwin_subdomain = function (obj) {
    var csi;
    for (csi = 0; csi < obj.length; csi++) {
        let currentSubdomain = obj[csi].currentSubdomain;
        var host = window.location.host;
        var currentSubdomainString = new RegExp(currentSubdomain);

        // executes below steps further if the condition satisfies.
        if (currentSubdomainString.test(host) === false) {
            continue;
        }

        var sendingRules = obj[csi].sendingRules;
        var sendtourl, currentSelector = "";
        var sendWhen, matchWithin = [];

        for (var sr = 0; sr < sendingRules.length; sr++) {
            //assigning to temp variables
            sendtourl = sendingRules[sr].sendTo;
            sendWhen = sendingRules[sr].sendWhen;
            matchWithin = sendingRules[sr].matchWithin;
            // Looping matchWithin
            jQuery(matchWithin).each(function (key, matchWithinElement) {
                // Looping sendWhen
                jQuery(sendWhen).each(function (key1, sendWhenLinkStartsWith) {
                    currentSelector = matchWithinElement + " a[href^='" + sendWhenLinkStartsWith + "']";
                    jQuery(currentSelector).each(function (linkN, linkToUpdate) {
                        jQuery(linkToUpdate).attr('href', sendtourl + jQuery(linkToUpdate).attr('href'));
                    });
                });
                //End sendWhen..
            });
            // End matchWithin
        } // end for...sr( sendrules)
    }
};

cdc.util.linkreplacement_genericrules = {
    "CECPaths": ["/c/cec", "/employee"],
    "CDCPaths": ["/c/en/us", "/c/cdc", "/web", "/cisco", "/content/en/us","/c/login"],
    "matchWithin": ["#fw-search", "#fw-fatfooter", "#ff", "#fw-banner", "#framework-column-left", ".nn11v1", "#nn08v1", "#fw-utility"]
};
cdc.util.linkreplacement_object = [
{
    "currentSubdomain": "www.cisco.com",
    "sendingRules": [{
        "sendTo": "//wwwin.cisco.com",
        "sendWhen": cdc.util.linkreplacement_genericrules['CECPaths'],
        "matchWithin": cdc.util.linkreplacement_genericrules['matchWithin']
    }, {
        "sendTo": "//support.cisco.com",
        "sendWhen": ["/support"],
        "matchWithin": cdc.util.linkreplacement_genericrules['matchWithin']
    }]
}, {
    "currentSubdomain": "wwwin.cisco.com",
    "sendingRules": [{
        "sendTo": "https://www.cisco.com",
        "sendWhen": cdc.util.linkreplacement_genericrules['CDCPaths'],
        "matchWithin": cdc.util.linkreplacement_genericrules['matchWithin']
    }, {
        "sendTo": "//support.cisco.com",
        "sendWhen": ["/support"],
        "matchWithin": cdc.util.linkreplacement_genericrules['matchWithin']
    }, {
        "sendTo": "https://www.cisco.com",
        "sendWhen": ["/c/dam/global"], // megamenu content
        "matchWithin": cdc.util.linkreplacement_genericrules['matchWithin']
    }]
}, {
    "currentSubdomain": "garlic.cisco.com",
    "sendingRules": [{
        "sendTo": "//wwwin.cisco.com",
        "sendWhen": cdc.util.linkreplacement_genericrules['CECPaths'],
        "matchWithin": cdc.util.linkreplacement_genericrules['matchWithin']
    }, {
        "sendTo": "https://www.cisco.com",
        "sendWhen": cdc.util.linkreplacement_genericrules['CDCPaths'],
        "matchWithin": cdc.util.linkreplacement_genericrules['matchWithin']
    }, {
        "sendTo": "https://www.cisco.com",
        "sendWhen": ["/c/dam/global"], // megamenu content
        "matchWithin": cdc.util.linkreplacement_genericrules['matchWithin']
    }, {
        "sendTo": "//support.cisco.com",
        "sendWhen": ["/support"],
        "matchWithin": cdc.util.linkreplacement_genericrules['matchWithin']
    }]
}, {
    "currentSubdomain": "www-stage.cisco.com",
    "sendingRules": [{
        "sendTo": "//wwwin-stage.cisco.com",
        "sendWhen": cdc.util.linkreplacement_genericrules['CECPaths'],
        "matchWithin": cdc.util.linkreplacement_genericrules['matchWithin']
    }]
},{
    "currentSubdomain": "wwwin-stage.cisco.com",
    "sendingRules": [{
        "sendTo": "//www-stage.cisco.com",
        "sendWhen": cdc.util.linkreplacement_genericrules['CDCPaths'],
        "matchWithin": cdc.util.linkreplacement_genericrules['matchWithin']
    }, {
        "sendTo": "//fdk-stage.cisco.com",
        "sendWhen": ["/c/dam/global"], // megamenu content
        "matchWithin": cdc.util.linkreplacement_genericrules['matchWithin']
    }]
},{
    "currentSubdomain": "www-dev.cisco.com",
    "sendingRules": [{
        "sendTo": "//wwwin-fdk-devint.cisco.com",
        "sendWhen": cdc.util.linkreplacement_genericrules['CECPaths'],
        "matchWithin": cdc.util.linkreplacement_genericrules['matchWithin']
    }]
},{
    "currentSubdomain": "wwwin-dev.cisco.com",
    "sendingRules": [{
        "sendTo": "//fdk-devint.cisco.com",
        "sendWhen": cdc.util.linkreplacement_genericrules['CDCPaths'],
        "matchWithin": cdc.util.linkreplacement_genericrules['matchWithin']
    }, {
        "sendTo": "//fdk-devint.cisco.com",
        "sendWhen": ["/c/dam/global"], // megamenu content
        "matchWithin": cdc.util.linkreplacement_genericrules['matchWithin']
    }]
},{
    "currentSubdomain": "fdk-devint.cisco.com",
    "sendingRules": [{
        "sendTo": "//wwwin-fdk-devint.cisco.com",
        "sendWhen": cdc.util.linkreplacement_genericrules['CECPaths'],
        "matchWithin": cdc.util.linkreplacement_genericrules['matchWithin']
    }]
},{
    "currentSubdomain": "wwwin-fdk-devint.cisco.com",
    "sendingRules": [{
        "sendTo": "//fdk-devint.cisco.com",
        "sendWhen": cdc.util.linkreplacement_genericrules['CDCPaths'],
        "matchWithin": cdc.util.linkreplacement_genericrules['matchWithin']
    }, {
        "sendTo": "//fdk-devint.cisco.com",
        "sendWhen": ["/c/dam/global"], // megamenu content
        "matchWithin": cdc.util.linkreplacement_genericrules['matchWithin']
    }]
},{
    "currentSubdomain": "www-fdk-pstage.cisco.com",
    "sendingRules": [{
        "sendTo": "//wwwin-fdk-stage.cisco.com",
        "sendWhen": cdc.util.linkreplacement_genericrules['CECPaths'],
        "matchWithin": cdc.util.linkreplacement_genericrules['matchWithin']
    }]
},{
    "currentSubdomain": "www-fdk-stage.cisco.com",
    "sendingRules": [{
        "sendTo": "//wwwin-fdk-stage.cisco.com",
        "sendWhen": cdc.util.linkreplacement_genericrules['CECPaths'],
        "matchWithin": cdc.util.linkreplacement_genericrules['matchWithin']
    }]
},{
    "currentSubdomain": "wwwin-fdk-stage.cisco.com",
    "sendingRules": [{
        "sendTo": "//www-fdk-stage.cisco.com",
        "sendWhen": cdc.util.linkreplacement_genericrules['CDCPaths'],
        "matchWithin": cdc.util.linkreplacement_genericrules['matchWithin']
    }, {
        "sendTo": "//www-fdk-stage.cisco.com",
        "sendWhen": ["/c/dam/global"], // megamenu content
        "matchWithin": cdc.util.linkreplacement_genericrules['matchWithin']
    }]
},{
    "currentSubdomain": "www-fdk-lt.cisco.com",
    "sendingRules": [{
        "sendTo": "//wwwin-fdk-lt.cisco.com",
        "sendWhen": cdc.util.linkreplacement_genericrules['CECPaths'],
        "matchWithin": cdc.util.linkreplacement_genericrules['matchWithin']
    }]
},{
    "currentSubdomain": "wwwin-fdk-lt.cisco.com",
    "sendingRules": [{
        "sendTo": "//www-fdk-lt.cisco.com",
        "sendWhen": cdc.util.linkreplacement_genericrules['CDCPaths'],
        "matchWithin": cdc.util.linkreplacement_genericrules['matchWithin']
    }, {
        "sendTo": "//www-fdk-lt.cisco.com",
        "sendWhen": ["/c/dam/global"], // megamenu content
        "matchWithin": cdc.util.linkreplacement_genericrules['matchWithin']
    }]
}

]; // End linkreplacement_object array..

jQuery(window).ready(function () {
    if (cdc.debug) { cdc.util.wwwin_subdomain(cdc.util.linkreplacement_object); }
});
/** vim: et:ts=4:sw=4:sts=4
 * @license RequireJS 2.2.0 Copyright jQuery Foundation and other contributors.
 * Released under MIT license, http://github.com/requirejs/requirejs/LICENSE
 */
//Not using strict: uneven strict support in browsers, #392, and causes
//problems with requirejs.exec()/transpiler plugins that may not be strict.
/*jslint regexp: true, nomen: true, sloppy: true */
/*global window, navigator, document, importScripts, setTimeout, opera */

var ID_requirejs, ID_require, ID_define;
(function (global) {
    var req, s, head, baseElement, dataMain, src,
        interactiveScript, currentlyAddingScript, mainScript, subPath,
        version = '2.2.0',
        commentRegExp = /(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/mg,
        cjsRequireRegExp = /[^.]\s*ID_require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,
        jsSuffixRegExp = /\.js$/,
        currDirRegExp = /^\.\//,
        op = Object.prototype,
        ostring = op.toString,
        hasOwn = op.hasOwnProperty,
        isBrowser = !!(typeof window !== 'undefined' && typeof navigator !== 'undefined' && window.document),
        isWebWorker = !isBrowser && typeof importScripts !== 'undefined',
        //PS3 indicates loaded and complete, but need to wait for complete
        //specifically. Sequence is 'loading', 'loaded', execution,
        // then 'complete'. The UA check is unfortunate, but not sure how
        //to feature test w/o causing perf issues.
        readyRegExp = isBrowser && navigator.platform === 'PLAYSTATION 3' ?
                      /^complete$/ : /^(complete|loaded)$/,
        defContextName = '_',
        //Oh the tragedy, detecting opera. See the usage of isOpera for reason.
        isOpera = typeof opera !== 'undefined' && opera.toString() === '[object Opera]',
        contexts = {},
        cfg = {},
        globalDefQueue = [],
        useInteractive = false;

    //Could match something like ')//comment', do not lose the prefix to comment.
    function commentReplace(match, multi, multiText, singlePrefix) {
        return singlePrefix || '';
    }

    function isFunction(it) {
        return ostring.call(it) === '[object Function]';
    }

    function isArray(it) {
        return ostring.call(it) === '[object Array]';
    }

    /**
     * Helper function for iterating over an array. If the func returns
     * a true value, it will break out of the loop.
     */
    function each(ary, func) {
        if (ary) {
            var i;
            for (i = 0; i < ary.length; i += 1) {
                if (ary[i] && func(ary[i], i, ary)) {
                    break;
                }
            }
        }
    }

    /**
     * Helper function for iterating over an array backwards. If the func
     * returns a true value, it will break out of the loop.
     */
    function eachReverse(ary, func) {
        if (ary) {
            var i;
            for (i = ary.length - 1; i > -1; i -= 1) {
                if (ary[i] && func(ary[i], i, ary)) {
                    break;
                }
            }
        }
    }

    function hasProp(obj, prop) {
        return hasOwn.call(obj, prop);
    }

    function getOwn(obj, prop) {
        return hasProp(obj, prop) && obj[prop];
    }

    /**
     * Cycles over properties in an object and calls a function for each
     * property value. If the function returns a truthy value, then the
     * iteration is stopped.
     */
    function eachProp(obj, func) {
        var prop;
        for (prop in obj) {
            if (hasProp(obj, prop)) {
                if (func(obj[prop], prop)) {
                    break;
                }
            }
        }
    }

    /**
     * Simple function to mix in properties from source into target,
     * but only if target does not already have a property of the same name.
     */
    function mixin(target, source, force, deepStringMixin) {
        if (source) {
            eachProp(source, function (value, prop) {
                if (force || !hasProp(target, prop)) {
                    if (deepStringMixin && typeof value === 'object' && value &&
                        !isArray(value) && !isFunction(value) &&
                        !(value instanceof RegExp)) {

                        if (!target[prop]) {
                            target[prop] = {};
                        }
                        mixin(target[prop], value, force, deepStringMixin);
                    } else {
                        target[prop] = value;
                    }
                }
            });
        }
        return target;
    }

    //Similar to Function.prototype.bind, but the 'this' object is specified
    //first, since it is easier to read/figure out what 'this' will be.
    function bind(obj, fn) {
        return function () {
            return fn.apply(obj, arguments);
        };
    }

    function scripts() {
        return document.getElementsByTagName('script');
    }

    function defaultOnError(err) {
        throw err;
    }

    //Allow getting a global that is expressed in
    //dot notation, like 'a.b.c'.
    function getGlobal(value) {
        if (!value) {
            return value;
        }
        var g = global;
        each(value.split('.'), function (part) {
            g = g[part];
        });
        return g;
    }

    /**
     * Constructs an error with a pointer to an URL with more information.
     * @param {String} id the error ID that maps to an ID on a web page.
     * @param {String} message human readable error.
     * @param {Error} [err] the original error, if there is one.
     *
     * @returns {Error}
     */
    function makeError(id, msg, err, requireModules) {
        var e = new Error(msg + '\nhttp://requirejs.org/docs/errors.html#' + id);
        e.requireType = id;
        e.requireModules = requireModules;
        if (err) {
            e.originalError = err;
        }
        return e;
    }

    if (typeof ID_define !== 'undefined') {
        //If a define is already in play via another AMD loader,
        //do not overwrite.
        return;
    }

    if (typeof ID_requirejs !== 'undefined') {
        if (isFunction(ID_requirejs)) {
            //Do not overwrite an existing requirejs instance.
            return;
        }
        cfg = ID_requirejs;
        ID_requirejs = undefined;
    }

    //Allow for a require config object
    if (typeof ID_require !== 'undefined' && !isFunction(ID_require)) {
        //assume it is a config object.
        cfg = ID_require;
        ID_require = undefined;
    }

    function newContext(contextName) {
        var inCheckLoaded, Module, context, handlers,
            checkLoadedTimeoutId,
            config = {
                //Defaults. Do not set a default for map
                //config to speed up normalize(), which
                //will run faster if there is no default.
                waitSeconds: 7,
                baseUrl: './',
                paths: {},
                bundles: {},
                pkgs: {},
                shim: {},
                config: {}
            },
            registry = {},
            //registry of just enabled modules, to speed
            //cycle breaking code when lots of modules
            //are registered, but not activated.
            enabledRegistry = {},
            undefEvents = {},
            defQueue = [],
            defined = {},
            urlFetched = {},
            bundlesMap = {},
            requireCounter = 1,
            unnormalizedCounter = 1;

        /**
         * Trims the . and .. from an array of path segments.
         * It will keep a leading path segment if a .. will become
         * the first path segment, to help with module name lookups,
         * which act like paths, but can be remapped. But the end result,
         * all paths that use this function should look normalized.
         * NOTE: this method MODIFIES the input array.
         * @param {Array} ary the array of path segments.
         */
        function trimDots(ary) {
            var i, part;
            for (i = 0; i < ary.length; i++) {
                part = ary[i];
                if (part === '.') {
                    ary.splice(i, 1);
                    i -= 1;
                } else if (part === '..') {
                    // If at the start, or previous value is still ..,
                    // keep them so that when converted to a path it may
                    // still work when converted to a path, even though
                    // as an ID it is less than ideal. In larger point
                    // releases, may be better to just kick out an error.
                    if (i === 0 || (i === 1 && ary[2] === '..') || ary[i - 1] === '..') {
                        continue;
                    } else if (i > 0) {
                        ary.splice(i - 1, 2);
                        i -= 2;
                    }
                }
            }
        }

        /**
         * Given a relative module name, like ./something, normalize it to
         * a real name that can be mapped to a path.
         * @param {String} name the relative name
         * @param {String} baseName a real name that the name arg is relative
         * to.
         * @param {Boolean} applyMap apply the map config to the value. Should
         * only be done if this normalization is for a dependency ID.
         * @returns {String} normalized name
         */
        function normalize(name, baseName, applyMap) {
            var pkgMain, mapValue, nameParts, i, j, nameSegment, lastIndex,
                foundMap, foundI, foundStarMap, starI, normalizedBaseParts,
                baseParts = (baseName && baseName.split('/')),
                map = config.map,
                starMap = map && map['*'];

            //Adjust any relative paths.
            if (name) {
                name = name.split('/');
                lastIndex = name.length - 1;

                // If wanting node ID compatibility, strip .js from end
                // of IDs. Have to do this here, and not in nameToUrl
                // because node allows either .js or non .js to map
                // to same file.
                if (config.nodeIdCompat && jsSuffixRegExp.test(name[lastIndex])) {
                    name[lastIndex] = name[lastIndex].replace(jsSuffixRegExp, '');
                }

                // Starts with a '.' so need the baseName
                if (name[0].charAt(0) === '.' && baseParts) {
                    //Convert baseName to array, and lop off the last part,
                    //so that . matches that 'directory' and not name of the baseName's
                    //module. For instance, baseName of 'one/two/three', maps to
                    //'one/two/three.js', but we want the directory, 'one/two' for
                    //this normalization.
                    normalizedBaseParts = baseParts.slice(0, baseParts.length - 1);
                    name = normalizedBaseParts.concat(name);
                }

                trimDots(name);
                name = name.join('/');
            }

            //Apply map config if available.
            if (applyMap && map && (baseParts || starMap)) {
                nameParts = name.split('/');

                outerLoop: for (i = nameParts.length; i > 0; i -= 1) {
                    nameSegment = nameParts.slice(0, i).join('/');

                    if (baseParts) {
                        //Find the longest baseName segment match in the config.
                        //So, do joins on the biggest to smallest lengths of baseParts.
                        for (j = baseParts.length; j > 0; j -= 1) {
                            mapValue = getOwn(map, baseParts.slice(0, j).join('/'));

                            //baseName segment has config, find if it has one for
                            //this name.
                            if (mapValue) {
                                mapValue = getOwn(mapValue, nameSegment);
                                if (mapValue) {
                                    //Match, update name to the new value.
                                    foundMap = mapValue;
                                    foundI = i;
                                    break outerLoop;
                                }
                            }
                        }
                    }

                    //Check for a star map match, but just hold on to it,
                    //if there is a shorter segment match later in a matching
                    //config, then favor over this star map.
                    if (!foundStarMap && starMap && getOwn(starMap, nameSegment)) {
                        foundStarMap = getOwn(starMap, nameSegment);
                        starI = i;
                    }
                }

                if (!foundMap && foundStarMap) {
                    foundMap = foundStarMap;
                    foundI = starI;
                }

                if (foundMap) {
                    nameParts.splice(0, foundI, foundMap);
                    name = nameParts.join('/');
                }
            }

            // If the name points to a package's name, use
            // the package main instead.
            pkgMain = getOwn(config.pkgs, name);

            return pkgMain ? pkgMain : name;
        }

        function removeScript(name) {
            if (isBrowser) {
                each(scripts(), function (scriptNode) {
                    if (scriptNode.getAttribute('data-requiremodule') === name &&
                            scriptNode.getAttribute('data-requirecontext') === context.contextName) {
                        scriptNode.parentNode.removeChild(scriptNode);
                        return true;
                    }
                });
            }
        }

        function hasPathFallback(id) {
            var pathConfig = getOwn(config.paths, id);
            if (pathConfig && isArray(pathConfig) && pathConfig.length > 1) {
                //Pop off the first array value, since it failed, and
                //retry
                pathConfig.shift();
                context.ID_require.undef(id);

                //Custom require that does not do map translation, since
                //ID is "absolute", already mapped/resolved.
                context.makeRequire(null, {
                    skipMap: true
                })([id]);

                return true;
            }
        }

        //Turns a plugin!resource to [plugin, resource]
        //with the plugin being undefined if the name
        //did not have a plugin prefix.
        function splitPrefix(name) {
            var prefix,
                index = name ? name.indexOf('!') : -1;
            if (index > -1) {
                prefix = name.substring(0, index);
                name = name.substring(index + 1, name.length);
            }
            return [prefix, name];
        }

        /**
         * Creates a module mapping that includes plugin prefix, module
         * name, and path. If parentModuleMap is provided it will
         * also normalize the name via require.normalize()
         *
         * @param {String} name the module name
         * @param {String} [parentModuleMap] parent module map
         * for the module name, used to resolve relative names.
         * @param {Boolean} isNormalized: is the ID already normalized.
         * This is true if this call is done for a define() module ID.
         * @param {Boolean} applyMap: apply the map config to the ID.
         * Should only be true if this map is for a dependency.
         *
         * @returns {Object}
         */
        function makeModuleMap(name, parentModuleMap, isNormalized, applyMap) {
            var url, pluginModule, suffix, nameParts,
                prefix = null,
                parentName = parentModuleMap ? parentModuleMap.name : null,
                originalName = name,
                isDefine = true,
                normalizedName = '';

            //If no name, then it means it is a require call, generate an
            //internal name.
            if (!name) {
                isDefine = false;
                name = '_@r' + (requireCounter += 1);
            }

            nameParts = splitPrefix(name);
            prefix = nameParts[0];
            name = nameParts[1];

            if (prefix) {
                prefix = normalize(prefix, parentName, applyMap);
                pluginModule = getOwn(defined, prefix);
            }

            //Account for relative paths if there is a base name.
            if (name) {
                if (prefix) {
                    if (pluginModule && pluginModule.normalize) {
                        //Plugin is loaded, use its normalize method.
                        normalizedName = pluginModule.normalize(name, function (name) {
                            return normalize(name, parentName, applyMap);
                        });
                    } else {
                        // If nested plugin references, then do not try to
                        // normalize, as it will not normalize correctly. This
                        // places a restriction on resourceIds, and the longer
                        // term solution is not to normalize until plugins are
                        // loaded and all normalizations to allow for async
                        // loading of a loader plugin. But for now, fixes the
                        // common uses. Details in #1131
                        normalizedName = name.indexOf('!') === -1 ?
                                         normalize(name, parentName, applyMap) :
                                         name;
                    }
                } else {
                    //A regular module.
                    normalizedName = normalize(name, parentName, applyMap);

                    //Normalized name may be a plugin ID due to map config
                    //application in normalize. The map config values must
                    //already be normalized, so do not need to redo that part.
                    nameParts = splitPrefix(normalizedName);
                    prefix = nameParts[0];
                    normalizedName = nameParts[1];
                    isNormalized = true;

                    url = context.nameToUrl(normalizedName);
                }
            }

            //If the id is a plugin id that cannot be determined if it needs
            //normalization, stamp it with a unique ID so two matching relative
            //ids that may conflict can be separate.
            suffix = prefix && !pluginModule && !isNormalized ?
                     '_unnormalized' + (unnormalizedCounter += 1) :
                     '';

            return {
                prefix: prefix,
                name: normalizedName,
                parentMap: parentModuleMap,
                unnormalized: !!suffix,
                url: url,
                originalName: originalName,
                isDefine: isDefine,
                id: (prefix ?
                        prefix + '!' + normalizedName :
                        normalizedName) + suffix
            };
        }

        function getModule(depMap) {
            var id = depMap.id,
                mod = getOwn(registry, id);

            if (!mod) {
                mod = registry[id] = new context.Module(depMap);
            }

            return mod;
        }

        function on(depMap, name, fn) {
            var id = depMap.id,
                mod = getOwn(registry, id);

            if (hasProp(defined, id) &&
                    (!mod || mod.defineEmitComplete)) {
                if (name === 'defined') {
                    fn(defined[id]);
                }
            } else {
                mod = getModule(depMap);
                if (mod.error && name === 'error') {
                    fn(mod.error);
                } else {
                    mod.on(name, fn);
                }
            }
        }

        function onError(err, errback) {
            var ids = err.requireModules,
                notified = false;

            if (errback) {
                errback(err);
            } else {
                each(ids, function (id) {
                    var mod = getOwn(registry, id);
                    if (mod) {
                        //Set error on module, so it skips timeout checks.
                        mod.error = err;
                        if (mod.events.error) {
                            notified = true;
                            mod.emit('error', err);
                        }
                    }
                });

                if (!notified) {
                    req.onError(err);
                }
            }
        }

        /**
         * Internal method to transfer globalQueue items to this context's
         * defQueue.
         */
        function takeGlobalQueue() {
            //Push all the globalDefQueue items into the context's defQueue
            if (globalDefQueue.length) {
                each(globalDefQueue, function(queueItem) {
                    var id = queueItem[0];
                    if (typeof id === 'string') {
                        context.defQueueMap[id] = true;
                    }
                    defQueue.push(queueItem);
                });
                globalDefQueue = [];
            }
        }

        handlers = {
            'ID_require': function (mod) {
                if (mod.ID_require) {
                    return mod.ID_require;
                } else {
                    return (mod.ID_require = context.makeRequire(mod.map));
                }
            },
            'exports': function (mod) {
                mod.usingExports = true;
                if (mod.map.isDefine) {
                    if (mod.exports) {
                        return (defined[mod.map.id] = mod.exports);
                    } else {
                        return (mod.exports = defined[mod.map.id] = {});
                    }
                }
            },
            'module': function (mod) {
                if (mod.module) {
                    return mod.module;
                } else {
                    return (mod.module = {
                        id: mod.map.id,
                        uri: mod.map.url,
                        config: function () {
                            return getOwn(config.config, mod.map.id) || {};
                        },
                        exports: mod.exports || (mod.exports = {})
                    });
                }
            }
        };

        function cleanRegistry(id) {
            //Clean up machinery used for waiting modules.
            delete registry[id];
            delete enabledRegistry[id];
        }

        function breakCycle(mod, traced, processed) {
            var id = mod.map.id;

            if (mod.error) {
                mod.emit('error', mod.error);
            } else {
                traced[id] = true;
                each(mod.depMaps, function (depMap, i) {
                    var depId = depMap.id,
                        dep = getOwn(registry, depId);

                    //Only force things that have not completed
                    //being defined, so still in the registry,
                    //and only if it has not been matched up
                    //in the module already.
                    if (dep && !mod.depMatched[i] && !processed[depId]) {
                        if (getOwn(traced, depId)) {
                            mod.defineDep(i, defined[depId]);
                            mod.check(); //pass false?
                        } else {
                            breakCycle(dep, traced, processed);
                        }
                    }
                });
                processed[id] = true;
            }
        }

        function checkLoaded() {
            var err, usingPathFallback,
                waitInterval = config.waitSeconds * 1000,
                //It is possible to disable the wait interval by using waitSeconds of 0.
                expired = waitInterval && (context.startTime + waitInterval) < new Date().getTime(),
                noLoads = [],
                reqCalls = [],
                stillLoading = false,
                needCycleCheck = true;

            //Do not bother if this call was a result of a cycle break.
            if (inCheckLoaded) {
                return;
            }

            inCheckLoaded = true;

            //Figure out the state of all the modules.
            eachProp(enabledRegistry, function (mod) {
                var map = mod.map,
                    modId = map.id;

                //Skip things that are not enabled or in error state.
                if (!mod.enabled) {
                    return;
                }

                if (!map.isDefine) {
                    reqCalls.push(mod);
                }

                if (!mod.error) {
                    //If the module should be executed, and it has not
                    //been inited and time is up, remember it.
                    if (!mod.inited && expired) {
                        if (hasPathFallback(modId)) {
                            usingPathFallback = true;
                            stillLoading = true;
                        } else {
                            noLoads.push(modId);
                            removeScript(modId);
                        }
                    } else if (!mod.inited && mod.fetched && map.isDefine) {
                        stillLoading = true;
                        if (!map.prefix) {
                            //No reason to keep looking for unfinished
                            //loading. If the only stillLoading is a
                            //plugin resource though, keep going,
                            //because it may be that a plugin resource
                            //is waiting on a non-plugin cycle.
                            return (needCycleCheck = false);
                        }
                    }
                }
            });

            if (expired && noLoads.length) {
                //If wait time expired, throw error of unloaded modules.
                err = makeError('timeout', 'Load timeout for modules: ' + noLoads, null, noLoads);
                err.contextName = context.contextName;
                return onError(err);
            }

            //Not expired, check for a cycle.
            if (needCycleCheck) {
                each(reqCalls, function (mod) {
                    breakCycle(mod, {}, {});
                });
            }

            //If still waiting on loads, and the waiting load is something
            //other than a plugin resource, or there are still outstanding
            //scripts, then just try back later.
            if ((!expired || usingPathFallback) && stillLoading) {
                //Something is still waiting to load. Wait for it, but only
                //if a timeout is not already in effect.
                if ((isBrowser || isWebWorker) && !checkLoadedTimeoutId) {
                    checkLoadedTimeoutId = setTimeout(function () {
                        checkLoadedTimeoutId = 0;
                        checkLoaded();
                    }, 50);
                }
            }

            inCheckLoaded = false;
        }

        Module = function (map) {
            this.events = getOwn(undefEvents, map.id) || {};
            this.map = map;
            this.shim = getOwn(config.shim, map.id);
            this.depExports = [];
            this.depMaps = [];
            this.depMatched = [];
            this.pluginMaps = {};
            this.depCount = 0;

            /* this.exports this.factory
               this.depMaps = [],
               this.enabled, this.fetched
            */
        };

        Module.prototype = {
            init: function (depMaps, factory, errback, options) {
                options = options || {};

                //Do not do more inits if already done. Can happen if there
                //are multiple define calls for the same module. That is not
                //a normal, common case, but it is also not unexpected.
                if (this.inited) {
                    return;
                }

                this.factory = factory;

                if (errback) {
                    //Register for errors on this module.
                    this.on('error', errback);
                } else if (this.events.error) {
                    //If no errback already, but there are error listeners
                    //on this module, set up an errback to pass to the deps.
                    errback = bind(this, function (err) {
                        this.emit('error', err);
                    });
                }

                //Do a copy of the dependency array, so that
                //source inputs are not modified. For example
                //"shim" deps are passed in here directly, and
                //doing a direct modification of the depMaps array
                //would affect that config.
                this.depMaps = depMaps && depMaps.slice(0);

                this.errback = errback;

                //Indicate this module has be initialized
                this.inited = true;

                this.ignore = options.ignore;

                //Could have option to init this module in enabled mode,
                //or could have been previously marked as enabled. However,
                //the dependencies are not known until init is called. So
                //if enabled previously, now trigger dependencies as enabled.
                if (options.enabled || this.enabled) {
                    //Enable this module and dependencies.
                    //Will call this.check()
                    this.enable();
                } else {
                    this.check();
                }
            },

            defineDep: function (i, depExports) {
                //Because of cycles, defined callback for a given
                //export can be called more than once.
                if (!this.depMatched[i]) {
                    this.depMatched[i] = true;
                    this.depCount -= 1;
                    this.depExports[i] = depExports;
                }
            },

            fetch: function () {
                if (this.fetched) {
                    return;
                }
                this.fetched = true;

                context.startTime = (new Date()).getTime();

                var map = this.map;

                //If the manager is for a plugin managed resource,
                //ask the plugin to load it now.
                if (this.shim) {
                    context.makeRequire(this.map, {
                        enableBuildCallback: true
                    })(this.shim.deps || [], bind(this, function () {
                        return map.prefix ? this.callPlugin() : this.load();
                    }));
                } else {
                    //Regular dependency.
                    return map.prefix ? this.callPlugin() : this.load();
                }
            },

            load: function () {
                var url = this.map.url;

                //Regular dependency.
                if (!urlFetched[url]) {
                    urlFetched[url] = true;
                    context.load(this.map.id, url);
                }
            },

            /**
             * Checks if the module is ready to define itself, and if so,
             * define it.
             */
            check: function () {
                if (!this.enabled || this.enabling) {
                    return;
                }

                var err, cjsModule,
                    id = this.map.id,
                    depExports = this.depExports,
                    exports = this.exports,
                    factory = this.factory;

                if (!this.inited) {
                    // Only fetch if not already in the defQueue.
                    if (!hasProp(context.defQueueMap, id)) {
                        this.fetch();
                    }
                } else if (this.error) {
                    this.emit('error', this.error);
                } else if (!this.defining) {
                    //The factory could trigger another require call
                    //that would result in checking this module to
                    //define itself again. If already in the process
                    //of doing that, skip this work.
                    this.defining = true;

                    if (this.depCount < 1 && !this.defined) {
                        if (isFunction(factory)) {
                            //If there is an error listener, favor passing
                            //to that instead of throwing an error. However,
                            //only do it for define()'d  modules. require
                            //errbacks should not be called for failures in
                            //their callbacks (#699). However if a global
                            //onError is set, use that.
                            if ((this.events.error && this.map.isDefine) ||
                                req.onError !== defaultOnError) {
                                try {
                                    exports = context.execCb(id, factory, depExports, exports);
                                } catch (e) {
                                    err = e;
                                }
                            } else {
                                exports = context.execCb(id, factory, depExports, exports);
                            }

                            // Favor return value over exports. If node/cjs in play,
                            // then will not have a return value anyway. Favor
                            // module.exports assignment over exports object.
                            if (this.map.isDefine && exports === undefined) {
                                cjsModule = this.module;
                                if (cjsModule) {
                                    exports = cjsModule.exports;
                                } else if (this.usingExports) {
                                    //exports already set the defined value.
                                    exports = this.exports;
                                }
                            }

                            if (err) {
                                err.requireMap = this.map;
                                err.requireModules = this.map.isDefine ? [this.map.id] : null;
                                err.requireType = this.map.isDefine ? 'ID_define' : 'ID_require';
                                return onError((this.error = err));
                            }

                        } else {
                            //Just a literal value
                            exports = factory;
                        }

                        this.exports = exports;

                        if (this.map.isDefine && !this.ignore) {
                            defined[id] = exports;

                            if (req.onResourceLoad) {
                                var resLoadMaps = [];
                                each(this.depMaps, function (depMap) {
                                    resLoadMaps.push(depMap.normalizedMap || depMap);
                                });
                                req.onResourceLoad(context, this.map, resLoadMaps);
                            }
                        }

                        //Clean up
                        cleanRegistry(id);

                        this.defined = true;
                    }

                    //Finished the define stage. Allow calling check again
                    //to allow define notifications below in the case of a
                    //cycle.
                    this.defining = false;

                    if (this.defined && !this.defineEmitted) {
                        this.defineEmitted = true;
                        this.emit('defined', this.exports);
                        this.defineEmitComplete = true;
                    }

                }
            },

            callPlugin: function () {
                var map = this.map,
                    id = map.id,
                    //Map already normalized the prefix.
                    pluginMap = makeModuleMap(map.prefix);

                //Mark this as a dependency for this plugin, so it
                //can be traced for cycles.
                this.depMaps.push(pluginMap);

                on(pluginMap, 'defined', bind(this, function (plugin) {
                    var load, normalizedMap, normalizedMod,
                        bundleId = getOwn(bundlesMap, this.map.id),
                        name = this.map.name,
                        parentName = this.map.parentMap ? this.map.parentMap.name : null,
                        localRequire = context.makeRequire(map.parentMap, {
                            enableBuildCallback: true
                        });

                    //If current map is not normalized, wait for that
                    //normalized name to load instead of continuing.
                    if (this.map.unnormalized) {
                        //Normalize the ID if the plugin allows it.
                        if (plugin.normalize) {
                            name = plugin.normalize(name, function (name) {
                                return normalize(name, parentName, true);
                            }) || '';
                        }

                        //prefix and name should already be normalized, no need
                        //for applying map config again either.
                        normalizedMap = makeModuleMap(map.prefix + '!' + name,
                                                      this.map.parentMap);
                        on(normalizedMap,
                            'defined', bind(this, function (value) {
                                this.map.normalizedMap = normalizedMap;
                                this.init([], function () { return value; }, null, {
                                    enabled: true,
                                    ignore: true
                                });
                            }));

                        normalizedMod = getOwn(registry, normalizedMap.id);
                        if (normalizedMod) {
                            //Mark this as a dependency for this plugin, so it
                            //can be traced for cycles.
                            this.depMaps.push(normalizedMap);

                            if (this.events.error) {
                                normalizedMod.on('error', bind(this, function (err) {
                                    this.emit('error', err);
                                }));
                            }
                            normalizedMod.enable();
                        }

                        return;
                    }

                    //If a paths config, then just load that file instead to
                    //resolve the plugin, as it is built into that paths layer.
                    if (bundleId) {
                        this.map.url = context.nameToUrl(bundleId);
                        this.load();
                        return;
                    }

                    load = bind(this, function (value) {
                        this.init([], function () { return value; }, null, {
                            enabled: true
                        });
                    });

                    load.error = bind(this, function (err) {
                        this.inited = true;
                        this.error = err;
                        err.requireModules = [id];

                        //Remove temp unnormalized modules for this module,
                        //since they will never be resolved otherwise now.
                        eachProp(registry, function (mod) {
                            if (mod.map.id.indexOf(id + '_unnormalized') === 0) {
                                cleanRegistry(mod.map.id);
                            }
                        });

                        onError(err);
                    });

                    //Allow plugins to load other code without having to know the
                    //context or how to 'complete' the load.
                    load.fromText = bind(this, function (text, textAlt) {
                        /*jslint evil: true */
                        var moduleName = map.name,
                            moduleMap = makeModuleMap(moduleName),
                            hasInteractive = useInteractive;

                        //As of 2.1.0, support just passing the text, to reinforce
                        //fromText only being called once per resource. Still
                        //support old style of passing moduleName but discard
                        //that moduleName in favor of the internal ref.
                        if (textAlt) {
                            text = textAlt;
                        }

                        //Turn off interactive script matching for IE for any define
                        //calls in the text, then turn it back on at the end.
                        if (hasInteractive) {
                            useInteractive = false;
                        }

                        //Prime the system by creating a module instance for
                        //it.
                        getModule(moduleMap);

                        //Transfer any config to this other module.
                        if (hasProp(config.config, id)) {
                            config.config[moduleName] = config.config[id];
                        }

                        try {
                            req.exec(text);
                        } catch (e) {
                            return onError(makeError('fromtexteval',
                                             'fromText eval for ' + id +
                                            ' failed: ' + e,
                                             e,
                                             [id]));
                        }

                        if (hasInteractive) {
                            useInteractive = true;
                        }

                        //Mark this as a dependency for the plugin
                        //resource
                        this.depMaps.push(moduleMap);

                        //Support anonymous modules.
                        context.completeLoad(moduleName);

                        //Bind the value of that module to the value for this
                        //resource ID.
                        localRequire([moduleName], load);
                    });

                    //Use parentName here since the plugin's name is not reliable,
                    //could be some weird string with no path that actually wants to
                    //reference the parentName's path.
                    plugin.load(map.name, localRequire, load, config);
                }));

                context.enable(pluginMap, this);
                this.pluginMaps[pluginMap.id] = pluginMap;
            },

            enable: function () {
                enabledRegistry[this.map.id] = this;
                this.enabled = true;

                //Set flag mentioning that the module is enabling,
                //so that immediate calls to the defined callbacks
                //for dependencies do not trigger inadvertent load
                //with the depCount still being zero.
                this.enabling = true;

                //Enable each dependency
                each(this.depMaps, bind(this, function (depMap, i) {
                    var id, mod, handler;

                    if (typeof depMap === 'string') {
                        //Dependency needs to be converted to a depMap
                        //and wired up to this module.
                        depMap = makeModuleMap(depMap,
                                               (this.map.isDefine ? this.map : this.map.parentMap),
                                               false,
                                               !this.skipMap);
                        this.depMaps[i] = depMap;

                        handler = getOwn(handlers, depMap.id);

                        if (handler) {
                            this.depExports[i] = handler(this);
                            return;
                        }

                        this.depCount += 1;

                        on(depMap, 'defined', bind(this, function (depExports) {
                            if (this.undefed) {
                                return;
                            }
                            this.defineDep(i, depExports);
                            this.check();
                        }));

                        if (this.errback) {
                            on(depMap, 'error', bind(this, this.errback));
                        } else if (this.events.error) {
                            // No direct errback on this module, but something
                            // else is listening for errors, so be sure to
                            // propagate the error correctly.
                            on(depMap, 'error', bind(this, function(err) {
                                this.emit('error', err);
                            }));
                        }
                    }

                    id = depMap.id;
                    mod = registry[id];

                    //Skip special modules like 'require', 'exports', 'module'
                    //Also, don't call enable if it is already enabled,
                    //important in circular dependency cases.
                    if (!hasProp(handlers, id) && mod && !mod.enabled) {
                        context.enable(depMap, this);
                    }
                }));

                //Enable each plugin that is used in
                //a dependency
                eachProp(this.pluginMaps, bind(this, function (pluginMap) {
                    var mod = getOwn(registry, pluginMap.id);
                    if (mod && !mod.enabled) {
                        context.enable(pluginMap, this);
                    }
                }));

                this.enabling = false;

                this.check();
            },

            on: function (name, cb) {
                var cbs = this.events[name];
                if (!cbs) {
                    cbs = this.events[name] = [];
                }
                cbs.push(cb);
            },

            emit: function (name, evt) {
                each(this.events[name], function (cb) {
                    cb(evt);
                });
                if (name === 'error') {
                    //Now that the error handler was triggered, remove
                    //the listeners, since this broken Module instance
                    //can stay around for a while in the registry.
                    delete this.events[name];
                }
            }
        };

        function callGetModule(args) {
            //Skip modules already defined.
            if (!hasProp(defined, args[0])) {
                getModule(makeModuleMap(args[0], null, true)).init(args[1], args[2]);
            }
        }

        function removeListener(node, func, name, ieName) {
            //Favor detachEvent because of IE9
            //issue, see attachEvent/addEventListener comment elsewhere
            //in this file.
            if (node.detachEvent && !isOpera) {
                //Probably IE. If not it will throw an error, which will be
                //useful to know.
                if (ieName) {
                    node.detachEvent(ieName, func);
                }
            } else {
                node.removeEventListener(name, func, false);
            }
        }

        /**
         * Given an event from a script node, get the requirejs info from it,
         * and then removes the event listeners on the node.
         * @param {Event} evt
         * @returns {Object}
         */
        function getScriptData(evt) {
            //Using currentTarget instead of target for Firefox 2.0's sake. Not
            //all old browsers will be supported, but this one was easy enough
            //to support and still makes sense.
            var node = evt.currentTarget || evt.srcElement;

            //Remove the listeners once here.
            removeListener(node, context.onScriptLoad, 'load', 'onreadystatechange');
            removeListener(node, context.onScriptError, 'error');

            return {
                node: node,
                id: node && node.getAttribute('data-requiremodule')
            };
        }

        function intakeDefines() {
            var args;

            //Any defined modules in the global queue, intake them now.
            takeGlobalQueue();

            //Make sure any remaining defQueue items get properly processed.
            while (defQueue.length) {
                args = defQueue.shift();
                if (args[0] === null) {
                    return onError(makeError('mismatch', 'Mismatched anonymous define() module: ' +
                        args[args.length - 1]));
                } else {
                    //args are id, deps, factory. Should be normalized by the
                    //define() function.
                    callGetModule(args);
                }
            }
            context.defQueueMap = {};
        }

        context = {
            config: config,
            contextName: contextName,
            registry: registry,
            defined: defined,
            urlFetched: urlFetched,
            defQueue: defQueue,
            defQueueMap: {},
            Module: Module,
            makeModuleMap: makeModuleMap,
            nextTick: req.nextTick,
            onError: onError,

            /**
             * Set a configuration for the context.
             * @param {Object} cfg config object to integrate.
             */
            configure: function (cfg) {
                //Make sure the baseUrl ends in a slash.
                if (cfg.baseUrl) {
                    if (cfg.baseUrl.charAt(cfg.baseUrl.length - 1) !== '/') {
                        cfg.baseUrl += '/';
                    }
                }

                // Convert old style urlArgs string to a function.
                if (typeof cfg.urlArgs === 'string') {
                    var urlArgs = cfg.urlArgs;
                    cfg.urlArgs = function(id, url) {
                        return (url.indexOf('?') === -1 ? '?' : '&') + urlArgs;
                    };
                }

                //Save off the paths since they require special processing,
                //they are additive.
                var shim = config.shim,
                    objs = {
                        paths: true,
                        bundles: true,
                        config: true,
                        map: true
                    };

                eachProp(cfg, function (value, prop) {
                    if (objs[prop]) {
                        if (!config[prop]) {
                            config[prop] = {};
                        }
                        mixin(config[prop], value, true, true);
                    } else {
                        config[prop] = value;
                    }
                });

                //Reverse map the bundles
                if (cfg.bundles) {
                    eachProp(cfg.bundles, function (value, prop) {
                        each(value, function (v) {
                            if (v !== prop) {
                                bundlesMap[v] = prop;
                            }
                        });
                    });
                }

                //Merge shim
                if (cfg.shim) {
                    eachProp(cfg.shim, function (value, id) {
                        //Normalize the structure
                        if (isArray(value)) {
                            value = {
                                deps: value
                            };
                        }
                        if ((value.exports || value.init) && !value.exportsFn) {
                            value.exportsFn = context.makeShimExports(value);
                        }
                        shim[id] = value;
                    });
                    config.shim = shim;
                }

                //Adjust packages if necessary.
                if (cfg.packages) {
                    each(cfg.packages, function (pkgObj) {
                        var location, name;

                        pkgObj = typeof pkgObj === 'string' ? {name: pkgObj} : pkgObj;

                        name = pkgObj.name;
                        location = pkgObj.location;
                        if (location) {
                            config.paths[name] = pkgObj.location;
                        }

                        //Save pointer to main module ID for pkg name.
                        //Remove leading dot in main, so main paths are normalized,
                        //and remove any trailing .js, since different package
                        //envs have different conventions: some use a module name,
                        //some use a file name.
                        config.pkgs[name] = pkgObj.name + '/' + (pkgObj.main || 'main')
                                     .replace(currDirRegExp, '')
                                     .replace(jsSuffixRegExp, '');
                    });
                }

                //If there are any "waiting to execute" modules in the registry,
                //update the maps for them, since their info, like URLs to load,
                //may have changed.
                eachProp(registry, function (mod, id) {
                    //If module already has init called, since it is too
                    //late to modify them, and ignore unnormalized ones
                    //since they are transient.
                    if (!mod.inited && !mod.map.unnormalized) {
                        mod.map = makeModuleMap(id, null, true);
                    }
                });

                //If a deps array or a config callback is specified, then call
                //require with those args. This is useful when require is defined as a
                //config object before require.js is loaded.
                if (cfg.deps || cfg.callback) {
                    context.ID_require(cfg.deps || [], cfg.callback);
                }
            },

            makeShimExports: function (value) {
                function fn() {
                    var ret;
                    if (value.init) {
                        ret = value.init.apply(global, arguments);
                    }
                    return ret || (value.exports && getGlobal(value.exports));
                }
                return fn;
            },

            makeRequire: function (relMap, options) {
                options = options || {};

                function localRequire(deps, callback, errback) {
                    var id, map, requireMod;

                    if (options.enableBuildCallback && callback && isFunction(callback)) {
                        callback.__requireJsBuild = true;
                    }

                    if (typeof deps === 'string') {
                        if (isFunction(callback)) {
                            //Invalid call
                            return onError(makeError('requireargs', 'Invalid require call'), errback);
                        }

                        //If require|exports|module are requested, get the
                        //value for them from the special handlers. Caveat:
                        //this only works while module is being defined.
                        if (relMap && hasProp(handlers, deps)) {
                            return handlers[deps](registry[relMap.id]);
                        }

                        //Synchronous access to one module. If require.get is
                        //available (as in the Node adapter), prefer that.
                        if (req.get) {
                            return req.get(context, deps, relMap, localRequire);
                        }

                        //Normalize module name, if it contains . or ..
                        map = makeModuleMap(deps, relMap, false, true);
                        id = map.id;

                        if (!hasProp(defined, id)) {
                            return onError(makeError('notloaded', 'Module name "' +
                                        id +
                                        '" has not been loaded yet for context: ' +
                                        contextName +
                                        (relMap ? '' : '. Use require([])')));
                        }
                        return defined[id];
                    }

                    //Grab defines waiting in the global queue.
                    intakeDefines();

                    //Mark all the dependencies as needing to be loaded.
                    context.nextTick(function () {
                        //Some defines could have been added since the
                        //require call, collect them.
                        intakeDefines();

                        requireMod = getModule(makeModuleMap(null, relMap));

                        //Store if map config should be applied to this require
                        //call for dependencies.
                        requireMod.skipMap = options.skipMap;

                        requireMod.init(deps, callback, errback, {
                            enabled: true
                        });

                        checkLoaded();
                    });

                    return localRequire;
                }

                mixin(localRequire, {
                    isBrowser: isBrowser,

                    /**
                     * Converts a module name + .extension into an URL path.
                     * *Requires* the use of a module name. It does not support using
                     * plain URLs like nameToUrl.
                     */
                    toUrl: function (moduleNamePlusExt) {
                        var ext,
                            index = moduleNamePlusExt.lastIndexOf('.'),
                            segment = moduleNamePlusExt.split('/')[0],
                            isRelative = segment === '.' || segment === '..';

                        //Have a file extension alias, and it is not the
                        //dots from a relative path.
                        if (index !== -1 && (!isRelative || index > 1)) {
                            ext = moduleNamePlusExt.substring(index, moduleNamePlusExt.length);
                            moduleNamePlusExt = moduleNamePlusExt.substring(0, index);
                        }

                        return context.nameToUrl(normalize(moduleNamePlusExt,
                                                relMap && relMap.id, true), ext,  true);
                    },

                    defined: function (id) {
                        return hasProp(defined, makeModuleMap(id, relMap, false, true).id);
                    },

                    specified: function (id) {
                        id = makeModuleMap(id, relMap, false, true).id;
                        return hasProp(defined, id) || hasProp(registry, id);
                    }
                });

                //Only allow undef on top level require calls
                if (!relMap) {
                    localRequire.undef = function (id) {
                        //Bind any waiting define() calls to this context,
                        //fix for #408
                        takeGlobalQueue();

                        var map = makeModuleMap(id, relMap, true),
                            mod = getOwn(registry, id);

                        mod.undefed = true;
                        removeScript(id);

                        delete defined[id];
                        delete urlFetched[map.url];
                        delete undefEvents[id];

                        //Clean queued defines too. Go backwards
                        //in array so that the splices do not
                        //mess up the iteration.
                        eachReverse(defQueue, function(args, i) {
                            if (args[0] === id) {
                                defQueue.splice(i, 1);
                            }
                        });
                        delete context.defQueueMap[id];

                        if (mod) {
                            //Hold on to listeners in case the
                            //module will be attempted to be reloaded
                            //using a different config.
                            if (mod.events.defined) {
                                undefEvents[id] = mod.events;
                            }

                            cleanRegistry(id);
                        }
                    };
                }

                return localRequire;
            },

            /**
             * Called to enable a module if it is still in the registry
             * awaiting enablement. A second arg, parent, the parent module,
             * is passed in for context, when this method is overridden by
             * the optimizer. Not shown here to keep code compact.
             */
            enable: function (depMap) {
                var mod = getOwn(registry, depMap.id);
                if (mod) {
                    getModule(depMap).enable();
                }
            },

            /**
             * Internal method used by environment adapters to complete a load event.
             * A load event could be a script load or just a load pass from a synchronous
             * load call.
             * @param {String} moduleName the name of the module to potentially complete.
             */
            completeLoad: function (moduleName) {
                var found, args, mod,
                    shim = getOwn(config.shim, moduleName) || {},
                    shExports = shim.exports;

                takeGlobalQueue();

                while (defQueue.length) {
                    args = defQueue.shift();
                    if (args[0] === null) {
                        args[0] = moduleName;
                        //If already found an anonymous module and bound it
                        //to this name, then this is some other anon module
                        //waiting for its completeLoad to fire.
                        if (found) {
                            break;
                        }
                        found = true;
                    } else if (args[0] === moduleName) {
                        //Found matching define call for this script!
                        found = true;
                    }

                    callGetModule(args);
                }
                context.defQueueMap = {};

                //Do this after the cycle of callGetModule in case the result
                //of those calls/init calls changes the registry.
                mod = getOwn(registry, moduleName);

                if (!found && !hasProp(defined, moduleName) && mod && !mod.inited) {
                    if (config.enforceDefine && (!shExports || !getGlobal(shExports))) {
                        if (hasPathFallback(moduleName)) {
                            return;
                        } else {
                            return onError(makeError('nodefine',
                                             'No define call for ' + moduleName,
                                             null,
                                             [moduleName]));
                        }
                    } else {
                        //A script that does not call define(), so just simulate
                        //the call for it.
                        callGetModule([moduleName, (shim.deps || []), shim.exportsFn]);
                    }
                }

                checkLoaded();
            },

            /**
             * Converts a module name to a file path. Supports cases where
             * moduleName may actually be just an URL.
             * Note that it **does not** call normalize on the moduleName,
             * it is assumed to have already been normalized. This is an
             * internal API, not a public one. Use toUrl for the public API.
             */
            nameToUrl: function (moduleName, ext, skipExt) {
                var paths, syms, i, parentModule, url,
                    parentPath, bundleId,
                    pkgMain = getOwn(config.pkgs, moduleName);

                if (pkgMain) {
                    moduleName = pkgMain;
                }

                bundleId = getOwn(bundlesMap, moduleName);

                if (bundleId) {
                    return context.nameToUrl(bundleId, ext, skipExt);
                }

                //If a colon is in the URL, it indicates a protocol is used and it is just
                //an URL to a file, or if it starts with a slash, contains a query arg (i.e. ?)
                //or ends with .js, then assume the user meant to use an url and not a module id.
                //The slash is important for protocol-less URLs as well as full paths.
                if (req.jsExtRegExp.test(moduleName)) {
                    //Just a plain path, not module name lookup, so just return it.
                    //Add extension if it is included. This is a bit wonky, only non-.js things pass
                    //an extension, this method probably needs to be reworked.
                    url = moduleName + (ext || '');
                } else {
                    //A module that needs to be converted to a path.
                    paths = config.paths;

                    syms = moduleName.split('/');
                    //For each module name segment, see if there is a path
                    //registered for it. Start with most specific name
                    //and work up from it.
                    for (i = syms.length; i > 0; i -= 1) {
                        parentModule = syms.slice(0, i).join('/');

                        parentPath = getOwn(paths, parentModule);
                        if (parentPath) {
                            //If an array, it means there are a few choices,
                            //Choose the one that is desired
                            if (isArray(parentPath)) {
                                parentPath = parentPath[0];
                            }
                            syms.splice(0, i, parentPath);
                            break;
                        }
                    }

                    //Join the path parts together, then figure out if baseUrl is needed.
                    url = syms.join('/');
                    url += (ext || (/^data\:|^blob\:|\?/.test(url) || skipExt ? '' : '.js'));
                    url = (url.charAt(0) === '/' || url.match(/^[\w\+\.\-]+:/) ? '' : config.baseUrl) + url;
                }

                return config.urlArgs && !/^blob\:/.test(url) ?
                       url + config.urlArgs(moduleName, url) : url;
            },

            //Delegates to req.load. Broken out as a separate function to
            //allow overriding in the optimizer.
            load: function (id, url) {
                req.load(context, id, url);
            },

            /**
             * Executes a module callback function. Broken out as a separate function
             * solely to allow the build system to sequence the files in the built
             * layer in the right sequence.
             *
             * @private
             */
            execCb: function (name, callback, args, exports) {
                return callback.apply(exports, args);
            },

            /**
             * callback for script loads, used to check status of loading.
             *
             * @param {Event} evt the event from the browser for the script
             * that was loaded.
             */
            onScriptLoad: function (evt) {
                //Using currentTarget instead of target for Firefox 2.0's sake. Not
                //all old browsers will be supported, but this one was easy enough
                //to support and still makes sense.
                if (evt.type === 'load' ||
                        (readyRegExp.test((evt.currentTarget || evt.srcElement).readyState))) {
                    //Reset interactive script so a script node is not held onto for
                    //to long.
                    interactiveScript = null;

                    //Pull out the name of the module and the context.
                    var data = getScriptData(evt);
                    context.completeLoad(data.id);
                }
            },

            /**
             * Callback for script errors.
             */
            onScriptError: function (evt) {
                var data = getScriptData(evt);
                if (!hasPathFallback(data.id)) {
                    var parents = [];
                    eachProp(registry, function(value, key) {
                        if (key.indexOf('_@r') !== 0) {
                            each(value.depMaps, function(depMap) {
                                if (depMap.id === data.id) {
                                    parents.push(key);
                                    return true;
                                }
                            });
                        }
                    });
                    return onError(makeError('scripterror', 'Script error for "' + data.id +
                                             (parents.length ?
                                             '", needed by: ' + parents.join(', ') :
                                             '"'), evt, [data.id]));
                }
            }
        };

        context.ID_require = context.makeRequire();
        return context;
    }

    /**
     * Main entry point.
     *
     * If the only argument to require is a string, then the module that
     * is represented by that string is fetched for the appropriate context.
     *
     * If the first argument is an array, then it will be treated as an array
     * of dependency string names to fetch. An optional function callback can
     * be specified to execute when all of those dependencies are available.
     *
     * Make a local req variable to help Caja compliance (it assumes things
     * on a require that are not standardized), and to give a short
     * name for minification/local scope use.
     */
    req = ID_requirejs = function (deps, callback, errback, optional) {

        //Find the right context, use default
        var context, config,
            contextName = defContextName;

        // Determine if have config object in the call.
        if (!isArray(deps) && typeof deps !== 'string') {
            // deps is a config object
            config = deps;
            if (isArray(callback)) {
                // Adjust args if there are dependencies
                deps = callback;
                callback = errback;
                errback = optional;
            } else {
                deps = [];
            }
        }

        if (config && config.context) {
            contextName = config.context;
        }

        context = getOwn(contexts, contextName);
        if (!context) {
            context = contexts[contextName] = req.s.newContext(contextName);
        }

        if (config) {
            context.configure(config);
        }

        return context.ID_require(deps, callback, errback);
    };

    /**
     * Support require.config() to make it easier to cooperate with other
     * AMD loaders on globally agreed names.
     */
    req.config = function (config) {
        return req(config);
    };

    /**
     * Execute something after the current tick
     * of the event loop. Override for other envs
     * that have a better solution than setTimeout.
     * @param  {Function} fn function to execute later.
     */
    req.nextTick = typeof setTimeout !== 'undefined' ? function (fn) {
        setTimeout(fn, 4);
    } : function (fn) { fn(); };

    /**
     * Export require as a global, but only if it does not already exist.
     */
    if (!ID_require) {
        ID_require = req;
    }

    req.version = version;

    //Used to filter out dependencies that are already paths.
    req.jsExtRegExp = /^\/|:|\?|\.js$/;
    req.isBrowser = isBrowser;
    s = req.s = {
        contexts: contexts,
        newContext: newContext
    };

    //Create default context.
    req({});

    //Exports some context-sensitive methods on global require.
    each([
        'toUrl',
        'undef',
        'defined',
        'specified'
    ], function (prop) {
        //Reference from contexts instead of early binding to default context,
        //so that during builds, the latest instance of the default context
        //with its config gets used.
        req[prop] = function () {
            var ctx = contexts[defContextName];
            return ctx.ID_require[prop].apply(ctx, arguments);
        };
    });

    if (isBrowser) {
        head = s.head = document.getElementsByTagName('head')[0];
        //If BASE tag is in play, using appendChild is a problem for IE6.
        //When that browser dies, this can be removed. Details in this jQuery bug:
        //http://dev.jquery.com/ticket/2709
        baseElement = document.getElementsByTagName('base')[0];
        if (baseElement) {
            head = s.head = baseElement.parentNode;
        }
    }

    /**
     * Any errors that require explicitly generates will be passed to this
     * function. Intercept/override it if you want custom error handling.
     * @param {Error} err the error object.
     */
    req.onError = defaultOnError;

    /**
     * Creates the node for the load command. Only used in browser envs.
     */
    req.createNode = function (config, moduleName, url) {
        var node = config.xhtml ?
                document.createElementNS('http://www.w3.org/1999/xhtml', 'html:script') :
                document.createElement('script');
        node.type = config.scriptType || 'text/javascript';
        node.charset = 'utf-8';
        node.async = true;
        return node;
    };

    /**
     * Does the request to load a module for the browser case.
     * Make this a separate function to allow other environments
     * to override it.
     *
     * @param {Object} context the require context to find state.
     * @param {String} moduleName the name of the module.
     * @param {Object} url the URL to the module.
     */
    req.load = function (context, moduleName, url) {
        var config = (context && context.config) || {},
            node;
        if (isBrowser) {
            //In the browser so use a script tag
            node = req.createNode(config, moduleName, url);

            node.setAttribute('data-requirecontext', context.contextName);
            node.setAttribute('data-requiremodule', moduleName);

            //Set up load listener. Test attachEvent first because IE9 has
            //a subtle issue in its addEventListener and script onload firings
            //that do not match the behavior of all other browsers with
            //addEventListener support, which fire the onload event for a
            //script right after the script execution. See:
            //https://connect.microsoft.com/IE/feedback/details/648057/script-onload-event-is-not-fired-immediately-after-script-execution
            //UNFORTUNATELY Opera implements attachEvent but does not follow the script
            //script execution mode.
            if (node.attachEvent &&
                    //Check if node.attachEvent is artificially added by custom script or
                    //natively supported by browser
                    //read https://github.com/requirejs/requirejs/issues/187
                    //if we can NOT find [native code] then it must NOT natively supported.
                    //in IE8, node.attachEvent does not have toString()
                    //Note the test for "[native code" with no closing brace, see:
                    //https://github.com/requirejs/requirejs/issues/273
                    !(node.attachEvent.toString && node.attachEvent.toString().indexOf('[native code') < 0) &&
                    !isOpera) {
                //Probably IE. IE (at least 6-8) do not fire
                //script onload right after executing the script, so
                //we cannot tie the anonymous define call to a name.
                //However, IE reports the script as being in 'interactive'
                //readyState at the time of the define call.
                useInteractive = true;

                node.attachEvent('onreadystatechange', context.onScriptLoad);
                //It would be great to add an error handler here to catch
                //404s in IE9+. However, onreadystatechange will fire before
                //the error handler, so that does not help. If addEventListener
                //is used, then IE will fire error before load, but we cannot
                //use that pathway given the connect.microsoft.com issue
                //mentioned above about not doing the 'script execute,
                //then fire the script load event listener before execute
                //next script' that other browsers do.
                //Best hope: IE10 fixes the issues,
                //and then destroys all installs of IE 6-9.
                //node.attachEvent('onerror', context.onScriptError);
            } else {
                node.addEventListener('load', context.onScriptLoad, false);
                node.addEventListener('error', context.onScriptError, false);
            }
            node.src = url;

            //Calling onNodeCreated after all properties on the node have been
            //set, but before it is placed in the DOM.
            if (config.onNodeCreated) {
                config.onNodeCreated(node, config, moduleName, url);
            }

            //For some cache cases in IE 6-8, the script executes before the end
            //of the appendChild execution, so to tie an anonymous define
            //call to the module name (which is stored on the node), hold on
            //to a reference to this node, but clear after the DOM insertion.
            currentlyAddingScript = node;
            if (baseElement) {
                head.insertBefore(node, baseElement);
            } else {
                head.appendChild(node);
            }
            currentlyAddingScript = null;

            return node;
        } else if (isWebWorker) {
            try {
                //In a web worker, use importScripts. This is not a very
                //efficient use of importScripts, importScripts will block until
                //its script is downloaded and evaluated. However, if web workers
                //are in play, the expectation is that a build has been done so
                //that only one script needs to be loaded anyway. This may need
                //to be reevaluated if other use cases become common.

                // Post a task to the event loop to work around a bug in WebKit
                // where the worker gets garbage-collected after calling
                // importScripts(): https://webkit.org/b/153317
                setTimeout(function() {}, 0);
                importScripts(url);

                //Account for anonymous modules
                context.completeLoad(moduleName);
            } catch (e) {
                context.onError(makeError('importscripts',
                                'importScripts failed for ' +
                                    moduleName + ' at ' + url,
                                e,
                                [moduleName]));
            }
        }
    };

    function getInteractiveScript() {
        if (interactiveScript && interactiveScript.readyState === 'interactive') {
            return interactiveScript;
        }

        eachReverse(scripts(), function (script) {
            if (script.readyState === 'interactive') {
                return (interactiveScript = script);
            }
        });
        return interactiveScript;
    }

    //Look for a data-main script attribute, which could also adjust the baseUrl.
    if (isBrowser && !cfg.skipDataMain) {
        //Figure out baseUrl. Get it from the script tag with require.js in it.
        eachReverse(scripts(), function (script) {
            //Set the 'head' where we can append children by
            //using the script's parent.
            if (!head) {
                head = script.parentNode;
            }

            //Look for a data-main attribute to set main script for the page
            //to load. If it is there, the path to data main becomes the
            //baseUrl, if it is not already set.
            dataMain = script.getAttribute('data-main');
            if (dataMain) {
                //Preserve dataMain in case it is a path (i.e. contains '?')
                mainScript = dataMain;

                //Set final baseUrl if there is not already an explicit one,
                //but only do so if the data-main value is not a loader plugin
                //module ID.
                if (!cfg.baseUrl && mainScript.indexOf('!') === -1) {
                    //Pull off the directory of data-main for use as the
                    //baseUrl.
                    src = mainScript.split('/');
                    mainScript = src.pop();
                    subPath = src.length ? src.join('/')  + '/' : './';

                    cfg.baseUrl = subPath;
                }

                //Strip off any trailing .js since mainScript is now
                //like a module name.
                mainScript = mainScript.replace(jsSuffixRegExp, '');

                //If mainScript is still a path, fall back to dataMain
                if (req.jsExtRegExp.test(mainScript)) {
                    mainScript = dataMain;
                }

                //Put the data-main script in the files to load.
                cfg.deps = cfg.deps ? cfg.deps.concat(mainScript) : [mainScript];

                return true;
            }
        });
    }

    /**
     * The function that handles definitions of modules. Differs from
     * require() in that a string for the module should be the first argument,
     * and the function to execute after dependencies are loaded should
     * return a value to define the module corresponding to the first argument's
     * name.
     */
    ID_define = function (name, deps, callback) {
        var node, context;

        //Allow for anonymous modules
        if (typeof name !== 'string') {
            //Adjust args appropriately
            callback = deps;
            deps = name;
            name = null;
        }

        //This module may not have dependencies
        if (!isArray(deps)) {
            callback = deps;
            deps = null;
        }

        //If no name, and callback is a function, then figure out if it a
        //CommonJS thing with dependencies.
        if (!deps && isFunction(callback)) {
            deps = [];
            //Remove comments from the callback string,
            //look for require calls, and pull them into the dependencies,
            //but only if there are function args.
            if (callback.length) {
                callback
                    .toString()
                    .replace(commentRegExp, commentReplace)
                    .replace(cjsRequireRegExp, function (match, dep) {
                        deps.push(dep);
                    });

                //May be a CommonJS thing even without require calls, but still
                //could use exports, and module. Avoid doing exports and module
                //work though if it just needs require.
                //REQUIRES the function to expect the CommonJS variables in the
                //order listed below.
                deps = (callback.length === 1 ? ['ID_require'] : ['ID_require', 'exports', 'module']).concat(deps);
            }
        }

        //If in IE 6-8 and hit an anonymous define() call, do the interactive
        //work.
        if (useInteractive) {
            node = currentlyAddingScript || getInteractiveScript();
            if (node) {
                if (!name) {
                    name = node.getAttribute('data-requiremodule');
                }
                context = contexts[node.getAttribute('data-requirecontext')];
            }
        }

        //Always save off evaluating the def call until the script onload handler.
        //This allows multiple modules to be in a file without prematurely
        //tracing dependencies, and allows for anonymous module support,
        //where the module name is not known until the script onload event
        //occurs. If no context, use the global queue, and get it processed
        //in the onscript load callback.
        if (context) {
            context.defQueue.push([name, deps, callback]);
            context.defQueueMap[name] = true;
        } else {
            globalDefQueue.push([name, deps, callback]);
        }
    };

    ID_define.amd = {
        jQuery: true
    };

    /**
     * Executes the text. Normally just uses eval, but can be modified
     * to use a better, environment-specific call. Only used for transpiling
     * loader plugins, not for plain JS modules.
     * @param {String} text the text to execute/evaluate.
     */
    req.exec = function (text) {
        /*jslint evil: true */
        return eval(text);
    };

    //Set up with config info.
    req(cfg);
}(this));

/*
 * includer.js: Require-based includer lib -- used in the framework clientlibs and bundles
 *
 * dependencies: jQuery, ID_require.js (an edited version of standard require.js)
 *
 * (c) 1992-2016 Cisco Systems, Inc. All rights reserved.
 *
 */

/* globals cdc: true, jQuery: false, ID_define: false, ID_require: false */

if (cdc === undefined) { window.cdc = {}; }
cdc.includer = (function () {
    var debugging  = false,
        qParamsStr = location.search.slice(1),
        qParamsObj = {},
        _assetServer = null,
        _requireHasBeenSetup = false,
        includer   = {
           isHostnameForced: false,
           domainConfig: {
              subdomains: [
                 'newsroom', 'tools', 'about',  'investor', 'apps',
                 'software', 'origin-software', 'sso', 'www-stage', 'cloudsso.*',
                 '.*\\.cloudapps', 'wwwin-fdk-(stage|devint)','search','searchx'
              ]
           },
           requireConfig: {
              waitSeconds: 0,
              baseUrl: "", // "//www.cisco.com",
              paths: {
                 "cl":  "etc/designs/cdc/fw/w/cl",
                 "lib": "etc/designs/cdc/fw/lib",
                 "m":   "etc/designs/cdc/fw/m"
              }
           }
        };

    /* ---------------------------------------------------------------------
     *             private methods (protected by the closure)
     * ---------------------------------------------------------------------
     */

    function dbgLog (msg,obj) {
       if (debugging) {
          if (typeof obj === 'object') {console.log(msg,obj); }
          else { console.log(msg); }
       }
    }

    /*
     * determinePrefix(): used by setupRequire() only
     *
     * set the require.config baseUrl value based on twisty logic
     *
     */

    // logic defined in Mingle #12997
    function determineBaseUrl (myhost) {
       var baseUrl = "",
           host    = myhost || window.location.hostname,
           currEnv = cdc.util.matchEnvironment(host),
           subDom  = includer.domainConfig.subdomains;

       dbgLog('begin determineBaseUrl()');
       dbgLog(' - host=[' + host + ']');
       dbgLog(' - env=[' + currEnv + ']');

       // safest is for any 'unknown' env to be considered prod; unless it is using sandbox port 4502
       if (currEnv === "unknown" && location.port != '4502') {
          currEnv = "prod";
          dbgLog(' - non-sandbox unknown, setting env=[' + currEnv + ']');
       }

       if (currEnv === "prod") {
          baseUrl = '//' + host;
          host    = host.replace('.cisco.com', '');

          // original loadJs() code to use the subdomain stuff
          // -- so a page loading from tools.cisco.com will load js from www.cisco.com, etc
          dbgLog(' - checking the subdomain list');
          for (var z=0; z < subDom.length; z++) {
             if (host.match('^' + subDom[z])) {
                baseUrl = '//www.static-cisco.com';
                dbgLog(' - host matches subdomain "' + subDom[z] + '"');
                break;
             }
             else {
                dbgLog(' - host does not match subdomain "' + subDom[z] + '"');
             }
          }
       }
       else if ((location.port != '4502' && location.port != '4503') || myhost) {
          dbgLog(' - port is not 4502 or 4503...');
          if (currEnv === "stage") {
             baseUrl = cdc.util.matchesTrueWemEnv() ? "//" + window.location.host : "//fdk-stage.cisco.com"; // US160911 TODO: fix `^M` character
          }
          else if (currEnv === "dev") {
             baseUrl = "//fdk-devint.cisco.com";
          }
          else {
             dbgLog(' - but env is not dev or stage...');
             baseUrl = "//" + window.location.host;
          }
       }
       else {
          dbgLog(' - port is 4502 or 4503...');
          baseUrl = "//" + window.location.host;
       }
       dbgLog(' - baseUrl=[' + baseUrl + ']');
       dbgLog('end determineBaseUrl()');

       return baseUrl;
    }

    // Set up requirejs
    function setupRequire () {
        dbgLog('begin setupRequire()');
        includer.requireConfig.baseUrl = determineBaseUrl();
        dbgLog(' - baseUrl is now ' + includer.requireConfig.baseUrl);

        if (typeof ID_define === "function" && ID_define.amd) {
           ID_define("jquery", [], function() {
              return jQuery;
           });
           dbgLog(' - defined "jQuery" module to return existing framework jQuery object');
        }
        dbgLog(' - calling ID_require.config() with requireConfig object: ', includer.requireConfig);
        ID_require.config(includer.requireConfig);
        _requireHasBeenSetup = true;
        dbgLog('end setupRequire()');
    }

    // helper function for search(), called inside a 'for' loop, so moved out of loop to keep jshint happy
    // this returns a function which will be called by require.js when the asset is loaded
    function componentInit (componentId, assetPath, scope) {
       return function(componentModule) {
          dbgLog('in require callback for ' + componentId + ' at ' + assetPath);
          dbgLog(' - baseURL is = ' + ID_require.s.contexts._.config.baseUrl);
          if (componentModule) {
             if (typeof componentModule.init === "function"){
                componentModule.init(scope);
                dbgLog(' - inited ' + componentId);
             }
             else {
                dbgLog(' - Note: ' + componentId + ' in registry, but has no init()');
             }
          }
          else {
             dbgLog(' - Alert: ' + componentId + ' not found in registry');
          }

          /*
          if (cdc.debug && cdc.debug.callBeacon) {
             cdc.debug.codeBeacon ({
                message: componentId,
                signature: "cdc.cl.componentSurvey",
                warnUserInStage: false,
                beaconInStage: true
             });
          }
          */
       };
    }

    /* ---------------------------------------------------------------------
     *       publicly accessible methods ( i.e., cdc.includer.foo() )
     * ---------------------------------------------------------------------
     */

    // now only used by loadCss() -- possible candidate for private method?
    // NOTE: loadJs() used to call this but new version does not -- should it?
    includer.uniquifyIncludes = function(includes,type) {
      var dedup = {};
      var deduped = [];
      var nodeName, attrName;

      if (type == 'js') {
         nodeName = 'script';
         attrName = 'src';
      }
      else if (type == 'css') {
         nodeName = 'link';
         attrName = 'href';
      }

      for (var i=0;i<includes.length;i++){
        // for dev support - if root-rel url, add prefix
        // if (includes[i].match(/^\//)) {
        //  includes[i] = includer.asset_prefix + includes[i];
        // }
        dedup[includes[i]]=1;
      }

      if (typeof(includer.alreadyInPage) != 'undefined'){
         for (i=0;i<includer.alreadyInPage.length;i++){
            dedup[includer.alreadyInPage[i]]=0;
         }
      }

      jQuery(nodeName).each(function(){
         if (this[attrName]){
            var uncachedUrl = this[attrName].replace(/http:\/\/[^\/]*/,'');
            uncachedUrl = uncachedUrl.replace(/[\&\?]cacheReset=[0-9\-]*/,'');
            dedup[uncachedUrl]=0;
         }
      });

      for (i=0;i<includes.length;i++){
         if (dedup[includes[i]]){
            deduped.push(includes[i]);
         }
      }
      return deduped;
   };

    /*
     * Method: cdc.includer.loadCss()
     *
     * Description:
     * - - This function has two parameters. includes parameter stores the loaction of CSS assets. This function checks DOM for CSS if CSS is alredy loaded then it wont load the CSS otherwise it load the CSS file into head section of HTML page through DOM.
     *
     */

    // From original includer public API, not used internally
    includer.loadCss = function(includes,extraArgs){
       if (typeof includes == "string") {
          includes = [ includes ];
       }
       if (!extraArgs){
          extraArgs = {};
       }

       includes = includer.uniquifyIncludes(includes,'css');
       for (var i=0;i<includes.length;i++){
          //NEED TO check for css in dom
          //include css if not there already
          var css = document.createElement('link');
          css.setAttribute('rel', 'stylesheet');
          css.setAttribute('type', 'text/css');
          css.setAttribute('href', includes[i]);
          if (extraArgs.ids && extraArgs.ids[i]) {
             css.setAttribute('id', extraArgs.ids[i]);
          }
          document.getElementsByTagName('head')[0].appendChild(css);
       }

    };

    /*
     * Method: cdc.includer.loadJs()
     *
     * Description:
     * -  This function has two parameters.
     *    - includes parameter stores the location of JS assets.
     *    - extraArgs holds callback refs to be fired when asset is loaded
     *
     *    This function used to check DOM for JS if JS file is alredy loaded
     *    then it won't load the JS otherwise it load the JS file into head section of HTML page through DOM.
     *
     *    Now is uses AMD to load the asset instead.
     */

    // From original includer public API, not used internally
    includer.loadJs = function (includes, extraArgs) {
        dbgLog('in loadJs(), includes: [' + includes + '] ', includes);
        // Allow for the argument to be just one string (i.e., one asset name) instead of an array
        if (typeof includes == "string") {
            includes = [includes];
        }
        if (!_requireHasBeenSetup) {
            setupRequire();
        }

        // need to fiddle with the inputs so that require.js will prefix them with the baseUrl
        for (var i=0; i < includes.length; i++) {
           dbgLog(' - checking inputs for /etc/designs/cdc/fw or /web/fw...');
           if (includes[i].match(/^\/etc\/designs\/cdc\/fw/) || includes[i].match(/^\/web\/fw/)) {
              includes[i] = includes[i].replace(/^\//, ''); // remove initial forward slash
              if (includes[i].match(/\.js\?/)) {
                 dbgLog('   - ' + includes[i] + ': MATCH - but has qstring, keep absolute...');
                 includes[i] = includer.requireConfig.baseUrl + includes[i];
              }
              else {
                 dbgLog('   - ' + includes[i] + ': MATCH - changing value...');
                 includes[i] = includes[i].replace(/\.js$/, ''); // strip off trailing '.js' for AMD
              }
              dbgLog('   --> value is now ' + includes[i]);
           }
           else {
              dbgLog('   - ' + includes[i] + ': no match, not changing value.');
           }
        }

        // TODO: manipulate includes with domain names and subdomain stuff
        ID_require (includes, function () {
            if (extraArgs && extraArgs.callback && typeof extraArgs.callback == "function") {
                // Provide the callback with the modules that were loaded, if available. This behavior is different from the old includer, which did not provide any arguments to the callback.
                extraArgs.callback.apply (null, arguments);
            }
        });
    };

   /*
    * Method: cdc.includer.addSubDomain()
    *
    * Description:
    * -  addSubDomain() works with one param and this param could be string type or array type. It appends the subdomain in main array object of cdc.includer.domainConfig.subdomains.
    *
    *    Sample usages:
    *    > cdc.includer.addSubDomain('products');
    *    > cdc.includer.addSubDomain(['groups', 'services', 'products']);
    *
    *    Param:
    *    - This function using only one param called 'o'. This param contains the one array/string type of parameter to add the subdomains.
    *
    */

   // From original includer public API, not used internally
   includer.addSubDomain = function(o){
      //alert('deprecated');
      if (typeof o == "string") {
         o = [o];
      }

      if(o.length) {
         for(var i in o){
            if(includer.domainConfig.subdomains.join().indexOf(''+o[i]) < 0) {
               includer.domainConfig.subdomains.push(o[i]);
            }
         }
      }
   };

   /*
    * Method: cdc.includer.removeSubDomain()
    *
    * Description:
    * -  removeSubDomain() works with one param and this param could be string type or array type. It appends/removes the subdomain in main array object of cdc.includer.domainConfig.subdomains.
    *
    *    Sample usages:
    *    > cdc.includer.removeSubDomain('tools');
    *    > cdc.includer.removeSubDomain(['tools', 'products', 'services']);
    *
    *    Param:
    *    - This function using only one param called 'o'. This param contains the one array/string type of parameter for remove the subdomains.
    *
    */

   // From original includer public API, not used internally
   includer.removeSubDomain = function(o){
      //alert('deprecated');
      var arrString;
      if (typeof o == "string") {
         o = [o];
      }

      if(o.length) {
         for(var i in o){
            if(includer.domainConfig.subdomains.join().indexOf(''+o[i]) > 0) {
               arrString = includer.domainConfig.subdomains.join('~');
               arrString = arrString.split('~');
               includer.domainConfig.subdomains = [];
               for(var x in arrString){
                  if(arrString[x] != o[i]){
                     includer.domainConfig.subdomains.push(arrString[x]);
                  }
               }
            }
         }
      }
   };

    /*
     * Method: cdc.includer.cdcRandNum()
     *
     * Description:
     * - randum number generator
     *   - input: takes param limit to set random max, default is 1000
     *   - output: 'TimeInSeconds-RandNum'
     *
     *   Sample usages:
     *   > invoke with: cdc.includer.randNum(50); or cdc_rand_num();
     *
     */

    // From original includer public API, used by cacheBust() below
    includer.cdcRandNum = function(limit){
      if (!limit) {limit = 1000;}
      var sNum = Math.floor(Math.random()*limit)+1;
      var sTime = (new Date()).getTime();
      var rNum = sTime+"-"+sNum;
      return rNum;
    };

    /*
     * Method: cdc.includer.cacheBust()
     *
     * Description:
     * - cache buster : puts a cache avoidance param on a url with a random number
     *
     *   Sample usages:
     *   - cdc.includer.cacheBust('//www.cisco.com');          = YourUrl?cacheReset=rand#
     *   - cdc.includer.cacheBust('//www.cisco.com','foo');    = YourUrl?foo=rand#
     *   - cdc.includer.cacheBust('//ng-prod1/image');         = YourUrl&cacheReset=rand#
     *   - cdc.includer.cacheBust('//cisco.com/edit.pl?a=3');  = YourUrl&cacheReset=rand#
     *
     */

    // From original includer public API, not used internally
    includer.cacheBust = function(url,param){
      if (!param) {param = 'cacheReset';}
      var delim = "?";
      // if url is ng-prod1(bam) or has ?, set param delimeter to &
      if (url.match(/(ng-prod1|\?)/)) {delim = "&";}
      var fullParam = delim+param+'=';
      // degug alert(url+fullParam+cdc_rand_num());
      return url+fullParam+includer.cdcRandNum();
    };


    includer.setAssetServer = function (assetServerDomain) {
        // The parameter should not include the .cisco.com suffix, because that suffix will be tacked on in setupRequire below
        _assetServer = assetServerDomain;
    };

    // required by Mingle #12997
    includer.forceHostname = function (hostName) {
      includer.isHostnameForced = true ;
      ID_require.s.contexts._.config.baseUrl = "//" + hostName + "/web/fw/w/cl/";
    };

    // required by Mingle #12997
    includer.forceBaseRelative = function(){
      ID_require.s.contexts._.config.baseUrl = "/web/fw/w/cl/";
    };


    // required by Mingle #12997
    includer.addHostname = function (assetUrl) {

      var prefix = includer.requireConfig.baseUrl;

      if (assetUrl[0] == '/' && assetUrl[1] != '/') {
        //then it's relative
        return prefix + assetUrl.slice(1);
      } else if (assetUrl.slice(0,2) == '//') {
        //then it is abs && has hostname
        return assetUrl;
      } else if (assetUrl.slice(0,5) == 'http:' || assetUrl.slice(0,6) == 'https:') {
        return assetUrl.slice(assetUrl.indexOf(':') + 1);
      } else {
        return assetUrl;
      }
    };


    includer.search = function(scope){
        if (!scope) {
           scope = document.body;
        }

        dbgLog('begin search(): iterating over cdc.includer.manifest...', cdc.includer.manifest);

        var manifest = cdc.includer.manifest;
        for (var componentId in manifest){
           if (manifest.hasOwnProperty(componentId) ) { // keep jshint/jslint happy
              var aComponentSpec = manifest[componentId];
              if (scope.querySelector (aComponentSpec.signature)){
                 var assetPath = manifest[componentId].require;
                 // TODO: manipulate assetPath with domain names and subdomain stuff
                 dbgLog(' - ' + componentId + ': found on page, calling ID_require("' + assetPath + '"): look for callback to fire');
                 ID_require(assetPath, componentInit(componentId, assetPath, scope));
              }
              else {
                 dbgLog(' - ' + componentId + ': not on page, skipping');
             }
           } // end if to keep jshint/jslint happy
        } // end for
        dbgLog('exit for loop');
    };

    // Now for load-time execution code...
    //
    if (typeof includer.alreadyInPage == 'undefined') {
       includer.alreadyInPage = [];
    }

    if (qParamsStr !== "") {
       qParamsStr.split('&').forEach(function(pair){
          var kvPair = pair.split('=');
          qParamsObj[kvPair[0]] = kvPair[1];
       });
    }

    if (qParamsObj.includerDbg === "true") {
        debugging = true;
    }

    if (!_requireHasBeenSetup) {
       setupRequire();
    }

    // add dbgLog to public API for cl.js to use...
    includer.dbgLog = dbgLog;

    return includer;
}()); // execute anon function assigned to cdc.includer

//jQuery (function () {
jQuery(document).ready(function(){
    cdc.includer.search(document.body);
});

/*
 * ======================================================================================
 *
 * for some reason these cdc.util functions were in the cdc.includer definition...
 * NOTE: maybe they should be moved to a new module?
 *
 * ======================================================================================
 */

/*
  Method: cdc.util.JsLoader()

  Description:
  -  there are four private methods of JsLoader.
  - cdc.util.JsLoader.Load();
  - cdc.util.JsLoader.loadOne();
  - cdc.util.JsLoader.asuumeAlreadyLoaded();
  - cdc.util.JsLoader._initialize();
  - cdc.util.JsLoader._service();
*/

cdc.util.JsLoader = function () {
    var _loadedUrls = null; // Map: loaded url -> 1, initially null to enable initialization
    var _pendingQueue = []; // Array: {url: pendingUrlString, callbacks: [ array of callbacks] }

    var _doLoad = function (jsUrls, callback, forceLoad, dataType) {
        if (_loadedUrls === null) _initialize();
        var _forceLoad = !!forceLoad;
        var _dataType = dataType;
        var processUrlAtIndex = function (jsUrls, index) {
            var addedCount = 0;
            if (index >= jsUrls.length) { // No more assets to load for this request
                if (typeof callback === "function") callback();
                return;
            }
            var url = jsUrls[index];
            if (_loadedUrls[url] === undefined || _forceLoad) { // This asset is not yet loaded. Add it to the pending queue if needed.
                var ndx = index;
                var assetLoadedCallback = function () { processUrlAtIndex (jsUrls, ndx + 1);  };
                var pos = 0, m = _pendingQueue.length;
                for (; pos < m; pos++) {
                    if (_pendingQueue[pos].url === url) { break; }
                }
                if (pos >= m) { // This URL is not in the pending queue, so add it to the queue.
                    _pendingQueue.push ({"url": url, "callbacks": [ assetLoadedCallback ], okToUseCache: true, dataType: _dataType});
                    addedCount = 1;
                } else { // This URL is already on the pending queue
                    _pendingQueue[pos].callbacks.push (assetLoadedCallback);
                }
            } else { // Already loaded, so ignore it and move on.
                addedCount += processUrlAtIndex (jsUrls, index + 1);
            }
            return addedCount;
        };
        // Prime the pump
        jsUrls = (typeof (jsUrls) == "string") ? [ jsUrls ] : [].concat (jsUrls); // If it's an array, make a copy of it
        var queueWasEmpty = _pendingQueue.length <= 0;
        if (processUrlAtIndex (jsUrls, 0) > 0 && queueWasEmpty) {
            // The queue was initially empty, but I added stuff to it
            _service();
        }
        return this;
    };
    /*
    Method: cdc.util.JsLoader.load()

    Description:
    -   Load the given list of JavaScript assets, in the order specified. If the callback is provided, call it after all the assets have been loaded. This
    -   function takes care of multiple interleaved calls that might all specify common assets. If two callers specify assets in different orderings, the
    -   ordering of the first such caller wins.
    -   @param jsUrls an array of strings specifying JavaScript asset URLs
    -   @param callback (optional) a function to call when all the specified assets have been loaded.
    -   @param forceLoad (optional) boolean: true if the resource should be loaded even if it was already loaded earlier

    */
        this.load = function (jsUrls, callback, forceLoad) {
            if ((!jsUrls || jsUrls.length <= 0) && typeof (callback) == "function") {
                // No urls given, but callback specified, so the needed assets are (vacuously) loaded. So call the callback.
                callback();
                return;
            }
            _doLoad (jsUrls, callback, forceLoad, "script");
            return this;
        };

        // Load just one URL from a data service, with an optional parameter set. This method expects JSONP as the payload. This method caters to a common use case.
        this.loadOne = function (jsUrl, parameters, callback, forceLoad) {
            var url = jsUrl;
            if (parameters) {
                var separator = (jsUrl.indexOf ("?") > 0) ? "&" : "?";
                url += separator + jQuery.param (parameters);
            }
            return _doLoad ([ url ], callback, forceLoad, "json");
        };

        /*
         - Tell this loader to pretend that the given URLs are already loaded into the page, so they don't need to be reloaded.
         - @param jsUrls an array of asset URLs
         */
        this.assumeAlreadyLoaded = function (jsUrls) {
            jQuery.each (jsUrls, function (item) {
                _loadedUrls[item] = 1;
            });
        };

        // Private functions
        function _initialize () {
            // Remember the scripts loaded via explicit script tags
            _loadedUrls = {};
            jQuery("script").each (function (item) {
                var src = this.getAttribute ("src");
                if (src) _loadedUrls[src] = 1;
            });
        }

        function _service () {
            // Service one request, and invoke pseudo-recursively
            if (_pendingQueue.length >= 1) {
                var item = _pendingQueue[0];
                jQuery.ajax({
                    type: "GET",
                    url: item.url,
                    dataType: item.dataType || "script",
                    cache: item.okToUseCache,
                    success: function (data) {
                        _loadedUrls[item.url] = 1;
                        _pendingQueue.shift();
                        var i;
                        for (i = 0; i < item.callbacks.length; i++) {
                            item.callbacks[i]();
                        }
                        _service();
                    }
                });
            }
        }

        return this;
    };

/*define ("includer", ['require'], function () {
    return cdc.includer;
});*/

    /*
Method: cdc.includer.ServiceRequestQueue()

Description:
     - addRequest: Add a request for a data service.
     - @param url The URL of the service request
     - @param parameters the parameter set for the request: a map of strings to strings
     - @param callback the callback function to call when the request has been completed. This function will be called with the JSON data returned by the request.
     - @param okToUseCache (optional) a boolean value, set to true if the request may use an available cached version, i.e., a cache buster should be included; defaults to false
     - @param dataType  (optional) either "script" or "json" depending on the expected data type; defaults to "json"
     - This method is oriented towards a data service, hence its "okToUseCache" defaults to false.
*/

cdc.util.ServiceRequestQueue = function () {
    var _queue = [], _pending = false, _loadedUrls = {}/* For de-duplication of assets */;

    this.addRequest = function (url, parameters, callback, dataType, okToUseCache) {
        var dataTypeToUse = dataType  || "json";
        if (_loadedUrls[url] === undefined || !okToUseCache) {
            _queue.push ({"url": url, "parameters": parameters, "callback": callback, "okToUseCache": !!okToUseCache, "dataType": dataTypeToUse});
            _loadedUrls[url] = 1;
            _service();
        }
    };

    // Return the number of requests currently in this queue.
    this.getQueueSize = function () {
        return _queue.length;
    };

    // Private functions
    function _service () {
        // Service one request, and invoke pseudo-recursively
        if (_queue.length >= 1 && !_pending) {
            _pending = true;
            var item = _queue[0];
            jQuery.ajax({
                type: "GET",
                url: item.url,
                data: item.parameters,
                dataType: item.dataType,
                cache: item.okToUseCache,
                success: function (data) {
                    item.callback (data);
                    _pending = false;
                    _queue.splice (0, 1);
                    _service();
                }
            });
        }
    }
};

/*
 * cl.js
 *
 * extends cdc.includer with 'manifest' object to add support for Component Library
 * provides any common cdc.cl/cdc.components functions
 *
 * dependencies: jQuery, includer.js
 *
 * (c) 1992-2016 Cisco Systems, Inc. All rights reserved.
 * Terms and Conditions: //cisco.com/en/US/swassets/sw293/sitewide_important_notices.html
 */

 /**
  *  Manifest:
  *   component:{
  *      signature: String identifying the CSS Selector to search for.  If signature is found the component code must be loaded.
  *      require: Array of Strings: Paths of JS files that the component needs. Paths are relative to web/fw/w
  *      cssDependecies: Array of Strings: Paths of CSS files that the component needs. Paths are relative to web/fw/w
  *      scope: Optional CSS Selector property to set the search scope of the DOM.
  *   }
 **/

/* globals cdc: true */

if (cdc.includer) {
    cdc.includer.dbgLog('start cl.js - inc config is go');

    cdc.includer.manifest = {
        a00v1: {
            signature:        '.a00v1',
            require:         ['cl/a00/a00v1'],
            cssDependencies: ['cl/a00/a00.css']
        },

        a00v3: {
            signature:        '.a00v3',
            require:         ['cl/a00/a00v3'],
            cssDependencies: ['cl/a00/a00.css']
        },

        a00v4: {
            signature:        '.a00v4',
            require:         ['cl/a00/a00v4'],
            cssDependencies: ['cl/a00/a00.css']
        },

        c16v3: {
            signature:        '#c16v3',
            require:         [
                              'cl/c16/c16v3',
                              'lib/jqmodal'
                             ],
            cssDependencies: ['cl/c16/c16.css']
        },

        c16v5: {
            signature:        '.c16v5',
            require:         ['cl/c16/c16v5'],
            cssDependencies: ['cl/c16/c16.css']
        },

        c17v1: {
            signature:        '.c17v1',
            require:         ['cl/c17/c17v1'],
            cssDependencies: ['c17/c17.css']
        },
 
/* this needs to lazy load via in-page script; if includer pulls this in it will break the component
        c17v2: {
            signature:        '.c17v2',
            require:         ['cl/c17/c17v2'],
            cssDependencies: ['c17/c17.css']
        },
*/

        c19v1: {
            signature:        '.c19v1',
            require:         [
                              'lib/jquery.hoverIntent.minified',
                              '//www.cisco.com/cdc_content_elements/visualsciences/visualsciences.js',
                              'cl/c19/c19v1'
                             ],
            cssDependencies: ['cl/c19/c19.css']
        },

        c22v2: {
            signature:        '#c22v2',
            require:         [
                              'lib/jquery.dimensions.min',
                              'lib/jquery.tools.min',
                              'lib/jquery_tache',
                              'cl/c22/c22v2'
                             ],
            cssDependencies: ['cl/c22/c22.css']
        },

        c25v8: {
            signature:        '.c25v8',
            require:         ['cl/c25/c25v8'],
            cssDependencies: ['cl/c25/c25.css']
        },

        c26v1: {
            signature:        '.c26v1',
            require:         [
                              'cl/c26/c26v1',
                              'lib/jqmodal',
                              'lib/jquery.bgiframe.min',
                              'lib/jquery.dimensions.min'
                             ],
            cssDependencies: ['cl/c26/c26.css']
        },

        c26v2: {
            signature:        '.c26v2',
            require:         [
                              'cl/c26/c26v2',
                              'lib/jqmodal',
                              'lib/jqDnR',
                              'lib/jquery.bgiframe.min',
                              'lib/jquery.dimensions.min'
                             ],
            cssDependencies: ['cl/c26/c26.css']
        },

        c26v3: {
            signature:        '.c26v3',
            require:         [
                              'lib/jqmodal',
                              'cl/c26/c26v3'
                             ],
            cssDependencies: ['cl/c26/c26.css']
        },

        c26v4: {
            signature:        '.c26v4',
            require:         ['cl/c26/c26v4',
                              'lib/jqmodal',
                              'lib/jqDnR',
                              'lib/jquery.bgiframe.min',
                              'lib/jquery.dimensions.min',
                             ],
            cssDependencies: ['cl/c26/c26.css']
        },

        c28v1: {
            signature:        '.c28v1', //c28v1.js referes to '.c28v3'
            require:         ['cl/c28/c28v1'],
            cssDependencies: ['cl/c28/c28.css']
        },

        c32v1: {
            signature:        '.c32v1',
            require:         ['cl/c32/c32v1'],
            cssDependencies: ['cl/c32/c32.css']
        },

        c36v1: {
            signature:        '.c36v1',
            require:         [
                              'cl/c36/c36v1',
                              'lib/jquery.tools-1.1.0.min',
                              'lib/jquery.urlEncode',
                              'lib/jquery.phpdate',
                              'lib/ntpagetag'
                             ],
            cssDependencies: ['cl/c36/c36.css']
        },

        c37v1: {
             signature:        '#c37v1',
             require:         ['cl/c37/c37v1'],
             cssDependencies: ['cl/c36/c36.css']
        },

        id01v1: {
             signature:        '#id01v1',
             require:         ['cl/id01/id01v1.min'],
             cssDependencies: ['cl/id01/id01.css']
        },

        id02v1: {
             signature:        '.id02v1',
             require:         ['cl/id02/id02v1'],
             cssDependencies: ['']
        },

        id04v1: {
             signature:        '#id04v1',
             require:         ['cl/id04/id04v1'],
             cssDependencies: ['cl/id02/id02.css']
        },

        id35v1: {
            signature:        '.id35v1',
            require:         [
                              'lib/jQuery.equalHeights',
                              'm/contacts_rules',
                              'cl/id35/id35v1'],
            cssDependencies: ['cl/id35/id35.css']
        },

        id37v2: {
            signature:       '.id37v2',
            require:        ['cl/id37/id37v2'],//MORE?
            cssDependecies: ['cl/id37/id37.css']
        },

        n04v4: {
            signature:        '.n04v4',
            require:         ['cl/n04/n04v4'],
            cssDependencies: ['cl/n04/n04.css']
        },

        n04v6: {
            signature:        '.n04v6',
            require:         [
                              '/etc/designs/cdc/fw/lib/jquery.hoverIntent.minified',
                              'cl/n04/n04v6'
                             ],
            cssDependencies: ['cl/n04/n04.css']
        },

        n05v17: {
             signature:        '.n05v17',
             require:         ['cl/n05/n05v17'],
             cssDependencies: ['cl/n05/n05.css']
        },

        nn11v1: {
             signature:        '.nn11v1',
             require:         ['cl/nn11/nn11v1'],
             cssDependencies: ['cl/nn11/nn11.css']
        },

        n13v8: {
             signature:        '.n13v8',
             require:         ['cl/n13/n13v8'],
             cssDependencies: ['cl/n13/n13.css']
        },

        n19v3: {
             signature:        '.n19v3',
             require:         ['cl/n19/n19v3'],
             cssDependencies: ['cl/n19/n19.css']
        },

        n21: {
             signature:        '#n21',
             require:         ['cl/n21/n21'],
             cssDependencies: ['cl/n21/n21.css']
        },


        n21v1: {
            signature:        '.n21v1',
            require:         ['cl/n21/n21v1'],
            cssDependencies: ['cl/n21/n21.css']
        },

        n22v1: {
            signature:        '.n22v1',
            require:         ['cl/n22/n22v1'],
            cssDependencies: ['cl/n22/n22.css']
        },

        p01v1: {
            signature:        '#p01v1',
            require:         ['cl/p01/p01v1'],
            cssDependencies: ['cl/p01/p01v1.css']
        },

        pt29: {
            signature:        '#pt29',
            require:         ['cl/pt29/pt29'],
            cssDependencies: ['cl/pt29/pt29.css']
        },

        s03v3: { //CSS does not refer to an s03v3 class or js
            signature:        '.s03v3',
            require:         ['cl/s03/s03'],
            cssDependencies: ['cl/s03/s03.css']
        },

        s03v4: {
            signature:        '.s03v4',
            require:         ['cl/s03/s03'],
            cssDependencies: ['cl/s03/s03.css']
        },

        s10v1: {
            signature:        '#s10v1',
            require:         ['cl/s10/s10v1'],
            cssDependencies: ['cl/s10/s10.css']
        },

        s10v3: {
            signature:        '#s10v3',
            require:         ['cl/s10/s10v3'],
            cssDependencies: ['cl/s10/s10.css']
        },

        // these used to be the built-in 'widgets; defined in includer.js
        'module-sbt': {
            signature: '.module-sbt',
            require: [
                '//cisco.com/cdc_content_elements/visualsciences/visualsciences.js',
                '/etc/designs/cdc/fw/j/sbt.js'
            ],
            cssDependencies: ['/etc/designs/cdc/fw/c/sbt.css']
        },
        'cdc-widget-accordion': {
            signature: '.cdc-widget-accordion',
            require: [
                '//www.cisco.com/cdc_content_elements/visualsciences/visualsciences.js',
                '/etc/designs/cdc/fw/lib/jquery.hoverIntent.minified.js',
                '/etc/designs/cdc/fw/w/accordion/widget-accordion.js'
            ]
        },
        'data-hero': {
            signature: '.data-hero',
            require: [
                '/etc/designs/cdc/fw/m/series-models-rules.js'
            ]
        },
        'support-mm-item': {
            signature: '.support-mm-item',
            require: [
                '/etc/designs/cdc/fw/lib/jQuery.equalHeights.js' // for global support menus only
            ]
        },
        'cdc-widget-lightbox': {
            signature: '.cdc-widget-lightbox',
            require: [
                '/etc/designs/cdc/fw/lib/jqmodal.js',
                '/etc/designs/cdc/fw/lib/jquery.bgiframe.min.js',
                '/etc/designs/cdc/fw/w/lightbox/lightbox.js'
            ],
            cssDependencies: [
                '/etc/designs/cdc/fw/w/lightbox/lightbox.css'
            ]
        }

   };
}

/*
// THE COMMENTED COMPONENTS:
/*
a03v5
a03v7
c00v20
n05v16
n19
s01
s02v12
s07v5
s14v1
s15v1
*/

//ADDCORNERS, NOT COMMENTED BUT LACKING JS:
/*

      'c25v1':{   // PCP
         callback:function(){
            cdc.util.addCorners('.c25v1');
         }
      },

      'c25v2':{   // PCR Hero (Image only)
         callback:function(){
            cdc.util.addCorners('.c25v2');
         }
      },

      'c25v7':{   // PCR Hero (Single Embedded Video)
         callback:function(){
            cdc.util.addCorners('.c25v7');
         }
      },

      'c28v6':{
         callback:function(){
            //jQuery(".c28v6 form").css({'display':'block'});
         }
      },

      'c40v1':{   // PCP Portlet allows PNG transparency
        js: [
           //'/etc/designs/cdc/fw/lib/jquery.pngFix.js'
        ],
           callback:function(){
           cdc.util.addCorners('.c40v1');
        }
     },

     'n05v15':{   // N05v15: PCR Quicklinks
        callback:function(){
           cdc.util.addCorners('.n05v15');
        }
     },

     'nn08v1': { // section tab sub product navigation
        callback:function(){
           //cdc.util.addCorners('.nn08v1');
        }
     },

     'n17v6':{
        callback:function(){
           cdc.util.addCorners('.n17v6');
        }
     },
*/

 /**
 *  Cookie related functions
 *  cookie.js
 *  $Revision: 1.4 $
 */

if (window.cdc === undefined) { window.cdc = {}; }

/**
cookie manipulation functions
NOTE: deprecated functions have been aliased to these functions in deprecated.js
TODO: update files that call this lib so we can remove support for legacy function signatures
*/
cdc.cookie = cdc.cookie || {
    /**
    sets a cookie. days and msecs are days and milliceconds from now,
    respectively. if neither days or msecs are given, defaults to
    expire at end of browser session.
    @param args {
        cookieName: string
        cookieValue: string
        days: int (optional)
        msecs: int (optional, overrides days)
        path: string (optional) (default=/)
        domain: string (optional)
    }
    */
    setCookie: function (args) {
        // LEGACY - support old signature (string, string[, int])
        if (!args.cookieName) {
            args = {cookieName: args, cookieValue: arguments[1]};
            if (arguments.length > 2) { args.days = arguments[2]; }
        }

        var expireStr = '';
        var pathStr = '';
        var domainStr = '';
        var msecs = parseInt(args.msecs);
        if (isNaN(msecs) && args.days) {
            msecs = args.days * 24 * 60 * 60 * 1000;
        }

        if (!isNaN(msecs)) {
            var ex = new Date();
            ex.setTime(ex.getTime() + msecs);
            expireStr = "; expires=" + ex.toUTCString();
        }
        if (args.path) {
            pathStr = "; path=" + args.path + ";";
        } else {
            pathStr = "; path=/;";
        }
        if (args.domain) { domainStr = "; domain=" + args.domain; }
        try {
            document.cookie = args.cookieName
             + "="
             + escape(args.cookieValue)
             + expireStr
             + pathStr
             + domainStr;
        } catch (e) {
            return false;
        }
        return true;
    },

    /**
    gets requested cookie.
    @param args { cookieName: string }
    */
    getCookie: function (args) {
        // LEGACY - if args is a string and not an object
        if (!args.cookieName) { args = { cookieName: args }; }

        var dict = cdc.cookie.unpackParamString(document.cookie, /\s*;\s*/);
        return dict[args.cookieName] || "";
    },

    /**
    deletes requested cookie.
    args are identical to setCookie, except that expiry is forced
    to a negative number, effectively deleting the cookie.
    */
    deleteCookie: function (args) {
        // mutating args obj might mess things up
        // if caller reuses it for other things
        var dArgs = {},
            name;
        for (name in args) {
            if (args.hasOwnProperty(name)) { dArgs[name] = args[name]; }
        }
        dArgs.msecs = dArgs.days = -1;
        dArgs.cookieValue = '';
        return cdc.cookie.setCookie(dArgs);
    },

    /**
    @param days number of days from now to count milliseconds for
    */
    daysFutureToTimeMS: function (days) {
        if (isNaN(parseInt(days))) { return 0; }
        var mydate = new Date();
        mydate.setTime(mydate.getTime() + ((days) * 24 * 60 * 60 * 1000));
        var ms = Date.parse(mydate);
        return ms;
    },

    // ###################################################################################
    // COOKIE CHIPS

    /**
    sets value of given cookie chip.
    to avoid naming collisions, cookie chips allow
    multiple name/value pairs within a single cookie.
    @param args {
        cookieName: string
        chipName: string
        chipValue: string
    }
    */
    addCookieChip: function (args) {
        // LEGACY - support old signature (string, string, string)
        if (!args.cookieName) { args = {cookieName: args, chipName: arguments[1], chipValue: arguments[2]}; }

        var str = cdc.cookie.getCookie(args),
            dict = cdc.cookie.unpackParamString(str);
        dict[args.chipName] = args.chipValue;
        cdc.cookie.setCookie({
            cookieName: args.cookieName,
            cookieValue: cdc.cookie.packParamString(dict),
            days: 366
        });
    },

    /**
    returns value of requested cookie chip
    @see cdc.cookie.addCookieChip
    @param args {
        cookieName: string
        chipName: string
    }
    */
    extractCookieChip: function (args) {
        // LEGACY - support old signature (string, string)
        if (!args.cookieName) { args = {cookieName: args, chipName: arguments[1]}; }

        var str = cdc.cookie.getCookie(args),
            dict = cdc.cookie.unpackParamString(str);
        return dict[args.chipName] || "";
    },

    /**
    deletes value of cookie chip
    @see cdc.cookie.addCookieChip
    @param args {
        cookieName: string
        chipName: string
    }
    */
    crumbleCookieChip: function (args) {
        // LEGACY - support old signature (string, string)
        if (!args.cookieName) { args = {cookieName: args, chipName: arguments[1]}; }

        var str = cdc.cookie.getCookie(args),
            dict = cdc.cookie.unpackParamString(str),
            removed = dict.hasOwnProperty(args.chipName),
            pStr;
        delete dict[args.chipName];
        pStr = cdc.cookie.packParamString(dict);

        // delete the cookie if it's empty
        if (!pStr) {
            cdc.cookie.deleteCookie(args);
        } else {
            cdc.cookie.setCookie({
                cookieName: args.cookieName,
                cookieValue: pStr,
                days: 366
            });
        }
        return removed;
    },

    /**
    takes a dictionary, returns a string
    e.g. {"foo":"bar","foo 2":"bar 2"} => "foo=bar&foo%202=bar%202"
    @param sep optional separator, defaults to "&"
    */
    packParamString: function (dict, sep) {
        sep = sep || '&';
        var frags = [],
            name;
        for (name in dict) {
            if (!dict.hasOwnProperty(name)) { continue; }
            frags.push(escape(name) + '=' + escape(dict[name]));
        }
        return frags.join(sep);
    },

    /**
    takes a string, returns a dictionary
    e.g. "foo=bar&foo%202=bar%202" => {"foo":"bar","foo 2":"bar 2"}
    @param sep optional separator, defaults to "&" (can be string or regexp)
    */
    unpackParamString: function (str, sep) {
        sep = sep || '&';
        var frags = str.split(sep),
            dict = {},
            frag,
            ioe,
            name,
            val,
            i;
        for (i = 0; i < frags.length && (frag = frags[i]); i++) {
            ioe = frag.indexOf('='); // expecting "foo=bar"
            if (ioe < 0) { continue; }
            name = unescape(frag.substring(0, ioe));
            val = unescape(frag.substring(ioe + 1));
            dict[name] = val;
        }
        return dict;
    }
};
/**
* rsvputil.js
*
* Dependencies:
* No dependencies
* 
* Usage:
* window.cdc.rsvputil.addEventListener([elem], [eventName], [callback])
* etc...
*
* Known Issues:
* Basic browser support includes IE 9+, FireFox (current), Chrome (current)
* and Safari (current)
*
* Listener callback
* @callback listenerCallback
* @param {Object} event IDOMEvent raised by listener
*
* EachObj callback
* @callback eachObjCallback
* @param {Object} object - item at the current index
* @param {number} index - index at which the object appears
* @param {Object[]} objects - all items in the array
*/
if (window.cdc === undefined) { window.cdc = {}; }

cdc.rsvputil = (function () {
    'use strict';
    var namespace = 'rsvputil';
    /**
     * add an event listener to an element
     *
     * @param {Object} elem HTML element
     * @param {String} eventName name of the event to attach
     * @param {listenerCallback} callback listener to attach
     */
    function addEventListener(elem, eventName, callback) {
        // W3C recommendation
        if (elem.addEventListener) {
            elem.addEventListener(eventName, function () {
                cdc.debug.log(namespace, eventName);
                callback();
            });
        } else if (elem.attachEvent) {
            // Lt IE 9 support
            elem.attachEvent('on' + eventName, callback);
        }
    }

    /**
     * throttles a function
     *
     * @param {callback} callback callback to throttle
     * @param {number} [delay=10] name of the event to attach
     */
    function throttle(callback, delay) {
        var timeout;
        delay = delay || 10;
        return function () { timeout = timeout ? window.clearTimeout(timeout) : window.setTimeout(callback, delay); };
    }

    /**
     * basic object iterator (IE 9 support for Array.prototype.forEach)
     * 
     * @param {Object[]} objects - list of objects to iterate
     * @param {callback} callback - 
     */
    function eachObj(objects, callback) {
        var i;
        for (i = 0; i < objects.length; i++) {
            callback(objects[i], i, objects);
        }
    }

    /**
     * Creates a new object literal by coallescing values from arguments
     *
     * @param {Object} defaults default values in new object literal
     * @param {Object} options values to copy into the new object literal
     * @returns {Object} an object literal with values collected from defaults and options
     */
    function extend(defaults, options) {
        var extended = {}, prop;
        for (prop in defaults) {
            if (Object.prototype.hasOwnProperty.call(defaults, prop)) {
                extended[prop] = defaults[prop];
            }
        }
        for (prop in options) {
            if (Object.prototype.hasOwnProperty.call(options, prop)) {
                extended[prop] = options[prop];
            }
        }
        return extended;
    }

    return {
        addEventListener: addEventListener,
        eachObj: eachObj,
        extend: extend,
        throttle: throttle
    };
})();

/**
*   mediaQueries
*   Data module - separates data input from mediaQueryObserver
*/
if (window.cdc === undefined) { window.cdc = {}; }

cdc.mediaQueries = (function () {
    return [
        { mediaQuery: 'only all', name: 'base', breakpoint: 0 },
        { mediaQuery: 'only all', name: 'short', breakpoint: 0 },
        { mediaQuery: 'only screen and (min-width:30em)', name: 'xsmall', breakpoint: 480 },
        { mediaQuery: 'only screen and (min-width:37.5em)', name: 'small', breakpoint: 600 },
        { mediaQuery: 'only screen and (min-width:37.5em)', name: 'tall', breakpoint: 600 },
        { mediaQuery: 'only screen and (min-width:48em)', name: 'medium', breakpoint: 768 },
        { mediaQuery: 'only screen and (min-width:60em)', name: 'large', breakpoint: 960 },
        { mediaQuery: 'only screen and (min-width:64em)', name: 'xlarge', breakpoint: 1024 },
        { mediaQuery: 'only screen and (min-width:64em)', name: 'grande', breakpoint: 1024 },
        { mediaQuery: 'only screen and (min-width:80em)', name: 'venti', breakpoint: 1280 }
    ];
})();

/**
*   mediaQueryObserver
*  
*   version: 1.0
*/
if (window.cdc === undefined) { window.cdc = {}; }

cdc.mqo = (function (mediaQueries, util, debug, foundation) {
    var namespace = 'mqo',
        callbacks = [];

    var getCurrentMax = function () {
        var maxMatch;
        util.eachObj(mediaQueries, function (item) {
            var isMediaMatch = foundation.mq(item.mediaQuery);
            maxMatch = isMediaMatch ? item.name : maxMatch;
        });
        return maxMatch;
    };

    var onStatusChange = function (oldQuery, newQuery) {
        debug.log(namespace, 'onstatuschange function entered');
        util.eachObj(callbacks, function (callback) {
            callback(oldQuery, newQuery);
        });
    };

    var update = function () {
        debug.log(namespace, 'update function entered');
        util.eachObj(mediaQueries, function (item) {
            var isMediaMatch = foundation.mq(item.mediaQuery),
                oldItem = util.extend({}, item);

            if (item.isMediaMatch === undefined || item.isMediaMatch !== isMediaMatch) {
                item.isMediaMatch = isMediaMatch;
                onStatusChange(oldItem, item);
            }
        });
    };

    util.addEventListener(window, 'resize', update);
    util.addEventListener(window, 'load', update);

    return function (size) {
        var mediaQueryItem;

        util.eachObj(mediaQueries, function (item) {
            mediaQueryItem = item.name === size ? item : mediaQueryItem;
        });

        return {
            onEnter: function (callback) {
                if (typeof callback !== 'function') { throw 'Media Query Observer requires a callback of type function'; }
                debug.log(namespace, 'onEnter started');
                var wrapper = function (oldQuery, newQuery) {
                    debug.log(namespace, 'onEnter wrapper entered');
                    if (newQuery.name !== size) { return; }
                    if ((oldQuery.isMediaMatch === undefined || oldQuery.isMediaMatch === false) && newQuery.isMediaMatch === true) {
                        debug.log(namespace, callback);
                        callback(oldQuery, newQuery);
                    }
                };
                callbacks.push(wrapper);
            },
            onExit: function (callback) {
                if (typeof callback !== 'function') { throw 'Media Query Observer requires a callback of type function'; }
                debug.log(namespace, 'onExit started');
                var wrapper = function (oldQuery, newQuery) {
                    debug.log(namespace, 'onExit wrapper entered');
                    if (newQuery.name !== size) { return; }
                    if ((oldQuery.isMediaMatch === undefined || oldQuery.isMediaMatch === true) && newQuery.isMediaMatch === false) {
                        debug.log(namespace, callback);
                        callback(oldQuery, newQuery);
                    }
                };
                callbacks.push(wrapper);
            },
            getScreenSize: function () {
                return getCurrentMax();
            }
        };
    };
})(cdc.mediaQueries, cdc.rsvputil, cdc.debug, cdc.foundation);
/**
 *  _breakpointhandler.js
 *  $Revision: 1.5 $
 */
(function () {
    if (window.cdc === undefined) { window.cdc = {}; }
    if (typeof cdc.mqo !== 'function') { throw 'Media Query dependency not met'; }

    cdc.breakpoint = (function () {
        var mqo = cdc.mqo,
            breakpoints = {
                base: 0,
                'short':0,
                xsmall: 480,
                small: 600,
                tall: 600,
                medium: 768,
                large: 960,
                xlarge: 1024,
                grande: 1024,
                venti: 1280
            };
        function getSizeFromNumber(num) {
            var size = 'base', key;
            for (key in breakpoints) {
                if (breakpoints.hasOwnProperty(key)) {
                    if (num >= breakpoints[key]) { size = key; }
                }
            }
            return size;
        }

        return {
            breakpoints: breakpoints,
            onEnter: function (callback, minWidth) {
                mqo(getSizeFromNumber(minWidth)).onEnter(callback);
            },
            onExit: function (callback, minWidth) {
                mqo(getSizeFromNumber(minWidth)).onExit(callback);
            },
            getScreenSize: function () {
                var screenSize;
                screenSize = mqo().getScreenSize();
                return screenSize;
            },
            isGridRowStacking: function (checkme) {
                // put it here, return true/false
                var myBp = mqo().getScreenSize(), imStacked = true, $row,
                    unstackedAt = {
                    // all rows are stacked below tall/small bp; all rows are unstacked from medium on
                    // this structure allows 
                        tall:["halves","twothirds-third","third-twothirds","wide-narrow","narrow-wide"]
                    };
                if (myBp === "tall") {
                    if (typeof checkme === "string") {
                        // if you want to know about a halves row inside a halves row or a halves row inside
                        // quarter-half-quarter or a halves row with .col.half.medium then value to send is
                        // halvesinhalf
                        if (unstackedAt["tall"].indexOf(checkme) >= 0 ) {
                            imStacked = false;
                        }
                    } else if (typeof checkme === "object") {
                        $row = checkme.closest('.row');
                        if ($row.hasClass('halves')) {
                            imStacked = ($row.hasClass('medium') || $row.parent().closest('.row').hasClass('halves') || $row.closest('.row').hasClass('quarter-half-quarter'));
                        } else {
                            for (let i = 0; i < unstackedAt['tall'].length && imStacked; i++) {
                                if ( $row.hasClass(unstackedAt['tall'][i])) {
                                    imStacked = false;
                                }
                            }
                        }
                    }
                } else if (myBp === "medium" || myBp === "large" || myBp === "grande" || myBp === "venti") {
                    imStacked = false;
                }
                return imStacked;
            }
        };
    }());
}());

/**
 * _framework_touch.js
 * $Revision: 1.4 $
 *
 *   This script sets up touch functionality at framework level for general usage
 *
 *   (c) 1992-2013 Cisco Systems, Inc. All rights reserved.
 *   Terms and Conditions: http://cisco.com/en/US/swassets/sw293/sitewide_important_notices.html
 *
 */

if (window.cdc === undefined) { window.cdc = {}; }
if (cdc.touch === undefined) { cdc.touch = {}; }

cdc.touch = (function() {
    // used as swipe directional identifier
    var left = 'toleft';
    var right = 'toright';
    var threshold = .3;
    var inTouch = false;  // continuous swiping
    var touchEvents = {};
    var objIEGesture = [];
        
    var clearTouch = function() {
        touchEvents = {};
    };
    
    //  MSGesture doesn't work wirh jQuery object - use the function below to get pure javascript object
    var setObj = function(obj) {
        var rootObj = undefined;
        if (obj instanceof jQuery) {
            //  assign a random Id to the element if there's none
            if (jQuery(obj).attr('id') == undefined || jQuery(obj).attr('id') == '') {
                var randId = 'touch-id-' + Math.floor((Math.random() * 10000) + 1);
                if (!document.getElementById(randId)) {
                    jQuery(obj).attr('id', randId);
                    rootObj = document.getElementById(randId);
                } else {
                    setObj(obj);
                }
            } else {
                rootObj = document.getElementById(jQuery(obj).attr('id'));
            }
        } else {
            rootObj = obj;
        }
        return rootObj;
    };
    
    var addSwipeHandler = function(obj) {
        // ie10+
        if (('onmsgesturechange' in window)) {
            objIEGesture['"' + obj.id + '"'] = new MSGesture();
            obj.addEventListener("MSGestureStart", function(evt) {
                clearTouch();
                inTouch = true;
                touchEvents.startX = evt.clientX;
                touchEvents.startY = evt.clientY;
                }, false);
            obj.addEventListener("MSGestureChange",  function(evt) {
                    evt.stopPropagation();
                }, false);
            obj.addEventListener("MSGestureEnd", function(evt) {
                inTouch = false;
                touchEvents.endX = evt.clientX;
                touchEvents.endY = evt.clientY;
                if (isOverThreshold()) {
                    obj.callback(getSwipeDirection());
                }
            }, false);
            obj.addEventListener("MSPointerDown", function(evt) {
                objIEGesture['"' + obj.id + '"'].addPointer(evt.pointerId)}, false);
            
            objIEGesture['"' + obj.id + '"'].target = obj;
        } else {
            jQuery(obj).on ("touchstart", function(event) {
               clearTouch();
               inTouch = true;
               touchEvents.startX = event.originalEvent.touches[0].pageX;
               touchEvents.startY = event.originalEvent.touches[0].pageY;
            });
            
            jQuery(obj).on ("touchend", function(event) {
                inTouch = false;
                touchEvents.endX = event.originalEvent.changedTouches[0].pageX;
                touchEvents.endY = event.originalEvent.changedTouches[0].pageY;
                if (isOverThreshold(obj)) {
                    obj.callback(getSwipeDirection());
                }
            });
           
            jQuery(obj).on ("touchmove", function(event) {
                if (Math.abs(event.originalEvent.changedTouches[0].pageY - touchEvents.startY) < Math.abs(event.originalEvent.changedTouches[0].pageX - touchEvents.startX)) {
                    event.preventDefault();     // this fixes Android device (swiping not advancing prev/next item)
                }
            });
            
            jQuery(obj).on ("touchcancel", function(event) {
                inTouch = false;
                touchEvents.cancel = true;
                obj.callback();
            });
        }
    };
   
    var getSwipeDirection = function() {
       return ((touchEvents.startX - touchEvents.endX) > 0 ? left : right);
    };

    var isOverThreshold = function(obj) {
        var rootWidth = jQuery(obj).width();
        var slideX = touchEvents.startX - touchEvents.endX;
    
        return (Math.abs(slideX/rootWidth) >= threshold );
    };
    
    return {
        left: left,
        right: right,
        
        swipe: function(obj, callbackFunc, swipeThreshold) {
            // touch capability not supported
            // no-touch class removed by responsive_frag/framework/_foundation.js
            if (document.documentElement.className.indexOf('no-touch') !== -1) { return; }

            var newObj = setObj(obj);
            newObj.callback = callbackFunc;

            //  swipeThreshold is expected to be a decimal number between 0.0 and 1.0 - fraction of viewport's width
            if (arguments.length > 2) {
                threshold = arguments[2];
            }
            addSwipeHandler(newObj);
        },
        
        inTouch: function() {
            return inTouch;
        }
    };
})();

if (window.cdc === undefined) { window.cdc = {}; }
if (cdc.cdcMasthead === undefined) { cdc.cdcMasthead = {}; }
let partner_menu_open = false;
let profile_login_open = false; 
let language_menu_open = false;

cdc.cdcMasthead.methods = [{
    key: 'getActiveElement',
    /**
     * Retrieves current active element based on class string that doesn't match regex
     * @return {String} Name of current active element
     */
    value: function getActiveElement(element) {
        element = element || cdc.wcUtil.getObj('masthead');
        return element.className.replace(new RegExp(cdc.cdcMasthead.properties.regexMastheadClasses.value, 'g'), '').trim() || "";
    }
}, {
    key: 'getVisibleButtonsArray',
    /**
     * Returns array of buttons that have a height value
     * @return {Array}  array of active buttons
     */
    value: function getVisibleButtonsArray() {
        return Array.prototype.slice.call(cdc.wcUtil.getObj('masthead').querySelectorAll('#fwt-utilities button')).filter(function (b) { return b.getBoundingClientRect().height > 0; }).reverse();
    }
}, {
    key: 'removeClass',
    value: function removeClass(collection, className) {
        for (var i = 0; i < collection.length; i++) { collection[i].classList.remove(className); }
    }
}, {
    key: 'getIndex',
    /**
     * QuerySelectorAll doesn't return an array, but we need indexOf elements
     * @param {Node}  item a node you want indexOf
     * @param {NodeList} list of nodes to search
     */
     value: function getIndex(item, list) {
        var i;
        for ( i=0; i < list.length; i++) {
            if (list[i] == item) break;
        }
        return i <list.length?i:-1;
     }
}, {
    key: 'init',
    value: function init(masthead) {   
        

        

          
        

        var setListenerforFrame = function(masthead, navinner, elem){

          elem.addEventListener('click', function(e){ 

            let sitearea = navinner.getObjBySelector('[is-nav-open]');
            let partner_menu = masthead.querySelector("#fwt-partner");
            let profile_menu = masthead.querySelector("#fwt-profile-button");
            let profile_menu_inner = masthead.querySelector("#fwt-profile");
            let language_menu = masthead.querySelector("#fwt-language-button");
            let language_menu_inner = masthead.querySelector("#fwt-language");
            let nav_menu = masthead.querySelector("#fwt-nav-button");
            let search_menu = masthead.querySelector("#fwt-search-button");
            let sitearea_buttons = masthead.querySelector("#fwt-sitearea-buttons");
            let closeIt = false;

            let cdcsearch = cdc.wcUtil.getObj('search');
            let activeElement = cdc.wcUtil.getMethod('cdc-masthead', 'getActiveElement')();
            let cdcnavactual = (cdc.wcUtil.getObj('masthead', null, true) !== document ? !masthead.querySelector("#fwt-masthead-overlay").contains(e.target):true);




            let labelled_button = '[name="' + navinner.activeSitearea + '"]';

            let isGrande = navinner.mq(navinner.grandeBreakpoint);

            let nav_condition = (activeElement !== "nav");
             if(navinner.isNavOpen||(sitearea !== null && sitearea.isNavOpen)){
                nav_condition =   ( (document.querySelector(labelled_button) === null || (document.querySelector(labelled_button) !== null && !document.querySelector(labelled_button).contains(e.target)))
                && !navinner.contains(e.target) );

            }
           
            let search_menu_exp = ((search_menu !== null)?(!search_menu.contains(e.target)):cdcsearch.contains(e.target));
            if(e.target.id !== "fwt-partner-button"
            && !partner_menu.contains(e.target)
            && e.target.id !== "fwt-profile-button-loggedout-title"
            && e.target.id !== "fwt-profile-button"
            && !e.target.classList.contains("fwt-language-submenu")
            && !profile_menu.contains(e.target)
            && !profile_menu_inner.contains(e.target)
            && e.target.id  !== "fwt-language-button"
            && !language_menu.contains(e.target)
            && !language_menu_inner.contains(e.target)
            && !e.target.id !== "fwt-nav-button"
            && !nav_menu.contains(e.target)
            && cdcnavactual
            && e.target.id!== "fwt-search-button"
            && !sitearea_buttons.contains(e.target)
            && nav_condition
            && search_menu_exp
            ){
				if(navinner.isNavOpen||(sitearea !== null && sitearea.isNavOpen)){

                    if(isGrande){
                       navinner.closeSitearea();
                    }else{
						navinner.toggleNavVisibility();
                    }
                     navinner.navMetricsHandler(e, navinner); 
                }else{
                    var mastheadClickHandler = cdc.wcUtil.getMethod('cdc-masthead', 'mastheadClickHandler');
                    var targetElement = '';
                    if(partner_menu_open){
                        targetElement = masthead.querySelector('#fwt-partner-button');
                        partner_menu_open = false;
                        closeIt=true;      
                    } else if(profile_login_open){
                        targetElement= masthead.querySelector('#fwt-profile-button');	
                        profile_login_open = false;
                        closeIt=true;
                    } else if(language_menu_open){	
                        targetElement = masthead.querySelector('#fwt-language-button');
                        language_menu_open = false;
                        closeIt=true; 
                    }

                    if (activeElement !== '' && closeIt) { 
                        mastheadClickHandler(targetElement);
                        closeIt=false;
                    }   
                }         
            }

          });
        }
    
        masthead = cdc.wcUtil.getObj('masthead', masthead);

        if(cdc.isRei){
            setListenerforFrame(masthead, cdc.wcUtil.getObj('nav', cdc.wcUtil.getObj('masthead'), true),  cdc.wcUtil.getObj('template'));
        }else{
            if(cdc.isReiJspLoaded){
                if(masthead.querySelector("#fwt-search-button")!=null) masthead.querySelector("#fwt-search-button").tabIndex=1;
                masthead.querySelector('#fwt-utilities').insertBefore(masthead.querySelector('#fwt-profile-button'),masthead.querySelector('#fwt-search-button').nextSibling);
                masthead.querySelector('#fwt-utilities').insertBefore(masthead.querySelector('#fwt-language-button'),masthead.querySelector('#fwt-profile-button').nextSibling);
            }
            if(document.querySelector('#skiplink-search')!=null) document.querySelector('#skiplink-search').remove();
        } 

        window.addEventListener('DOMContentLoaded', function () {
            // search component has failed to load so expose button so that users can be redirected to SRP
            if (!cdc.wcUtil.getObj('masthead', masthead).classList.contains('ready') && typeof cdcSearch === "undefined" && typeof cdc.cdcSearch === "undefined") { masthead.classList.add('ready'); }
            if( document.querySelector('#fw-breadcrumb a[itemprop="item"]') !== null){
                document.querySelector('#fw-breadcrumb a[itemprop="item"]').addEventListener('keydown', function (event) {
                    if (event.keyCode === 9 && event.shiftKey) {
                        event.preventDefault();
                        if(cdc.isRei){
                        	if (masthead.querySelector('#fwt-search-button') !== null) { masthead.querySelector('#fwt-search-button').focus(); }
                        }
                    }
                });
            }
        });

        var mastheadClickHandler = cdc.wcUtil.getMethod('cdc-masthead', 'mastheadClickHandler'),
            i;

        // don't let people shift tab from content into links that they can't see
        if (document.querySelector('#fw-content a, #fw-content button') !== null) {
            document.querySelector('#fw-content a, #fw-content button').addEventListener('keydown', function (event) {
                if (event.keyCode === 9 && event.shiftKey) {
                    event.preventDefault();
                    if(!cdc.isRei)
                    if (masthead.querySelector('#fwt-language-button') !== null) { masthead.querySelector('#fwt-language-button').focus(); }
                    if(cdc.isRei)
                    if (masthead.querySelector('#fwt-search-button') !== null) { masthead.querySelector('#fwt-search-button').focus(); }
                    
                }
            });
        }

        /**
         * Send metrics using trackEvent
         *
         * @param  {String}  elem   String from masthead
         * @param  {string}  link   (optional) for logo
         */
        function sendMetrics(element, link) {
            let state = '';
            if (element !== 'logo') {
                state = element + (masthead.classList.contains(element) ? ' Open' : ' Close');
            } else {
                state = 'Cisco Logo';
            }
            let dataObj = {
                lpos: element + ' Button',
                lid: 'Masthead',
                linktext: state,
                link: link || ''
            };
            trackEvent.event('link', dataObj);
        }

        /**
         * Used to append class to the utilities container so that the masthead overlay arrow positioning is correct relative to the utilities button that has been clicked
         * This invoked when masthead is initialized and with resize listener
         */
        function noLanguageSelectorHandler() {
            var utilities = masthead.querySelector('#fwt-utilities');
            if (cdc.wcUtil.getMethod('cdc-masthead', 'mq')(cdc.cdcMasthead.properties.grandeBreakpoint.value)) {
                utilities.classList.remove('no-language-selector');
            } else {
                utilities.classList.add('no-language-selector');
            }
        }

        function searchButtonHandler(button) {
            var search = masthead.querySelector('cdc-search');
            if (typeof search.toggleSearchVisibility === 'function') {
                search.toggleSearchVisibility();
            } else {
                window.location = 'https://search.cisco.com/search';
            }
        }

        function eventHandler() {
            let activeElName = cdc.wcUtil.getMethod('cdc-masthead', 'getActiveElement')(),
                nav = cdc.wcUtil.getObj('nav'),
                search = cdc.wcUtil.getObj('search'),
                navActiveElement = nav.activeElement != null ? nav.activeElement.tagName : null,
                searchActiveElement =  search.activeElement != null ? search.activeElement.tagName : null;
            if (activeElName.length > 0 && !nav.isSupportFormActive && navActiveElement !== 'INPUT' && searchActiveElement !== 'INPUT') {
                let overlay = masthead.querySelector('#fwt-masthead-overlay'),
                    overlayActiveElement = cdc.wcUtil.getMethod('cdc-masthead', 'getActiveElement')(overlay);

                if (overlayActiveElement !== "" && overlay!=null) { overlay.classList.remove(overlayActiveElement); }

                cdc.wcUtil.getMethod('cdc-masthead', 'mastheadClickSwitchState')("", activeElName, masthead);
                let mastheadClickHandlerParam = masthead.querySelector('#fwt-' + activeElName + '-button');
                if(mastheadClickHandlerParam!=null){
                    mastheadClickHandler(mastheadClickHandlerParam);
                }
                if (nav.siteareaOpen) { nav.siteareaOpen = false; }
            }

            if (masthead.querySelector('#fwt-minicart-button') !== null) { cdc.wcUtil.getMethod('cdc-masthead-sat', 'minicartStatusHandler')(); }
        }

        if (!masthead.classList.contains('cdc-microsites') && cdc.cdcMastheadSat !== undefined) { noLanguageSelectorHandler(); }

        /* nav listeners */
        if (masthead.querySelector('#fwt-nav-button') !== null) {
            var nav = cdc.wcUtil.getObj('nav', masthead, true),
                navListener = function (event) {
                    if (!masthead.classList.contains('no-nav-wc') && typeof nav.toggleNavVisibility === 'function') {
                        nav.toggleNavVisibility();
                    } else {
                        mastheadClickHandler(this);
                    }

                    if (!masthead.classList.contains('nav')) {
                        if (event.target.name !== 'fwt-nav-button') { masthead.querySelector('#fwt-nav-button').focus(); }
                        else { masthead.querySelector('button[name="fwt-nav-button"]').focus(); }
                    }
                    // can be replaced with once nav experience is the same across all locales
                    // if (!masthead.classList.contains('nav')) { masthead.querySelector('#fwt-nav-button').focus(); }

                    sendMetrics('nav');

                    // prevent multiple nav button clicks 
                    // can remove conditional once nav experience is the same across all locales
                    if (event.target.name !== 'fwt-nav-button') {
                        masthead.querySelector('#fwt-nav-button').removeEventListener('click', navListener);

                        setTimeout(function () {
                            masthead.querySelector('#fwt-nav-button').addEventListener('click', navListener);
                        }, nav.navTiming);
                    }
                };

            masthead.querySelector('#fwt-nav-button').addEventListener('click', navListener);
            masthead.querySelector('#fwt-nav-button').addEventListener('keydown', function (event) {
                // if menu is open - tab puts you back inside
                if (event.keyCode === 9 && cdc.wcUtil.getMethod('cdc-masthead', 'getActiveElement')() === 'nav') {
                    event.preventDefault();
                    if(cdc.isRei){
                        nav.getObjBySelectorAll('.wc-narrow button:not(.menu-controls-btn)')[0].focus();
                    }else{
                        nav.getObjBySelectorAll('.wc-narrow button:not(.back-button)')[0].focus();
                    }
                }
            });

            if (masthead.querySelectorAll('#fwt-sitearea-buttons') !== null) {
                let mq = cdc.wcUtil.getMethod('cdc-masthead','mq');
                let isGrande = mq(cdc.cdcMasthead.properties.grandeBreakpoint.value);
                var siteareaListener = function (event) {


                    if (!masthead.querySelector('#fwt-sitearea-buttons').classList.contains('animating')) {
                        let button = this,
                            name = button.name,
                            activeElement = cdc.wcUtil.getMethod('cdc-masthead', 'getActiveElement')(),
                            isNavButton = masthead.querySelector('#' + name) !== null,
                            wasOpen = false;

                        // mastheadClickHandler needs to be fired so that if another element was active, it's current state is handled appropriately 
                        if (activeElement !== '' && name !== 'fwt-nav-button') {
                            cdc.wcUtil.getMethod('cdc-masthead', 'mastheadClickSwitchState')("", activeElement, masthead);
                            mastheadClickHandler(masthead.querySelector('#fwt-'+activeElement+'-button'));
                        }

                        // close active sitearea
                        if (nav.getObjBySelector('[is-nav-open]') !== null) {
                            // set wasOpen if the active sitearea button corresponds to the button in the masthead that was clicked
                            wasOpen = nav.activeSitearea === name;
                            nav.closeSitearea();
                        }

                        // if it is a click on the more button, emulate click on #fwt-nav-button
                        // otherwise, emulate click on corresponding sitearea button (triggers navElementClickHandler)
                        // can remove if conditional block once nav experience is the same across all locales
                        if (isNavButton) {
                            if (nav.siteareaOpen) {
                                nav.siteareaOpen = false;
                                nav.activeSitearea = "";
                            }
                            navListener(event);
                            button.setAttribute('aria-expanded', (button.getAttribute('aria-expanded') === 'false'));
                            button.removeEventListener('click', siteareaListener);
                            setTimeout(function () {
                                button.addEventListener('click', siteareaListener);
                            }, nav.navTiming);
                        } else {
                            nav.siteareaOpen = !wasOpen;
                            button.setAttribute('aria-selected', !wasOpen);
                            
                            if ((nav.getObj(name) !== null || name === "SupportLearn" && nav.getObj("Support") !== null) && !wasOpen) {
                                if (name === "SupportLearn" && nav.getObj("Support")) {
                                    nav.getObj("Support").click();
                                } else {
                                    nav.getObj(name).click();
                                }
                                if(cdc.isRei){
                                    nav.getObjBySelector('[is-nav-open]').getObjBySelectorAll('.wc-narrow a, .wc-narrow button:not(.menu-controls-btn)')[0].focus();
                                }else{
                                    nav.getObjBySelector('[is-nav-open]').getObjBySelectorAll('.wc-narrow a, .wc-narrow button:not(.back-button)')[0].focus();
                                }

                                if (nav.isNavOpen) {
                                    nav.isNavOpen = false;
                                    nav.navReady = false;
                                }
                            }

                            if (nav.siteareaOpen) {
                                nav.activeSitearea = name;
                            } else {
                                nav.activeSitearea = "";
                            }


                            if (masthead.querySelector('button[name="fwt-nav-button"]') !== null) {
                                masthead.querySelector('button[name="fwt-nav-button"]').setAttribute('aria-expanded', false);
                            }
                        }

                        masthead.querySelector('#fwt-sitearea-buttons').classList.add('animating');
                        setTimeout(function () {
                            masthead.querySelector('#fwt-sitearea-buttons').classList.remove('animating');
                        }, nav.navTiming);
                        button.focus();


                    }
                };
                masthead.querySelectorAll('#fwt-sitearea-buttons button').forEach(function (button) {
                    var name = button.name;
                    
                    button.addEventListener('click', siteareaListener);
                    button.addEventListener('keydown', function (event) {
                        // if menu is open - tab puts you back inside
                        if (event.keyCode === 9 && !event.shiftKey) {
                            if (nav.siteareaOpen && nav.activeSitearea === name) {
                                event.preventDefault();
                                if(cdc.isRei){
                                    nav.getObjBySelector('[is-nav-open]').getObjBySelectorAll('.wc-narrow-wide.active .wc-narrow a, .wc-narrow-wide.active .wc-narrow button:not(.menu-controls-btn)')[0].setAttribute("tabindex", "0");
                                    let all_subpanels = nav.getObjBySelector('[is-nav-open]').getObjBySelectorAll('.wc-narrow-wide .wc-wide');
                                    let all_tab_index_current = 2;
                                    for(let i = 0;  i < all_subpanels.length; ++i){
                                        if(all_subpanels[i].querySelector("a:first-of-type") !== null){
                                            all_subpanels[i].querySelector("a:first-of-type").setAttribute("tab-index", all_tab_index_current.toString());
                                        }
                                        all_tab_index_current+=1;
                                    }
                                	nav.getObjBySelector('[is-nav-open]').getObjBySelectorAll('.wc-narrow-wide.active .wc-narrow a, .wc-narrow-wide.active .wc-narrow button:not(.menu-controls-btn)')[0].focus();
                                }else{
                                	nav.getObjBySelector('[is-nav-open]').getObjBySelectorAll('.wc-narrow a, .wc-narrow button:not(.back-button)')[0].focus();
                                }
                            } else if (nav.isNavOpen) {
                                event.preventDefault();
                                if(cdc.isRei){
                                    let button = Array.from(nav.getObjBySelectorAll('.wc-narrow button:not(.menu-controls-btn)')).filter(function (e) { return e.getBoundingClientRect().height > 0; })[0];
                                }else{
                                    let button = Array.from(nav.getObjBySelectorAll('.wc-narrow button:not(.back-button)')).filter(function (e) { return e.getBoundingClientRect().height > 0; })[0];
                                }
                                button.click();
                                button.focus();
                            }
                        }else if(event.keyCode == 27){
                            if (nav.siteareaOpen && nav.activeSitearea === name) {
                                event.preventDefault();
                                button.click();
                            }
                        }
                    });
                });
            }
        }

        /* search listeners */
        if (masthead.querySelector('#fwt-search-button') !== null) {
            masthead.querySelector('#fwt-search-button').addEventListener('click', function () {
                if(cdc.isRei){
                    profile_login_open = false;
                    partner_menu_open = false;
                    language_menu_open = false;
                }

                searchButtonHandler(this);
                sendMetrics('search');
            });

            masthead.querySelector('#fwt-search-button').addEventListener('keydown', function (event) {
                if (event.keyCode === 9 && !event.shiftKey) {
                    if(!cdc.isRei){
                        if (document.querySelector('#fw-skiplinks a')) { // go to first skiplink
                            event.preventDefault();
                            document.querySelectorAll('#fw-skiplinks a')[0].focus();
                        }
                    } else if(document.body.classList.contains('cdc-support-home-page') && document.querySelector('#fw-content #langSelector .first a')) {
                        document.querySelector('#fw-content #langSelector .first a').focus();
                    } else {
                        var nav = cdc.wcUtil.getObj('nav', masthead, true);
                        // close active sitearea
                        if (nav.getObjBySelector('[is-nav-open]') !== null) {
                            // set wasOpen if the active sitearea button corresponds to the button in the masthead that was clicked
                            //wasOpen = nav.activeSitearea === name;
                            nav.closeSitearea();
                        }


                        	let tabTo = document.querySelectorAll('#fw-content #fw-breadcrumb ul a:first-of-type, #fw-content a, #fw-content button, #fw-content input')[0] || document.querySelector('#fw-content');

                       		tabTo.focus();


                    }

                } else if (event.keyCode === 32) {  // space bar will open it also
                    masthead.querySelector('#fwt-search-button').click();
                }
            });
            // back up from skip links to search button not form
            if (document.querySelector('#fw-skiplinks a') !== null) {
                if(!cdc.isRei){
                    document.querySelectorAll('#fw-skiplinks a')[0].addEventListener('keydown', function (event) {
                        if (event.keyCode === 9 && event.shiftKey) {
                            event.preventDefault();
                            masthead.querySelector('#fwt-search-button').focus();
                        }
                    });
                }
                

                if(cdc.isRei){
                    document.querySelectorAll('#skiplink-footer')[0].addEventListener('keydown', function (event) {
                        if (event.keyCode === 9 && !event.shiftKey) {
                            event.preventDefault();
                            masthead.querySelector('#fwt-buy-button').focus();
                        }
                    });                    
                    document.querySelectorAll('#skiplink-search')[0].addEventListener('keydown',function(event){
                        if(event.keyCode==13){
                            event.preventDefault();
                            masthead.querySelector('#fwt-search-button').click();

                        }
                    });
                    masthead.querySelectorAll('#fwt-buy-button')[0].addEventListener('keydown', function (event) {
                        if (event.keyCode === 9 && event.shiftKey) {
                            event.preventDefault();
                            document.querySelectorAll('#skiplink-footer')[0].focus();
                        }
                    }); 
                    masthead.querySelectorAll('#fwt-logo')[0].addEventListener('keydown', function (event) {
                        if (event.keyCode === 9 && event.shiftKey) {
                            event.preventDefault();
                            document.querySelectorAll('#fwt-language-button')[0].focus();
                        }
                    });                     
                }
            }
        }



        if(cdc.isRei){
            if(masthead.querySelector('#fwt-partner-button') !== null){
                let targetObj = document;

                if(cdc.wcUtil.getObj('template', document, true).searchNoRefresh){
                    targetObj = cdc.wcUtil.getObj('template');
                }
                let partnerButton = masthead.querySelector('#fwt-partner-button');
                partnerListener = function () {
    
                    let mq = cdc.wcUtil.getMethod('cdc-masthead','mq'),
                    isGrande = mq(cdc.cdcMasthead.properties.grandeBreakpoint.value);
                    
    
                    partner_menu_open = true;
                    mastheadClickHandler(partnerButton);
                    sendMetrics('partner');

                    partnerButton.focus();


                  




                    
                },
    
                partnerButton.addEventListener('click', partnerListener);

                partnerButton.addEventListener('keydown', function(event){
                    if (event.keyCode === 9) { // tab key
                        event.preventDefault();
                        if(event.shiftKey){
                            let buyButton = targetObj.querySelector("#fwt-buy-button");
                            if(buyButton !== undefined && buyButton !== null){
                                buyButton.focus();
                            }
                        }else{
                            if(targetObj.querySelector("#fwt-masthead") !== null
                            && targetObj.querySelector("#fwt-masthead") !== undefined
                                && targetObj.querySelector("#fwt-masthead").classList.contains("partner")
                                ){
                                targetObj.querySelector(".fwt-partner-container ul li a:first-of-type").focus();
                            }else{
                                targetObj.querySelector("#fwt-profile-button").focus();
                            }
                        }

                        // if(masthead.querySelector('#fwt-partner-content button,#fwt-partner-content a') !== undefined && 
                        // masthead.querySelector('#fwt-partner-content button,#fwt-partner-content a') !== null){
                        //     masthead.querySelector('#fwt-partner-content button,#fwt-partner-content a').focus();
                        // }else if(masthead.querySelector('#fwt-partner button,#fwt-partner-container a') !== undefined && 
                        //   masthead.querySelector('#fwt-partner button,#fwt-partner-container a') !== null){
                        //     masthead.querySelector('#fwt-partner button,#fwt-partner-container a').focus();
                        // }                        
                    } else if (event.keyCode === 27) {   // escape
                        partnerCloseButton.click();
                        partnerButton.focus();
                    }
                });
    
    
                let partnerCloseButton = masthead.querySelector('.close-partner-button');
    
    
    
                partnerCloseButton.addEventListener('click', function () { 
    
                    if(partner_menu_open){
                        let targetElement = targetObj.querySelector('#fwt-partner-button');
                        partner_menu_open = false;
                        let closeIt=true;      
    
                        mastheadClickHandler(targetElement);
                        closeIt=false;
                        partnerButton.focus();



                        
                    }


                
                });

                let partnerLoginButton = targetObj.querySelector('#fwt-partner .profile-url');  
                let findPartner = targetObj.querySelector('#fwt-partner .find-partner a');   
                let meetPartner = targetObj.querySelector('#fwt-partner .meet-partner a');   
                let becomePartner = targetObj.querySelector('#fwt-partner .become-partner a'); 
                let partnerHome = targetObj.querySelector('#fwt-partner .fwt-partner-container ul li a');
                
                
                partnerHome.addEventListener('keydown', function(event){
                    if (event.keyCode === 9) { // tab key
                        event.preventDefault();
    
                        if (event.shiftKey) { // shift + tab
                            let contentLinks = targetObj.querySelectorAll('#fwt-partner-button');
                            contentLinks[0].focus();    // loop to first        
                        }else{
                            let newPartnerProgram = targetObj.querySelectorAll('#fwt-partner .fwt-partner-container ul li a');
                            newPartnerProgram[1].focus();
                        } 
                    }                  
                })
                partnerLoginButton.addEventListener('keydown', function (event) {
                    if (event.keyCode === 9) { // tab key
                        event.preventDefault();
    
                        if (event.shiftKey) { // shift + tab
                            let contentLinks = targetObj.querySelectorAll('.fwt-partner-container button,.fwt-partner-container a');
                            contentLinks[contentLinks.length-1].focus();                            
                        }else{ // tab

                            findPartner.focus();
                        }
                    }
                });
                findPartner.addEventListener('keydown', function (event) {
                    if (event.keyCode === 9) { // tab key
                        event.preventDefault();    
                        if (event.shiftKey) { // shift + tab
                            partnerLoginButton.focus()
                        }else{
                            meetPartner.focus();
                        }
                    }
                });    
                meetPartner.addEventListener('keydown', function (event) {
                    if (event.keyCode === 9) { // tab key
                        event.preventDefault();    
                        if (event.shiftKey) { // shift + tab
                            findPartner.focus()
                        }else{
                            becomePartner.focus();
                        }
                    }
                });                                       
                becomePartner.addEventListener('keydown', function (event) {
                    if (event.keyCode === 9) { // tab key
                        event.preventDefault();
    
                        if (event.shiftKey) { // shift  tab
                            
                            meetPartner.focus();
                        }else{ // tab
                            targetObj.querySelector(".close-partner-button #fwt-partner-close-button").focus();
                        }
                    }
                });            
                partnerCloseButton.addEventListener('keydown', function (event) {
                    if (event.keyCode === 9) { // tab key
                        event.preventDefault();
                        let contentLinks = targetObj.querySelectorAll('#fwt-partner-button');
    
                        if (event.shiftKey) { // shift+tab
                            becomePartner.focus();  // loop to last
                        } else {  // tab only
                            contentLinks[0].focus();    // loop to first
                        }
                    }
                }); 




                masthead.querySelector("#fwt-partner").addEventListener('keydown', function (event) {
                    if (event.keyCode === 27) {   // escape
                        partnerCloseButton.click();
                        partnerButton.focus();
                    }
                });  
                
                // partner login button redirect url issue fix
                if (cdc.wcUtil.getObj('masthead', null, true) !== document) {
                    var profileLink = cdc.wcUtil.getObj('masthead', null).querySelector("a.profile-url"),
                    ciscoPat =  new RegExp (/^([^\/])*?\/\/([^\/])*cisco\.com\//),
                    linkIsCisco = false, refIsCisco = false;

                    if(profileLink!=null && profileLink!=undefined){
                        linkIsCisco = ciscoPat.test(profileLink.href);

                    }
                    refIsCisco = ciscoPat.test(window.location.href);
                    if (profileLink && linkIsCisco && refIsCisco ) { 
                        profileLink.setAttribute('href', profileLink.href.substring(0, profileLink.href.indexOf("?referer=") + 9) + encodeURIComponent(window.location.href)); 

                                                                                
                    }
                }  
   
    
    
            }

        }
        /* profile listeners */
        if (masthead.querySelector('#fwt-profile-button') !== null) {
            cdc.wcUtil.getMethod('cdc-masthead', 'profileInit')(masthead);
            let mq = cdc.wcUtil.getMethod('cdc-masthead','mq'),
                isGrande = mq(cdc.cdcMasthead.properties.grandeBreakpoint.value);
            var profileButton = masthead.querySelector('#fwt-profile-button'),
                profileCloseButton = masthead.querySelector('#fwt-profile-close-button'),
                profileLinks = masthead.querySelectorAll('#fwt-profile-content a, #fwt-profile-content button'),
                profileListener = function () {
                	if(cdc.isRei){
	                    profile_login_open = true;
                	}
                    sendMetrics('profile');
                    if(profileButton.classList.contains('loggedin')){
                    	mastheadClickHandler(profileButton);                    
                    	masthead.querySelector('#fwt-profile-content button,#fwt-profile-content a').focus();
                    	isGrande = mq(cdc.cdcMasthead.properties.grandeBreakpoint.value);
                    }else{
                    	let loginLink = masthead.querySelectorAll('#fwt-profile-content .login-url'); 
                        if(loginLink.length !== 0 && loginLink[0].href!=null && loginLink[0].href!=""){
							window.location.href = loginLink[0].href;
                        }
                    }                    
                },
                profileLinksListener = function (event) {

                  
                    var getIndex = cdc.wcUtil.getMethod('cdc-masthead', 'getIndex');
                    var ind = getIndex(event.target, profileLinks);
                    if (ind === (profileLinks.length - 1) && event.keyCode === 9 & !event.shiftKey) {
                        // pressed tab on last link
                        event.preventDefault();
                        profileCloseButton.focus();
                    } else if (ind === 0 && event.keyCode===9 && event.shiftKey) {
                        // pressed shift+tab on first link
                        event.preventDefault();
                        profileCloseButton.focus();
                    }
                };
            masthead.querySelector("#fwt-profile").addEventListener('keydown', function (event) {
                if (event.keyCode === 27) {   // escape
                    profileCloseButton.click();
                    profileButton.focus();
                }
            });
            

            
            // moving fw-profile-button from top utility bar to utility bar in mobile view and back in larger views
            if(cdc.isRei){
    
                if(!isGrande){
                    masthead.querySelector('#fwt-utilities').insertBefore(masthead.querySelector('#fwt-profile-button'),masthead.querySelector('#fwt-search-button'));
                    masthead.querySelectorAll('.fwt-rei-utilities-right')[0].insertBefore(masthead.querySelector('#fwt-exploreCisco-button'),masthead.querySelectorAll('.fwt-rei-utilities-right')[0].children[0]);
                    
                }else{
                    masthead.querySelectorAll('.fwt-rei-utilities-right')[0].insertBefore(masthead.querySelector('#fwt-profile-button'),masthead.querySelector('#fwt-language-button'));
                    masthead.querySelector('#fwt-utilities').insertBefore(masthead.querySelector('#fwt-exploreCisco-button'),masthead.querySelector('#fwt-search-button'));

                }
                
                window.addEventListener('resize', function () { 
                    let mq = cdc.wcUtil.getMethod('cdc-masthead','mq'),

                    isGrande = mq(cdc.cdcMasthead.properties.grandeBreakpoint.value);  
                    if(!isGrande){
                        masthead.querySelector('#fwt-utilities').insertBefore(masthead.querySelector('#fwt-profile-button'),masthead.querySelector('#fwt-search-button'));
                        masthead.querySelectorAll('.fwt-rei-utilities-right')[0].insertBefore(masthead.querySelector('#fwt-exploreCisco-button'),masthead.querySelectorAll('.fwt-rei-utilities-right')[0].children[0]);
                        
                    }else{

                        masthead.querySelectorAll('.fwt-rei-utilities-right')[0].insertBefore(masthead.querySelector('#fwt-profile-button'),masthead.querySelector('#fwt-language-button'));
                        masthead.querySelector('#fwt-utilities').insertBefore(masthead.querySelector('#fwt-exploreCisco-button'),masthead.querySelector('#fwt-search-button'));
                    } 


                    
                    

                    
                });   
                
                masthead.querySelector("#fwt-profile-button").addEventListener('keydown', function (event) {
                    if (event.keyCode === 27) {   // escape
                        profileCloseButton.click();
                        profileButton.focus();
                    }
                });
            }
           
            profileButton.addEventListener('click', profileListener);
            profileCloseButton.addEventListener('click', function () { 

                if(cdc.isRei && profile_login_open){
                    let targetElement= masthead.querySelector('#fwt-profile-button');	
                    profile_login_open = false;
                    let closeIt=true;
                    mastheadClickHandler(targetElement);
                    closeIt=false;
                    profileButton.focus();
                }else if(!cdc.isRei){
                    profileButton.click(); profileButton.focus();
                }
            
            });
            profileCloseButton.addEventListener('keydown', function (event) {
                if (event.keyCode === 9) { // tab key
                    event.preventDefault();
                    let contentLinks = masthead.querySelectorAll('#fwt-profile-content a, #fwt-profile-content button');

                    if (event.shiftKey) { // shift+tab
                        contentLinks[contentLinks.length-1].focus();  // loop to last
                    } else {  // tab only
                        contentLinks[0].focus();    // loop to first
                    }
                }
            });
            for (i = 0; i < profileLinks.length; i++) { profileLinks[i].addEventListener('keydown', profileLinksListener); }
        }

        /* language listeners */
        if (masthead.querySelector('#fwt-language-button') !== null) {
            var langButton = masthead.querySelector('#fwt-language-button');
            masthead.querySelector("#fwt-language").addEventListener('keydown', function(event) {
                if (event.keyCode === 27) {  // escape
                    masthead.querySelector('#fwt-language-close-button').click();
                    langButton.focus();
                }
            });

            masthead.querySelector("#fwt-language-button").addEventListener('keydown', function(event) {
                if (event.keyCode === 27) {  // escape
                    masthead.querySelector('#fwt-language-close-button').click();
                    langButton.focus();
                }
            });

            langButton.addEventListener('click', function () {
                let languageContent = masthead.querySelector('#fwt-language-content .language-row.active');
                language_menu_open = true;
                mastheadClickHandler(langButton);
                if (cdc.wcUtil.getMethod('cdc-masthead','mq')(cdc.cdcMasthead.properties.mediumBreakpoint.value)) {
                    let firstRow = masthead.querySelector('#fwt-language-content .language-row:first-of-type');
                    if (languageContent === null) {
                        if(firstRow !== undefined && firstRow !== null){
                            firstRow.classList.add('active');
                        }
                    }
                    if(firstRow !== undefined && firstRow !== null){
                        firstRow.querySelectorAll('.wc-narrow button[role="tab"]')[0].focus();
                    }
                }
                langButton.focus();
                // calculate the height only on click so height of internal elements are always relative to the current window size/masthead configuration
                if (masthead.classList.contains('language')) { cdc.wcUtil.getMethod('cdc-masthead', 'languageSelectorHeights')(); }
                sendMetrics('language');
            });

            langButton.addEventListener('keydown', function (event) {
                if (event.keyCode === 39 || (event.keyCode === 9 && !event.shiftKey)) {

                    let masthead_header = document.querySelector("#fwt-masthead");
                    if(masthead_header !== undefined && masthead_header !== null
                        && masthead_header.classList.contains("language")){
                            let btnAllCountries = document.querySelector(".language-row .wc-narrow");
                            if(btnAllCountries !== undefined && btnAllCountries !== null){
                                btnAllCountries.focus();
                            }
                    }else{

                        //right arrow or tab
                        if (document.querySelector('#fw-content') !== null) {
                            event.preventDefault();
                            if(!cdc.isRei){
                                let tabTo = document.querySelectorAll('#fw-content a, #fw-content button, #fw-content input')[0] || document.querySelector('#fw-content');
                                tabTo.focus();
                            }else{
                                masthead.querySelector('#fwt-logo').focus();
                            }
                        } else { 
                            if(!cdc.isRei){
                                if(cdc.wcUtil.getObj('template').querySelector('slot:not([name])').assignedElements()[0].querySelectorAll('p-dropdown').length>0){
                                    event.preventDefault();
                                    cdc.wcUtil.getObj('template').querySelector('slot:not([name])').assignedElements()[0].querySelectorAll('p-dropdown')[0].focus();
                                }else{
                                    cdc.wcUtil.getObj('template').querySelector('slot:not([name])').assignedElements()[0].querySelectorAll('a, button, input')[0].focus();
                                } 
                            }else{
                                masthead.querySelector('#fwt-logo').focus();
                            }
                        }
                    }
                } else if (event.keyCode === 37) {
                    //left arrow
                    event.preventDefault();
                    masthead.querySelector('#fwt-profile-button').focus();
                }
            });
        } else {
            masthead.querySelector('#fwt-utilities').classList.add('no-language-selector');
        }

        /* ellipsis listeners */
        // get button count of all utility buttons not including the search or ellipsis button(s) if present
        let buttonCount = Array.prototype.slice.call(cdc.wcUtil.getObj('masthead').querySelectorAll('#fwt-utilities button')).filter(function (b) { return b.id !== 'fwt-search-button' && b.id !== 'fwt-ellipsis-button'; }).length;
        // if only one button, disable ellipsis behavior all together
        if (buttonCount === 1) {
            // remove all classes (except loggedin class for profile button) from the button that is not search or ellipsis
            let button = masthead.querySelector('#fwt-utilities button:not(#fwt-search-button):not(#fwt-ellipsis-button)');
            button.classList.value = button.classList.value.match(/loggedin/i) ? 'loggedin' : '';
            if (masthead.querySelector('#fwt-ellipsis-button') !== null) {
            	 masthead.querySelector('#fwt-ellipsis-button').remove(); 
            }
        }

        if (masthead.querySelector('#fwt-ellipsis-button') !== null) {
            function ellipsisOverlayHandler(element) {
                if(element !== null){
                    let overlay = masthead.querySelector('#fwt-masthead-overlay'),
                        overlayClasses = overlay.classList.value,
                        activeElement = cdc.wcUtil.getMethod('cdc-masthead','getActiveElement')(overlay),
                
                        invokingElement = element.id.split('-')[1];
                    

                    // close existing open element
                    if (activeElement !== '' && overlay!=null) { overlay.classList.toggle(activeElement); }

                    // if invoking element is already open, blank out invoking element string
                    if (overlayClasses === invokingElement) { invokingElement = ''; }
                    if (invokingElement !== '' && overlay!=null) { overlay.classList.add(invokingElement); }
                }
            }

            masthead.querySelector('#fwt-ellipsis-button').addEventListener('click', function () { 
                mastheadClickHandler(this); 
            });

            masthead.querySelector('#fwt-masthead-overlay').addEventListener('click', function (event) {
                if (event.target.parentNode.classList.contains('ellipsis-short') && event.target.tagName === 'BUTTON') {
                    let languageContent = masthead.querySelector('#fwt-language-content .language-row.active') || masthead.querySelector('#fwt-language-content .language-row:first-of-type');
                    ellipsisOverlayHandler(event.target);

                    // if language_ellipsis button clicked, no lang row is active, and screen size is at or above medium breakpoint (language container is being opened in ellipsis)
                    // or another button in the ellipsis has been clicked and there is an active language row
                    // then; toggle active row
                    if (languageContent !== null ) {
                        if ((event.target.id === 'fwt-language_ellipsis-button' && !languageContent.classList.contains('active') && cdc.wcUtil.getMethod('cdc-masthead','mq')(cdc.cdcMasthead.properties.mediumBreakpoint.value)) || (event.target.id !== 'fwt-language_ellipsis-button' && languageContent.classList.contains('active'))) {
                            languageContent.classList.toggle('active');
                        }
                    }


                    
                }
            });

            // resize handler for maintaining correct state of open overlay element
            window.addEventListener('resize', function () {
                let mq = cdc.wcUtil.getMethod('cdc-masthead','mq'),
                    languageSelectorHeights = cdc.wcUtil.getMethod('cdc-masthead', 'languageSelectorHeights'),
                    isGrande = mq(cdc.cdcMasthead.properties.grandeBreakpoint.value),
                    activeElement = cdc.wcUtil.getMethod('cdc-masthead','getActiveElement')(),
                    languageContent = masthead.querySelector('#fwt-language-content .language-row.active') || masthead.querySelector('#fwt-language-content .language-row:first-of-type');

                if (isGrande && !cdc.isRei && activeElement === 'ellipsis') {
                    let overlay = masthead.querySelector('#fwt-masthead-overlay');
                    // if overlay has something open, transfer state to masthead
                    // otherwise, invoke mastheadClickHandler to close ellipsis
                    if (overlay.classList.value !== '') {
                        let activeOverlayElement = overlay.classList.value.split('_')[0];
                        mastheadClickHandler(masthead.querySelector('#fwt-' + activeOverlayElement + '-button'));                        
                        if (activeOverlayElement === 'language') { languageSelectorHeights(); }
                    } else {
                        mastheadClickHandler(masthead.querySelector('#fwt-ellipsis-button'));
                    }
                } else if (!isGrande && !cdc.isRei && ['', 'ellipsis', 'search', 'nav'].indexOf(activeElement) === -1) {
                    ellipsisOverlayHandler(masthead.querySelector('#fwt-' + activeElement + '_ellipsis-button'));
                        mastheadClickHandler(masthead.querySelector('#fwt-ellipsis-button'));
                    

                    if (activeElement === 'language') { languageSelectorHeights(); }
                }

                if (languageContent !== null) {
                    if (mq(cdc.cdcMasthead.properties.mediumBreakpoint.value) && !languageContent.classList.contains('active') ) {
                        languageContent.classList.add('active');
                    } else if (!mq(cdc.cdcMasthead.properties.mediumBreakpoint.value)) {
                        languageContent.classList.remove('active');
                    }
                }
            });
        }

        /* Utility Button Listeners */
        masthead.querySelector('#fwt-utilities').addEventListener('click', function (event) {
            if ((event.target.tagName === 'BUTTON' || event.target.closest('button') !== null) && typeof cdc.wcUtil.getObj('nav', masthead, true).closeSitearea === 'function') { cdc.wcUtil.getObj('nav', masthead, true).closeSitearea(); }
        });

        // closing corenav when clicked on top utilitybar buttons
        if(cdc.isRei){
            masthead.querySelector('.fwt-rei-utilities-right').addEventListener('click', function (event) {
                if ((event.target.tagName === 'BUTTON' || event.target.closest('button') !== null) && typeof cdc.wcUtil.getObj('nav', masthead, true).closeSitearea === 'function') { cdc.wcUtil.getObj('nav', masthead, true).closeSitearea(); }
            });
        }       

        /* logo listeners */
        masthead.querySelector('#fwt-logo').addEventListener('click', function () { sendMetrics('logo', this.href); });

        /* Tophat Listeners */
        let tophat = masthead.querySelector('#fwt-tophat-banner');
        if (tophat !== null && !tophat.classList.contains('dgbanner')) {
            tophat.querySelector('#fwt-tophat-close-button').addEventListener('click', function () {
                masthead.classList.remove('tophat');
                tophat.remove();
            });
        }

        /* scroll listener */
        var st;
        if (!masthead.classList.contains('cdc-microsites') && cdc.cdcMastheadSat !== undefined) { window.addEventListener('resize', noLanguageSelectorHandler); }
        window.addEventListener('scroll', function () {
            st = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;
            if (st > 900) { eventHandler(); }
        });
    }
}, {
    key: 'mastheadClickHandler',
    /**
     * Primary click controller for current active element of masthead (open, close, and switch elements)
     * @param  {Object} invokingElement Element that is calling mastheadClickHandler
     * @param  {Object} masthead        Masthead DOM Object
     */
    value: function mastheadClickHandler(invokingElement) {
        // all buttons follow naming convention of: #fwt-ELEMENT-button 

        let masthead = invokingElement.closest('#fwt-masthead'),
            overlay = masthead.querySelector('#fwt-masthead-overlay'),
            getActiveElement = cdc.wcUtil.getMethod('cdc-masthead', 'getActiveElement'),
            elName = invokingElement.id.split('-')[1],
            activeElName = getActiveElement(),
            overlayClass = getActiveElement(overlay);


        // if ellipsis is open and has a section open, close that section
        if (overlayClass !== "" && activeElName === 'ellipsis') { overlay.classList.remove(overlayClass); }

        if (elName === activeElName) {
            //close state
            masthead.classList.remove(elName);
            masthead.querySelector('#'+invokingElement.id).setAttribute('aria-expanded', false);
        } else if (activeElName.length > 0) {
            //switch state
            cdc.wcUtil.getMethod('cdc-masthead', 'mastheadClickSwitchState')(elName, activeElName, masthead);
            masthead.classList.remove(activeElName);
            masthead.classList.add(elName);
            masthead.querySelector('#fwt-'+activeElName+'-button').setAttribute('aria-expanded', false);
            masthead.querySelector('#'+invokingElement.id).setAttribute('aria-expanded', true);
        } else {
            //open state
            masthead.classList.add(elName);
            masthead.querySelector('#'+invokingElement.id).setAttribute('aria-expanded', true);
        }

        // toggle active nav text
        if (elName === 'nav' || activeElName === 'nav') {
            let navLabels = masthead.querySelector('#fwt-nav-button').getElementsByClassName('nav-label'),
                label;
            for (label in navLabels) {
                if (navLabels.hasOwnProperty(label)) { navLabels[label].classList.toggle('active'); }
            }
        }
    }
}, {
    key: 'mastheadClickSwitchState',
    /**
     * Switches active elements by invoking methods to corresponding to active web component
     * @param  {String} elName       Invoking element name
     * @param  {String} activeElName Current active element name
     * @param  {Object} masthead     Masthead DOM Object
     */
    value: function mastheadClickSwitchState(elName, activeElName, masthead) {
        var search = cdc.wcUtil.getObj('search', masthead, true),
            nav = cdc.wcUtil.getObj('nav', masthead, true);
        if (masthead.classList.contains('no-nav-wc') && elName === 'nav' && search.hasCloseButton) { search.removeAttribute('is-search-open'); }
        if (activeElName === 'search' && typeof search.toggleSearchVisibility === 'function') {
            search.toggleSearchVisibility(true);
        } else if (activeElName === 'nav' && typeof nav.toggleNavVisibility === 'function' && !masthead.classList.contains('no-nav-wc')) {
            if (nav.siteareaOpen) {
                let activeSitearea = nav.getObjBySelector('[is-nav-open]'),
                    button = activeSitearea.closest('.wc-row').querySelector('button');

                if (button !== null) {
                    nav.siteareaOpen = false;
                    button.click();
                }
            } else {
                if (masthead.querySelector('button[name="fwt-nav-button"]') !== null && masthead.querySelector('button[name="fwt-nav-button"]').getAttribute('aria-expanded') === 'true') {
                    masthead.querySelector('button[name="fwt-nav-button"]').setAttribute('aria-expanded', false);
                }
                nav.toggleNavVisibility(true);
            }
        }
    }
}, {
    key: 'mastheadTophatHandler',
    value: function mastheadTophatHandler() {
        var masthead = cdc.wcUtil.getObj('masthead');
        if (masthead.querySelector('#fwt-tophat-banner') !== null) {
            masthead.classList.add('tophat');
            masthead.querySelector('#fwt-tophat-close-button').addEventListener('click', function () {
                masthead.classList.remove('tophat');
                setTimeout(function () { masthead.querySelector('#fwt-tophat-banner').remove(); }, 500);
            });
        }
    }
}, {
    key: 'languageSelectorHeights',
    value: function languageSelectorHeights() {
        let masthead = cdc.wcUtil.getObj('masthead'),
            collection = cdc.wcUtil.getMethod('cdc-masthead', 'getObjBySelectorAll')('.wc-wide', masthead.querySelector('#fwt-language')),
            setHeight = masthead.querySelector('#fwt-language-content').getBoundingClientRect().height;

        for (let i = 0; i < collection.length; i++) { collection[i].style.height = setHeight + "px"; }
    }
}, {
    key: 'languageSelectorInit',
    value: function languageSelectorInit() {
        var getObjBySelectorAll = cdc.wcUtil.getMethod('cdc-masthead', 'getObjBySelectorAll');
        function mastheadLanguageRowClickHandler(event) {
            cdc.wcUtil.getMethod('cdc-masthead', 'removeClass')(getObjBySelectorAll('.language-row', cdc.wcUtil.getObj('masthead')), 'active');
            this.parentNode.parentNode.classList.add('active');
            switchActiveRegion(event.target);
        }

        function switchActiveRegion(button) {
            var allButtons = getObjBySelectorAll('.language-row button', cdc.wcUtil.getObj('masthead'));
            for (let i = 0; i < allButtons.length; i++ ){ allButtons[i].setAttribute('aria-selected','false');}
            cdc.wcUtil.getMethod('cdc-masthead', 'removeClass')(getObjBySelectorAll('.language-row', cdc.wcUtil.getObj('masthead')), 'active');
            if (button != null) {
                button.parentNode.parentNode.classList.add('active');
                button.setAttribute('aria-selected','true');
            }  // if no button sent, we just leave all closed rather than switch active one
        }

        function languageRowKeydownHandler(event) {
            var el = event.target,
                next = el.closest('.language-row').nextElementSibling,
                prev = el.closest('.language-row').previousElementSibling,
                button = null;
           if (event.keyCode===40 || event.keyCode===39) {  // down or right arrow
                event.preventDefault();
                try {
                    button = next.querySelector('button');
                } catch(e) {
                    button = masthead.querySelector('.language-row button');
                }
                // close this area, focus on next sitearea
                if (button !== null) {
                    switchActiveRegion(button);
                    button.focus();
                } else {
                    masthead.querySelector("#fwt-language-close-button").focus();
                }
            } else if (event.keyCode===38 || event.keyCode===37) { // up or left arrow
                event.preventDefault();
                try {
                    button = prev.querySelector('button');
                } catch(e) {
                    let buttons = masthead.querySelectorAll('.language-row button');
                    button = buttons[buttons.length-1];
                }
                // close this area, focus on prev sitearea
                if (button !== null) {
                    switchActiveRegion(button);
                    button.focus();
                } else {
                    masthead.querySelector("#fwt-language-close-button").focus();
                }
            } else if (event.keyCode===9  ) {
                if (event.shiftKey) {  // shift tab to close button
                    event.preventDefault();
                    masthead.querySelector("#fwt-language-close-button").focus();
                } else {  //tab into listing
                    event.preventDefault();
                    masthead.querySelector('.language-row.active .wc-wide a').focus();
                }
            }
        }

        let languageRows,
            masthead = cdc.wcUtil.getObj('masthead'),
            nav = cdc.wcUtil.getObj('nav', masthead),
            languageContainer = masthead.querySelector('#fwt-language'),
            languageContent,
            i;

        // kbd nav for the language lists
        function languagesKeydownHandler(event) {
            var languages = getObjBySelectorAll('.wc-wide a', masthead.querySelector('#fwt-language-content .language-row.active')),
                getIndex = cdc.wcUtil.getMethod('cdc-masthead', 'getIndex'),
                ind = getIndex(event.target,languages);
            if (ind === (languages.length-1) && event.keyCode===9 && !event.shiftKey) {  // tab on last language
                event.preventDefault();

                if(cdc.isRei){
                    masthead.querySelector("#fwt-language-content .language-row.active button").focus();
                }else{
                    masthead.querySelector("#fwt-language-close-button").focus();
                }
            } else if ( ind===0 && event.keyCode===9 && event.shiftKey) { // shift+tab on first language
                event.preventDefault();
                masthead.querySelector("#fwt-language-content .language-row.active button").focus();
            }
        }

        function languagesAllKeyUpHandler(event) {

            if(event.keyCode===9 && event.shiftKey){
                masthead.querySelector('#fwt-language-button').focus();
            }

        }



        // start masthead language selector initialization
        // clone content created in navigation and append it to masthead
        // remove markup from nav
        languageContainer.appendChild(nav.querySelector('#fwt-language-header').cloneNode(true));
        languageContent = languageContainer.appendChild(nav.querySelector('#fwt-language-content').cloneNode(true));
        cdc.wcUtil.getObj('nav', masthead).querySelector('.language-selector-row').remove();

        // click handlers for each narrow col(regions)  - in the masthead
        languageRows = getObjBySelectorAll('.language-row .wc-narrow button', languageContent);
        for (i = 0; i < languageRows.length; i ++) {
            languageRows[i].addEventListener('click', mastheadLanguageRowClickHandler);
            languageRows[i].addEventListener('keydown', languageRowKeydownHandler);
        }
        // kbd handlers for wide col (languages)
        var languages = getObjBySelectorAll('.language-row .wc-wide a', languageContent);
        for (i = 0; i < languages.length; i ++) { languages[i].addEventListener('keydown', languagesKeydownHandler);}

        var languagesAllCountries = getObjBySelectorAll('.language-row .wc-narrow button#AllCountries', languageContent);
        for(i = 0; i < languagesAllCountries.length; i++){
            languagesAllCountries[i].addEventListener('keydown', languagesAllKeyUpHandler);
        }


        let closeButton = masthead.querySelector('#fwt-language-close-button');
        closeButton.addEventListener('click', function () { 
            if(cdc.isRei){
                let mq = cdc.wcUtil.getMethod('cdc-masthead','mq');
                let isGrande = mq(cdc.cdcMasthead.properties.grandeBreakpoint.value);


                var langButton = masthead.querySelector('#fwt-language-button');

                var mastheadClickHandler = cdc.wcUtil.getMethod('cdc-masthead', 'mastheadClickHandler');
    
                mastheadClickHandler(langButton);
                if( masthead.querySelector('#fwt-language-button') !== null && 
                masthead.querySelector('#fwt-language-button') !== undefined){
                    masthead.querySelector('#fwt-language-button').focus();
                }
            }else{
                masthead.querySelector('#fwt-language-button').click();
                masthead.querySelector('#fwt-language-button').focus();
            }
        });

        closeButton.addEventListener('keydown', function (event) {
            if (event.keyCode===9) {  // tab
                event.preventDefault();
                masthead.querySelector('#fwt-language-content .active button').focus();
            } else if (event.keyCode===13) { // enter
                event.preventDefault();  // make sure it doesn't double fire, but we need to reset focus for kbd
                event.target.click();
                masthead.querySelector('#fwt-language-button').focus();
            }
        });

        languageContent.addEventListener('click', function (event) {
            let target = event.target;
            if (target.classList.value === 'back-button') { languageContent.querySelector('.language-row.active').classList.remove('active'); }
        }); 

        //rei variation of the above function
        if(cdc.isRei){
	        let languageHeader = masthead.querySelector('#fwt-language');
	        languageHeader.addEventListener('click', function (event) {

	            let target = event.target;
	            if (target.classList.value === 'back-button') { 
	                if (languageContent.querySelector('.language-row.active')) {
                        //console.log("4.language - .language-row.active present, go back");
	                    //close the l2 language panel and return to l1 language panel
                        languageContent.querySelector('.language-row.active').classList.remove('active');

	                }else{ 
                    
 
                        let targetObj = document;

                        if(cdc.wcUtil.getObj('template', document, true).searchNoRefresh){
                            targetObj = cdc.wcUtil.getObj('template');
                        }
                        let languageButton = targetObj.querySelector('#fwt-language-button');
                        mastheadClickHandler = cdc.wcUtil.getMethod('cdc-masthead', 'mastheadClickHandler');
                        mastheadClickHandler(languageButton);
                        var nav = cdc.wcUtil.getObj('nav', masthead, true);
                        nav.toggleNavVisibility();
                    }
	            }
	        });
    	}
    }
}, {
    key: 'profileInit',
    value: function profileInit(masthead) {
        function profileContentBuilder(profile) {
            function listLinksGenerator(listNumber) {
                let links = entitlementLinks[listNumber + 1];
                for (let i = 0; i < links.length; i++) {
                    if (links.hasOwnProperty(i)) {
                        if (typeof links[i] === "object") {
                            let tempLi = tempElement.cloneNode(true),
                                tempA = a.cloneNode(true);
                            tempA.href = links[i].url;
                            tempA.innerHTML = links[i].txt;
                            tempLi.appendChild(tempA);
                            if (typeof links[i].title !== "undefined") {
                                let dt = document.createElement('dt');
                                dt.innerText = links[i].title;
                                lists[listNumber].appendChild(dt);
                            }
                            lists[listNumber].appendChild(tempLi);
                        }
                    }
                }
            }
            // cant fire any code due to dependency on entitlement level
            if (Object.keys(profile.contactInfo).length > 0) {
                if (updateProfileContent) {
                    let profileContent = masthead.querySelector("#fwt-profile-content"),
                        level = (profile.contactInfo && profile.contactInfo.accesslevel) ? parseInt(profile.contactInfo.accesslevel) : 0,
                        div = document.createElement('div'),
                        contentContainer = div.cloneNode(true),
                        ul = document.createElement('ul'),
                        li = document.createElement('li'),
                        p = document.createElement('p');

                    contentContainer.className = 'fwt-profile-content-container';
                    p.className = 'profile-header';

                    // var scope for private listLinksGenerator method
                    var entitlementLinks = dictionary.profileContent[level],
                        a = document.createElement('a'),
                        lists = [ul.cloneNode(true), ul.cloneNode(true)],
                        tempElement = li.cloneNode(true);

                    let divs = [contentContainer.cloneNode(true), contentContainer.cloneNode(true)],
                        firstDivHeader = p.cloneNode(true);

                    // add primary header
                    firstDivHeader.className = firstDivHeader.className + ' my-account';
                    firstDivHeader.textContent = dictionary.Cisco_My_Account;
                    divs[0].appendChild(firstDivHeader);

                    // add name bar
                    let nameDiv = div.cloneNode(true);
                    nameDiv.id = 'fwt-profile-name-bar';
                    divs[0].appendChild(nameDiv);

                    // add manage profile button
                    if (level !== 4) {
                        let manageA = a.cloneNode(true);
                        manageA.className = 'button-cta dark manage profile-url';
                        manageA.href = dictionary.linkSwaps.profileUrl;
                        manageA.textContent = dictionary.Cisco_Manage_Profile;
                        if (level === 3) {
                            manageA.href = dictionary.linkSwaps.partnerProfileUrl;
                            manageA.textContent = dictionary.Cisco_Partner_Profile;
                        }
                        divs[0].appendChild(manageA);
                    }
                    // add logout button
                    let logoutA = a.cloneNode(true);
                    logoutA.className = 'button-cta light logout';
                    logoutA.href = dictionary.logOutUrl;
                    logoutA.textContent = dictionary.LogOut;
                    divs[0].appendChild(logoutA);

                    // generate primary list
                    listLinksGenerator(0);

                    divs[0].appendChild(lists[0]);
                    profileContent.innerHTML = '';
                    profileContent.appendChild(divs[0]);

                    // if second set of links exists based on entitlement, add to secondary div container
                    if (entitlementLinks[2] !== undefined) {
                        let secondDivHeader = p.cloneNode(true);
                        secondDivHeader.className = secondDivHeader.className + ' sectional';
                            secondDivHeader.textContent = entitlementLinks[2][0];
                        divs[1].appendChild(secondDivHeader);

                        // if customer entitlement, use dd as list element
                        if (level === 2) {
                            tempElement = document.createElement('dd');
                            lists[1] = document.createElement('dl');
                        }

                        // generate secondary list
                        listLinksGenerator(1);

                        // append list to secondary div container and append to profile content
                        divs[1].appendChild(lists[1]);
                        profileContent.appendChild(divs[1]);
                    }

                    if ([1,2].includes(level)) {
                        let alreadyPartner = masthead.querySelector('.fwt-already-partner .profile-header');
                        let partnerUtilityLogoutBtn = masthead.querySelector('.fwt-already-partner a.button-cta');
                        let profileUtilityLogoutBtn = masthead.querySelector('#fwt-profile-content a.button-cta.logout');
                        
                        // since for now rei is anyway for en/us will hardcode instead of creating dynamic elements and setting up other events etc.
                        if (alreadyPartner != null) {
                            alreadyPartner.innerHTML = "Log in as a Partner?";
                        }

                        // reading profile logout button from profile instead of creating new element  and events etc.
                        if (partnerUtilityLogoutBtn != null && profileUtilityLogoutBtn != null) {
                            partnerUtilityLogoutBtn.href = profileUtilityLogoutBtn.href;
                            partnerUtilityLogoutBtn.innerHTML = profileUtilityLogoutBtn.innerHTML;
                        }   
                    }
                }

                // if profile info comes back, update name bar and profile logo with user information
                let profileButton = masthead.querySelector('#fwt-profile-button'),
                    profileTemplate,
                    info = profile.contactInfo,
                    inits;
                info.givenname = info.givenname.length ? info.givenname : " ";
                info.sn = info.sn.length ? info.sn : " ";
                inits = info.givenname.substring(0, 1) + info.sn.substring(0, 1);
                profileTemplate = "<p class=\"myname\">" + info.givenname + " " + info.sn + "</p><ul><li>" + info.company + "</li><li>" + info.mail + "</li></ul>";
                masthead.querySelector("#fwt-profile-name-bar").innerHTML = profileTemplate;

                // update profile button login state and accessibility info
                profileButton.classList.add("loggedin");
                profileButton.setAttribute('aria-labelledby', 'fwt-profile-button-loggedin-title');
                profileButton.setAttribute('title', masthead.querySelector("#fwt-profile-button-loggedin-title").innerHTML);

                if(cdc.isRei){ 
                    let given_name_shortened = ((info.givenname.length > 20)?(info.givenname.substring(0,20) + "..."):info.givenname);
                    let last_initial = ((info.sn.length > 0) ? (info.sn[0] + "."):"");

                    if(masthead.querySelector(".loggedin .text") !== undefined && masthead.querySelector(".loggedin .text") !== null){
                        masthead.querySelector(".loggedin .text").innerText = given_name_shortened + " " + last_initial;
                    }
                    if(masthead.querySelector("#fwt-initials") !== undefined && masthead.querySelector("#fwt-initials") !== null){
                        masthead.querySelector("#fwt-initials").textContent = inits;
                    }
                }else{
                    if(masthead.querySelector("#fwt-initials") !== undefined && masthead.querySelector("#fwt-initials") !== null){
                        masthead.querySelector("#fwt-initials").textContent = inits;
                    }
                }                

                if (masthead.querySelector('#fwt-ellipsis-button') !== null) {
                    let profileEllipsisButton = masthead.querySelector('#fwt-profile_ellipsis-button'),
                        loggedText = masthead.querySelector("#fwt-profile_ellipsis-button-loggedin-title").innerHTML;
                    masthead.querySelector("#fwt-initials_ellipsis").textContent = inits;

                    // update profile ellipsis button login state and accessibility info
                    profileEllipsisButton.classList.add("loggedin");
                    profileEllipsisButton.setAttribute('aria-labelledby', 'fwt-profile-button-loggedin-title');
                    profileEllipsisButton.setAttribute('title', loggedText);
                    profileEllipsisButton.querySelector('span').innerHTML = loggedText;
                }
            }
        }

        function profileReadyListenerCallback () {
            if (cdc.wcUtil.getObj('masthead', null, true) !== document) { updateProfileContent = true; }
            if (masthead.querySelector('#fwt-profile-name-bar') || updateProfileContent) {
                cdc.userInfoDispatcher.getUserProfile({listOfDataFields: ['contactInfo'], callback: profileContentBuilder});
            }
        }

        if (cdc.sso !== undefined) {
            var updateProfileContent = false,
                dictionary = cdc.cdcMasthead.additional;
            if (typeof cdc.sso.addSSOListener === "function") { cdc.sso.addSSOListener(profileReadyListenerCallback); }

            // need this to fire if and only if masthead loaded as webcomponent
            if (cdc.wcUtil.getObj('masthead', null, true) !== document) {
                var loginLink = masthead.querySelector("#fwt-profile-content a.login-url"),
                    ciscoPat =  new RegExp (/^([^\/])*?\/\/([^\/])*cisco\.com\//),
                    linkIsCisco = false, refIsCisco = false;
                if(loginLink!=null && loginLink!=undefined){
                    linkIsCisco = ciscoPat.test(loginLink.href);
                }
                refIsCisco = ciscoPat.test(window.location.href);
                if (loginLink && linkIsCisco && refIsCisco ) {

                    if(window.location.host=="trustportal-stage.cisco.com" || window.location.host=="trustportal.cisco.com"){
                        let loginLinkTrustportal = "/c/login/index.html?referer="+window.location.pathname + window.location.search;
                        loginLink.setAttribute('href', loginLinkTrustportal);
                    }else{
                        loginLink.setAttribute('href', loginLink.href.substring(0, loginLink.href.indexOf("?referer=") + 9) + encodeURIComponent(window.location.href));

                    }
                }
            }
        }
    }
}, {
    key: 'readyInit',
    value: function readyInit() {
        var me = this;

        let hrefs = me.getObjBySelectorAll('[href]'),
            srcs = me.getObjBySelectorAll('[src]'),
            host = '//www.cisco.com',
            tmp,
            slots = me.getObjBySelectorAll('slot'),
            i;

        switch (cdc.cdcMasthead.additional.env) {
            case 'dev':
                host = "//fdk-devint.cisco.com";
            break;
            case 'stage':
                host = "//fdk-stage.cisco.com";
            break;
            default:
            break;
        }

        for (i = 0; i < hrefs.length; i++) {
            tmp = hrefs[i].getAttribute('href');
            if (tmp.indexOf('http') !== 0 && tmp.indexOf('//') !== 0 && tmp.indexOf('tel:') === -1 && tmp.indexOf('javascript:') === -1 && tmp.indexOf('#') !== 0) { hrefs[i].href = host + tmp; }
        }

        for (i = 0; i < srcs.length; i++) {
            tmp = srcs[i].getAttribute('src');
            if (tmp.indexOf('http') !== 0 && tmp.indexOf('//') !== 0) { srcs[i].src = host + tmp; }
        }

        if (window.navigator.userAgent.match(/Trident.*?rv\:11\./)) { me.classList.add('ie11'); }

        slots.forEach(function (slot) {
            if (slot.name === 'masthead-title') {
                if (slot.assignedNodes().length !== 0) { me.getObjBySelector('#fwt-nav-button').classList.add('no-label'); }
            }

            if (slot.name === 'masthead-utilities') {
                let nodes = slot.assignedNodes(),
                    buttonCount = 0;
                if (nodes.length > 0) {
                    nodes.forEach(function (node) { buttonCount += node.querySelectorAll('button').length; });

                    if (buttonCount > 0) { me.getObjBySelector('#fwt-utilities').classList.add('offset-' + buttonCount); }
                }
            }
        });
    }
}, {
    key: 'ready',
    /**
     * Standard Polymer ready function used to include additional ready state operations
     * Called after property values are set and local DOM is initialized
     */
    value: function ready() {
        babelHelpers.get(cdcMasthead.prototype.__proto__ || Object.getPrototypeOf(cdcMasthead.prototype), 'ready', this).call(this);

        this.readyInit();
    }
}, {
    key: 'connectedCallback',
    /**
     * Standard Polymer connectedCallback used to invoke initialization methods and register event handlers
     * Called after the element is attached to the document
     */
    value: function connectedCallback() {
        babelHelpers.get(cdcMasthead.prototype.__proto__ || Object.getPrototypeOf(cdcMasthead.prototype), 'connectedCallback', this).call(this);

        this.init(this);
    }
}];

/**
 * Concatenating generic helper methods to masthead methods array
 * _cdc-generic.js is included through web-component-foundation clientlib bundle
 */
cdc.cdcMasthead.methods = cdc.cdcMasthead.methods.concat(cdc.cdcGeneric.methods);

cdc.cdcMasthead.properties = {
    regexMastheadClasses: {
        type: String,
        value: 'style-scope|ready|no-(nav-wc|language-selector)|tophat|cdc-masthead(-sat)?|c(d|e)c-template(-micro)?|cdc(-(microsites|smb))?|cec'
    },
    searchHasCloseButton: Boolean,
    searchHasTypeAhead: Boolean,
    searchHasVoiceSearch: Boolean,
    searchHasContext: Boolean
};

// concatenate object properties from generic with masthead
cdc.cdcMasthead.properties = Object.assign(cdc.cdcGeneric.properties, cdc.cdcMasthead.properties);
if (window.cdc === undefined) { window.cdc = {}; }
if (cdc.cdcMastheadSat === undefined) { cdc.cdcMastheadSat = {}; }
var dataObj;

cdc.cdcMastheadSat.methods = [{
    key: 'initSat',
    value: function initSat(masthead) {
        masthead = cdc.wcUtil.getObj('masthead', masthead);

        var mastheadClickHandler = cdc.wcUtil.getMethod('cdc-masthead', 'mastheadClickHandler');
        var minicartClickHandler = cdc.wcUtil.getMethod('cdc-masthead-sat', 'minicartClickHandler');
        var minicartMetrics = cdc.wcUtil.getMethod('cdc-masthead-sat', 'minicartMetrics');

        /* shop listeners */
        if (masthead.querySelector('#fwt-minicart-button') !== null) {
            masthead.querySelector('#fwt-minicart-button').addEventListener('click', function () {
                if (!masthead.classList.contains('minicart')) { minicartClickHandler(masthead); }
                mastheadClickHandler(this, masthead);
            });

            masthead.querySelector('#smb-minicart-button').addEventListener('click', minicartMetrics);
            masthead.querySelector('#smb-minicart-order-history').addEventListener('click', minicartMetrics);
            masthead.querySelector('#smb-minicart-empty-action').addEventListener('click', minicartMetrics);
            
            // load the page and then see if there is any items in the cart. if there are then we will show the user a red indicator dot
            minicartClickHandler(masthead);
        }

        cdc.wcUtil.getMethod('cdc-masthead-sat', 'init')(masthead);
    }
}, {
    key: 'minicartClickHandler',
    value: function minicartClickHandler(masthead) {
        var minicartParser = cdc.wcUtil.getMethod('cdc-masthead-sat', 'minicartParser');
        var url = 'https://b2csmb.cisco.com/smb_au_en/api/rest/cart';

        switch (cdc.cdcMasthead.additional.env) {
            case 'dev':
                url = 'https://b2csmb-dev.cisco.com/smb_au_en/api/rest/cart';
            break;
            case 'stage':
                url = 'https://b2csmb-stage.cisco.com/smb_au_en/api/rest/cart';
            break;
        }

         // cookies are needed for the cart api
        var cookie = document.cookie.match(new RegExp(name + '=([^;]+)')),
            payload,
            httpRequest = new XMLHttpRequest();

        httpRequest.onreadystatechange = function () {
            if (httpRequest.readyState == 4 && httpRequest.status == 200 ) {
                payload = JSON.parse(httpRequest.responseText);
                dataObj = JSON.stringify(payload);
                cdc.cdcMastheadSat.properties.minicartItemCount.value = Math.ceil(payload.itemCount) || '';
                minicartParser(masthead, payload);
            }
        }

        httpRequest.open("GET", url, true);
        httpRequest.setRequestHeader('Accept', 'application/json');
        httpRequest.withCredentials = true; // needed to be able to send cookies over XMLHttpRequest()
        httpRequest.setRequestHeader('Cookie', cookie); // browser will say it rejected the use of this (in the console) but i checked google, firefox and safari and all still send cookies
        httpRequest.send();
    }
}, {
    key: 'minicartStatusHandler',
    value: function minicartParser() {
        var masthead = cdc.wcUtil.getObj('masthead'),
            ellipsisButtonDot = masthead.querySelector('#fwt-ellipsis-dot-1'),
            cartButton = masthead.querySelector('#fwt-minicart-button text'),
            cartEllipsisButton = masthead.querySelector('#fwt-minicart_ellipsis-button text'),
            isMediumBreakpoint = cdc.wcUtil.getMethod('cdc-masthead', 'mq')(cdc.cdcMasthead.properties.mediumBreakpoint.value),
            itemCount = cdc.cdcMastheadSat.properties.minicartItemCount.value;

        // if itemCount is greater than 99 change to 99+ or if itemCount is less than or equal to 0 set to blank
        itemCount = (itemCount > 99 ? "99+" : (itemCount <= 0 ? '' : itemCount));

        cartButton.textContent = itemCount;
        cartEllipsisButton.textContent = itemCount;

        if (!isMediumBreakpoint && typeof itemCount === "number") { 
            ellipsisButtonDot.setAttribute('transform', 'translate(5 5) scale(1.5) translate(-4.5 -5.5)');
            ellipsisButtonDot.setAttribute('fill', '#d0021b');
        } else {
            ellipsisButtonDot.setAttribute('transform', '');
            ellipsisButtonDot.setAttribute('fill', '#4d4c4c');
        }
    }
}, {
    key: 'minicartParser',
    value: function minicartParser(masthead, payload) {
        var cart = masthead.querySelector('#fwt-minicart')
        cdc.wcUtil.getMethod('cdc-masthead-sat', 'minicartStatusHandler')();

        if (payload.length === 0){
            return;
        } else {
            // update item count in the cart itself 
            // item count comes as an decimal value so we are taking the ceiling value of that number
            cart.querySelector('#smb-minicart-count-number').innerHTML = cdc.cdcMastheadSat.properties.minicartItemCount.value; 
            // format the correct smb-minicart-partner
            var format = [],
                str = '',
                partner, item, i, j;

            for (i = 0; i < payload.items.length; i++){ // magento does something bad to foreach loops
                if (payload.items.hasOwnProperty(i)){
                    partner = payload.items[i];
                    format.push('<div id="smb-minicart-partner"><p>'+ partner['partnerName'] +' </p>');

                    for (j = 0; j < partner.items.length; j++){ // magento does something bad to foreach loops
                        if (partner.items.hasOwnProperty(j)) {
                            item = partner.items[j];
                            str = '<div class="smb-minicart-item"><img class="smb-minicart-item-image" src="https:'+ item.image +'"/> <div class="smb-minicart-item-container"> <div class="smb-minicart-item-main"> <div class="smb-minicart-item-name">' + item.name + '</div> <div class="smb-minicart-item-sku"> ' + item.sku + '</div> <div class="smb-minicart-item-qty">' + cdc.cdcMastheadSat.qty + ' <span>' + item.qty + '</span></div> </div> <div class="smb-minicart-addon"> ' + item.addonsSummary.qty + ' ' + cdc.cdcMastheadSat.addons + '</div> </div> <div class="smb-minicart-price-container"><div class="smb-minicart-item-price">' + item.priceSubtotal.formatted + '</div><div class="smb-minicart-addon-price"> ' +  item.addonsSummary.pricetotal.formatted + '</div> </div> </div>';
                            format.push(str);
                        }
                    }
                    format.push('</div>');
                }
            }
            // add format to the smb-minicart-items-container
            cart.querySelector('#smb-minicart-items-container').innerHTML = format.join('');

            // update smb-minicart-subtotal
            cart.querySelector('#smb-minicart-subtotal-formatted').innerHTML = payload.subtotal.formatted;
        }
    }
},{
    key: 'webComponentInitSat',
    value: function webComponentInitSat(masthead) {
        if (!masthead.hasCommerce) {}

        if (!masthead.hasCommunities) {}
    }
}, {
    key: 'minicartMetrics',
    value: function minicartMetrics() {
        var sendData;
        if (dataObj === '[]'){ // if cart is empty send the word empty
            sendData = {cart: 'empty'};
        } else { // otherwise just send the entire cart
            sendData = {cart: dataObj};
        }

        trackEvent.event('link', sendData);
    }
}, {
    key: 'ready',
    value: function ready() {
        babelHelpers.get(cdcMastheadSat.prototype.__proto__ || Object.getPrototypeOf(cdcMastheadSat.prototype), 'ready', this).call(this);

        this.readyInit();
    }
}, {
    key: 'connectedCallback',
    value: function connectedCallback() {
        babelHelpers.get(cdcMastheadSat.prototype.__proto__ || Object.getPrototypeOf(cdcMastheadSat.prototype), 'connectedCallback', this).call(this);

        this.initSat(this);
        this.webComponentInitSat(this);
    }
}];

/**
 * In order to prevent collision of functions of the same name existing in the merged array as well as prevent Polymer from throwing errors, we splice out methods named connectedCallback and ready 
 * Once spliced, cdc.cdcMasthead.methods is concatenated as cdc.cdcMastheadSat.methods.
 *
 * Same is done with properties array.
 */
cdc.cdcMasthead.methods.splice(cdc.cdcMasthead.methods.indexOf(cdc.cdcMasthead.methods.filter(function (o) {return o.key === 'connectedCallback';})[0]), 1);
cdc.cdcMasthead.methods.splice(cdc.cdcMasthead.methods.indexOf(cdc.cdcMasthead.methods.filter(function (o) {return o.key === 'ready';})[0]), 1);
cdc.cdcMastheadSat.methods = cdc.cdcMastheadSat.methods.concat(cdc.cdcMasthead.methods);

cdc.cdcMastheadSat.properties = {
    hasCommerce: Boolean,
    hasCommunities: Boolean,
    hasTitle: Boolean,
    isSmb: {
        type: Boolean,
        value: false
    },
    isStreamlined: {
        type: Boolean,
        reflectToAttribute: true,
        value: false
    },
    minicartItemCount: {
        type: Number,
        value: 0
    }
};

// concatenate object properties from masthead with masthead-sat
cdc.cdcMastheadSat.properties = Object.assign(cdc.cdcMasthead.properties, cdc.cdcMastheadSat.properties);
(function () {
    // initialize satellite masthead js
    cdc.wcUtil.getMethod('cdc-masthead-sat', 'initSat')(document.getElementById('fwt-masthead'));
}());
/**
 *  _skip.js
 *  $Revision: 1.2 $ - updated to work with Responsive Login - Alex Karaman
 *
 *  masterbrand skip links code
 */

(function () {
    if (jQuery('#booksearch').length==1) {
        jQuery('#skiplink-content').attr("href", "#booksearch");
    } else if(jQuery('#eot-doc-wrapper').length==1) {
        jQuery('#skiplink-content').attr("href", "#eot-doc-wrapper");
    }

    jQuery(document).on('focus blur', '#fw-skiplinks', function (ev) {
        if (ev.type==='focus'||ev.type==='focusin') {
            jQuery(this).addClass("show");
        }
        else if (ev.type==='blur'||ev.type==='focusout') {
            jQuery(this).removeClass("show");
        }
    });


    if (jQuery('cdc-header').length==1) {
        var skipToSearch = document.getElementById("skiplink-search");
        if(skipToSearch!=null){
            skipToSearch.addEventListener('click',function(){
             if(typeof document.querySelector('cdc-header').toggleSearch=="function"){
                document.querySelector('cdc-header').toggleSearch();
             }
            });
        }
    }

    if (jQuery('cdc-footer').length==1) {
        var skipToFooter = document.getElementById("skiplink-footer");
        if(skipToFooter!=null){
            skipToFooter.href='#';
            skipToFooter.addEventListener('click',function(evt){
                evt.preventDefault();
             if(typeof document.querySelector('cdc-footer')=="object" && typeof document.querySelector('cdc-footer').shadowRoot=='object'){
                if(document.querySelector('cdc-footer').shadowRoot.querySelectorAll('.fw-c-footer__links-list a').length>0){
                    document.querySelector('cdc-footer').shadowRoot.querySelectorAll('.fw-c-footer__links-list a')[0].focus();

                }
             }
            });
        }
    }     

})();

// Fix for Webkit (ios) skiplinks - thanks to https://gist.github.com/Zegnat/1900563

(function(a,b,c,d) {
    for (c in a) {
      try{
        if ((d = a[c].hash) && a[c].href == b + d && a[c].addEventListener) {
            a[c].addEventListener('click', function (e,f,g,h) {
                if (e=(f=document).getElementById(g = this.hash.slice(1)) || f.getElementsByName(g)[0]) {
                    if (h = !e.getAttribute(f='tabindex')) e.setAttribute(f,-1);
                    e.focus();
                    if (h) e.removeAttribute(f);
                }
            });
        }
      }catch(error){
        console.log("%% " + error);
      }

    }
})(document.links,location.href.split('#')[0]);


if (typeof (cdc) == "undefined") cdc = {};
if (typeof (cdc.util) == "undefined") cdc.util = {};

cdc.util.jsEscape = function (aString) {
	if (!cdc.util._jsEscapeRE) cdc.util._jsEscapeRE = /[\r\n\\']/gm; // ' for emacs
	return aString.replace (cdc.util._jsEscapeRE, function (t) { return "\\" + t; });
};


/**
 * JSP-like templates is JavaScript.
 *
 * Typical usage:
 *
 * First, compile a string into a template:
 *
 *    var myTemplate = new cdc.util.JsTemplate (templateString);
 *
 * And later, use the template as many times as necessary:
 *
 *    var htmlString = myTemplate.process (myDataObject);
 *
 * Thus templates can be cached in a suitable caching mechanism.
 * The implementation uses only raw JavaScript; no dependence on jQuery or other libraries.
 *
 * The second parameter is optional, and if provided, should be a 2-element array of strings containing the starting and ending tags
 * for demarcating a scriptlet. For example, you can say:
 *
 *        var templateStr = "It is now {% var now = new Date(); %}${now}";
 *        var tmpl = new cdc.util.JsTemplate (templateStr, ["{%", "%}"]);
 *
 * and use {% and %} as markers. This feature lets us get around issues when JsTemplate code is interspersed with JSP code.
 *
 * ALTERNATELY: A developer can escape the default tags as follows to use the existing tag syntax and not interefere
 * with JSP code tags
 *
 *       <\%   code here  %>
 *
 */
cdc.util.JsTemplate = function (aString, tagStringPair) {
	var openTagString = "<%", closeTagString = "%>";
	if (tagStringPair instanceof Array && tagStringPair.length == 2) {
		openTagString = tagStringPair[0];
		closeTagString = tagStringPair[1];
	}
	var start = 0;
	var codeParts = ["var result = [];\nwith (jsTemplateDataObject){\n"], dataStr = "";
	var re =  new RegExp (openTagString + "([\\s\\S]*?)" + closeTagString + "|\\$\\{(.*?[^\\\\])\\}", "g");//adding this as a fix for an IE8 bug.
	aString.replace (re, function (fullMatch, g1, g2, index) {
		dataStr = aString.substring (start, index);
		if (g1) {
			codeParts.push ("result.push ('" + cdc.util.jsEscape (dataStr) + "');\n");
			if (g1.substring (0,2) != "--" && g1.substring (g1.length-2, g1.length) !=  "--") {
				// It's not a comment, it's a code fragment
				codeParts.push (g1 + "\n");
			}
			start = index + g1.length + 4;
		} else { // g2 matched
			codeParts.push ("result.push ('" + cdc.util.jsEscape (dataStr) + "');\n");
			codeParts.push ("result.push (" + g2 + ");\n");
			start = index + g2.length + 3;
		}
	});
	codeParts.push ("result.push ('" + cdc.util.jsEscape (aString.substring (start)) + "');\n}\nreturn result.join ('');");
	var _codeStr = codeParts.join ("");
	try {
		this.process = new Function ("jsTemplateDataObject", _codeStr);
	} catch (e) {
		alert ("Template expansion error:\n" + e.message + "\n"  + _codeStr); // Could use better error reporting
	}

	// Debugging support:  examine the template parts
	this.codeString = function () {
		return _codeStr;
	};

};

(function() {
    try {
        if (window.location.search.indexOf('socialshare') != -1) {
            jQuery(window).on('load', function() {
                var queryParams = window.location.search.slice(1);
                var params = queryParams.split('&');
                for (var i = 0; i < params.length; i++) {
                    var keyValue = params[i].split('=');
                    if (keyValue[0] == 'socialshare') {
                        var videoId = keyValue[1];
                        if (jQuery("#" + videoId + " video").length > 0) {
                            var mqOne = jQuery("#" + videoId).closest(".dmc-anchor-marquee");
                            var mqTwo = jQuery("#" + videoId).closest(".dm0.mq");
                            var mosaicVid = jQuery("#" + videoId).closest(".dmc-mosaic-tile-herovideo");
                            if (mqOne.length != 0) {
                                jQuery("html, body").animate({
                                    scrollTop: mqOne.offset().top
                                }, 1000);
                                mqOne.find(".contentvideo-play-cta").trigger("click");
                            } else if (mqTwo.length != 0) {
                                jQuery("html, body").animate({
                                    scrollTop: mqTwo.offset().top
                                }, 1000);
                                mqTwo.find(".cta.play")[0].click();
                            } else if (mosaicVid.length != 0) {
                                jQuery("html, body").animate({
                                    scrollTop: mosaicVid.offset().top
                                }, 1000);
                                mosaicVid.find(".mosaic-play-cta").trigger("click");
                            } else {
                                jQuery("html, body").animate({
                                    scrollTop: jQuery('#' + videoId).offset().top
                                }, 1000);
                                videojs("#" + videoId).play();
                            }
                        } else {
                            jQuery("[data-lightbox-id='" + jQuery("[data-ltbox-component-id='" + videoId + "']").attr("id") + "'] a")[0].click();
                        }
                        // Regular Expressions to remove query parameters after video play 
                        var replacedQueryParam;
                        if (queryParams.match("^" + params[i]) && queryParams.match(params[i] + "$")) {
                            replacedQueryParam = window.location.href.replace("?" + params[i], "");
                        } else if (queryParams.match("^" + params[i])) {
                            replacedQueryParam = window.location.href.replace(params[i] + "&", "");
                        } else {
                            replacedQueryParam = window.location.href.replace("&" + params[i], "");
                        }
                        window.history.replaceState("string", "Title", replacedQueryParam);
                        break;
                    }
                }
            });
        }
    } catch (e) {
        console.log("ERROR: VideoJS Social Share Autoplay");
        console.log(e);
    }
})();

cec=(typeof cec!=="undefined"&&cec?cec:{});
cec.environment = cdc.context.findEnvironment();
cec.math = typeof cec.math != "undefined" && cec.math ? cec.math : {};
if (typeof cec.math.toFixed == 'undefined') cec.math.toFixed = function ( num, precision ) {
    if(typeof num == 'string') num = parseFloat(num);
    return (+(Math.round(+(num + 'e' + precision)) + 'e' + - precision)).toFixed(precision);
}

function getCookie(name) {
    var value = "; " + document.cookie;
    var parts = value.split("; " + name + "=");
    if (parts.length > 1) return parts.pop().split(";").shift();
};

//LocalStorage object
cec.localstoragecache = false;
cec.localstorage = function(key,value) {
    if (localStorage) {
        if(cec.localstoragecache === undefined || !cec.localstoragecache) {
            var cecls = localStorage.getItem('cec_local');
            if (cecls != 'undefined' && cecls) { cec.localstoragecache = JSON.parse(cecls); }
        }

        if (value !== undefined) {
            try {
                cec.localstoragecache[key]=value
                localStorage.setItem('cec_local',JSON.stringify(cec.localstoragecache));
                return value;
            } catch(e) {
                return value;
            }
        }
        if(key in cec.localstoragecache) return cec.localstoragecache[key];
        return false;
    }
};
/*! jQuery UI - v1.11.4 - 2015-03-16
* //jqueryui.com
* Includes: core.js, widget.js, mouse.js, position.js, resizable.js, selectable.js, autocomplete.js, menu.js
* Copyright 2015 jQuery Foundation and other contributors; Licensed MIT */

(function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)})(function(e){function t(t,s){var n,a,o,r=t.nodeName.toLowerCase();return"area"===r?(n=t.parentNode,a=n.name,t.href&&a&&"map"===n.nodeName.toLowerCase()?(o=e("img[usemap='#"+a+"']")[0],!!o&&i(o)):!1):(/^(input|select|textarea|button|object)$/.test(r)?!t.disabled:"a"===r?t.href||s:s)&&i(t)}function i(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}e.ui=e.ui||{},e.extend(e.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({scrollParent:function(t){var i=this.css("position"),s="absolute"===i,n=t?/(auto|scroll|hidden)/:/(auto|scroll)/,a=this.parents().filter(function(){var t=e(this);return s&&"static"===t.css("position")?!1:n.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==i&&a.length?a:e(this[0].ownerDocument||document)},uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,s){return!!e.data(t,s[3])},focusable:function(i){return t(i,!isNaN(e.attr(i,"tabindex")))},tabbable:function(i){var s=e.attr(i,"tabindex"),n=isNaN(s);return(n||s>=0)&&t(i,!n)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(t,i){function s(t,i,s,a){return e.each(n,function(){i-=parseFloat(e.css(t,"padding"+this))||0,s&&(i-=parseFloat(e.css(t,"border"+this+"Width"))||0),a&&(i-=parseFloat(e.css(t,"margin"+this))||0)}),i}var n="Width"===i?["Left","Right"]:["Top","Bottom"],a=i.toLowerCase(),o={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+i]=function(t){return void 0===t?o["inner"+i].call(this):this.each(function(){e(this).css(a,s(this,t)+"px")})},e.fn["outer"+i]=function(t,n){return"number"!=typeof t?o["outer"+i].call(this,t):this.each(function(){e(this).css(a,s(this,t,!0,n)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,e.camelCase(i)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.fn.extend({focus:function(t){return function(i,s){return"number"==typeof i?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),s&&s.call(t)},i)}):t.apply(this,arguments)}}(e.fn.focus),disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(e+".ui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var i,s,n=e(this[0]);n.length&&n[0]!==document;){if(i=n.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(s=parseInt(n.css("zIndex"),10),!isNaN(s)&&0!==s))return s;n=n.parent()}return 0}}),e.ui.plugin={add:function(t,i,s){var n,a=e.ui[t].prototype;for(n in s)a.plugins[n]=a.plugins[n]||[],a.plugins[n].push([i,s[n]])},call:function(e,t,i,s){var n,a=e.plugins[t];if(a&&(s||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(n=0;a.length>n;n++)e.options[a[n][0]]&&a[n][1].apply(e.element,i)}};var s=0,n=Array.prototype.slice;e.cleanData=function(t){return function(i){var s,n,a;for(a=0;null!=(n=i[a]);a++)try{s=e._data(n,"events"),s&&s.remove&&e(n).triggerHandler("remove")}catch(o){}t(i)}}(e.cleanData),e.widget=function(t,i,s){var n,a,o,r,h={},l=t.split(".")[0];return t=t.split(".")[1],n=l+"-"+t,s||(s=i,i=e.Widget),e.expr[":"][n.toLowerCase()]=function(t){return!!e.data(t,n)},e[l]=e[l]||{},a=e[l][t],o=e[l][t]=function(e,t){return this._createWidget?(arguments.length&&this._createWidget(e,t),void 0):new o(e,t)},e.extend(o,a,{version:s.version,_proto:e.extend({},s),_childConstructors:[]}),r=new i,r.options=e.widget.extend({},r.options),e.each(s,function(t,s){return e.isFunction(s)?(h[t]=function(){var e=function(){return i.prototype[t].apply(this,arguments)},n=function(e){return i.prototype[t].apply(this,e)};return function(){var t,i=this._super,a=this._superApply;return this._super=e,this._superApply=n,t=s.apply(this,arguments),this._super=i,this._superApply=a,t}}(),void 0):(h[t]=s,void 0)}),o.prototype=e.widget.extend(r,{widgetEventPrefix:a?r.widgetEventPrefix||t:t},h,{constructor:o,namespace:l,widgetName:t,widgetFullName:n}),a?(e.each(a._childConstructors,function(t,i){var s=i.prototype;e.widget(s.namespace+"."+s.widgetName,o,i._proto)}),delete a._childConstructors):i._childConstructors.push(o),e.widget.bridge(t,o),o},e.widget.extend=function(t){for(var i,s,a=n.call(arguments,1),o=0,r=a.length;r>o;o++)for(i in a[o])s=a[o][i],a[o].hasOwnProperty(i)&&void 0!==s&&(t[i]=e.isPlainObject(s)?e.isPlainObject(t[i])?e.widget.extend({},t[i],s):e.widget.extend({},s):s);return t},e.widget.bridge=function(t,i){var s=i.prototype.widgetFullName||t;e.fn[t]=function(a){var o="string"==typeof a,r=n.call(arguments,1),h=this;return o?this.each(function(){var i,n=e.data(this,s);return"instance"===a?(h=n,!1):n?e.isFunction(n[a])&&"_"!==a.charAt(0)?(i=n[a].apply(n,r),i!==n&&void 0!==i?(h=i&&i.jquery?h.pushStack(i.get()):i,!1):void 0):e.error("no such method '"+a+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; "+"attempted to call method '"+a+"'")}):(r.length&&(a=e.widget.extend.apply(null,[a].concat(r))),this.each(function(){var t=e.data(this,s);t?(t.option(a||{}),t._init&&t._init()):e.data(this,s,new i(a,this))})),h}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=s++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),i!==this&&(e.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,i){var s,n,a,o=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(o={},s=t.split("."),t=s.shift(),s.length){for(n=o[t]=e.widget.extend({},this.options[t]),a=0;s.length-1>a;a++)n[s[a]]=n[s[a]]||{},n=n[s[a]];if(t=s.pop(),1===arguments.length)return void 0===n[t]?null:n[t];n[t]=i}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];o[t]=i}return this._setOptions(o),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,i,s){var n,a=this;"boolean"!=typeof t&&(s=i,i=t,t=!1),s?(i=n=e(i),this.bindings=this.bindings.add(i)):(s=i,i=this.element,n=this.widget()),e.each(s,function(s,o){function r(){return t||a.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof o?a[o]:o).apply(a,arguments):void 0}"string"!=typeof o&&(r.guid=o.guid=o.guid||r.guid||e.guid++);var h=s.match(/^([\w:-]*)\s*(.*)$/),l=h[1]+a.eventNamespace,u=h[2];u?n.delegate(u,l,r):i.bind(l,r)})},_off:function(t,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(i).undelegate(i),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function i(){return("string"==typeof e?s[e]:e).apply(s,arguments)}var s=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,s){var n,a,o=this.options[t];if(s=s||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],a=i.originalEvent)for(n in a)n in i||(i[n]=a[n]);return this.element.trigger(i,s),!(e.isFunction(o)&&o.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(s,n,a){"string"==typeof n&&(n={effect:n});var o,r=n?n===!0||"number"==typeof n?i:n.effect||i:t;n=n||{},"number"==typeof n&&(n={duration:n}),o=!e.isEmptyObject(n),n.complete=a,n.delay&&s.delay(n.delay),o&&e.effects&&e.effects.effect[r]?s[t](n):r!==t&&s[r]?s[r](n.duration,n.easing,a):s.queue(function(i){e(this)[t](),a&&a.call(s[0]),i()})}}),e.widget;var a=!1;e(document).mouseup(function(){a=!1}),e.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(i){return!0===e.data(i.target,t.widgetName+".preventClickEvent")?(e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!a){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var i=this,s=1===t.which,n="string"==typeof this.options.cancel&&t.target.nodeName?e(t.target).closest(this.options.cancel).length:!1;return s&&!n&&this._mouseCapture(t)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(t)!==!1,!this._mouseStarted)?(t.preventDefault(),!0):(!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return i._mouseMove(e)},this._mouseUpDelegate=function(e){return i._mouseUp(e)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),a=!0,!0)):!0}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||9>document.documentMode)&&!t.button)return this._mouseUp(t);if(!t.which)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),a=!1,!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),function(){function t(e,t,i){return[parseFloat(e[0])*(p.test(e[0])?t/100:1),parseFloat(e[1])*(p.test(e[1])?i/100:1)]}function i(t,i){return parseInt(e.css(t,i),10)||0}function s(t){var i=t[0];return 9===i.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(i)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}e.ui=e.ui||{};var n,a,o=Math.max,r=Math.abs,h=Math.round,l=/left|center|right/,u=/top|center|bottom/,d=/[\+\-]\d+(\.[\d]+)?%?/,c=/^\w+/,p=/%$/,f=e.fn.position;e.position={scrollbarWidth:function(){if(void 0!==n)return n;var t,i,s=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),a=s.children()[0];return e("body").append(s),t=a.offsetWidth,s.css("overflow","scroll"),i=a.offsetWidth,t===i&&(i=s[0].clientWidth),s.remove(),n=t-i},getScrollInfo:function(t){var i=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),s=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),n="scroll"===i||"auto"===i&&t.width<t.element[0].scrollWidth,a="scroll"===s||"auto"===s&&t.height<t.element[0].scrollHeight;return{width:a?e.position.scrollbarWidth():0,height:n?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=e(t||window),s=e.isWindow(i[0]),n=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:s,isDocument:n,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:s||n?i.width():i.outerWidth(),height:s||n?i.height():i.outerHeight()}}},e.fn.position=function(n){if(!n||!n.of)return f.apply(this,arguments);n=e.extend({},n);var p,m,g,v,y,b,_=e(n.of),x=e.position.getWithinInfo(n.within),w=e.position.getScrollInfo(x),k=(n.collision||"flip").split(" "),T={};return b=s(_),_[0].preventDefault&&(n.at="left top"),m=b.width,g=b.height,v=b.offset,y=e.extend({},v),e.each(["my","at"],function(){var e,t,i=(n[this]||"").split(" ");1===i.length&&(i=l.test(i[0])?i.concat(["center"]):u.test(i[0])?["center"].concat(i):["center","center"]),i[0]=l.test(i[0])?i[0]:"center",i[1]=u.test(i[1])?i[1]:"center",e=d.exec(i[0]),t=d.exec(i[1]),T[this]=[e?e[0]:0,t?t[0]:0],n[this]=[c.exec(i[0])[0],c.exec(i[1])[0]]}),1===k.length&&(k[1]=k[0]),"right"===n.at[0]?y.left+=m:"center"===n.at[0]&&(y.left+=m/2),"bottom"===n.at[1]?y.top+=g:"center"===n.at[1]&&(y.top+=g/2),p=t(T.at,m,g),y.left+=p[0],y.top+=p[1],this.each(function(){var s,l,u=e(this),d=u.outerWidth(),c=u.outerHeight(),f=i(this,"marginLeft"),b=i(this,"marginTop"),D=d+f+i(this,"marginRight")+w.width,S=c+b+i(this,"marginBottom")+w.height,N=e.extend({},y),M=t(T.my,u.outerWidth(),u.outerHeight());"right"===n.my[0]?N.left-=d:"center"===n.my[0]&&(N.left-=d/2),"bottom"===n.my[1]?N.top-=c:"center"===n.my[1]&&(N.top-=c/2),N.left+=M[0],N.top+=M[1],a||(N.left=h(N.left),N.top=h(N.top)),s={marginLeft:f,marginTop:b},e.each(["left","top"],function(t,i){e.ui.position[k[t]]&&e.ui.position[k[t]][i](N,{targetWidth:m,targetHeight:g,elemWidth:d,elemHeight:c,collisionPosition:s,collisionWidth:D,collisionHeight:S,offset:[p[0]+M[0],p[1]+M[1]],my:n.my,at:n.at,within:x,elem:u})}),n.using&&(l=function(e){var t=v.left-N.left,i=t+m-d,s=v.top-N.top,a=s+g-c,h={target:{element:_,left:v.left,top:v.top,width:m,height:g},element:{element:u,left:N.left,top:N.top,width:d,height:c},horizontal:0>i?"left":t>0?"right":"center",vertical:0>a?"top":s>0?"bottom":"middle"};d>m&&m>r(t+i)&&(h.horizontal="center"),c>g&&g>r(s+a)&&(h.vertical="middle"),h.important=o(r(t),r(i))>o(r(s),r(a))?"horizontal":"vertical",n.using.call(this,e,h)}),u.offset(e.extend(N,{using:l}))})},e.ui.position={fit:{left:function(e,t){var i,s=t.within,n=s.isWindow?s.scrollLeft:s.offset.left,a=s.width,r=e.left-t.collisionPosition.marginLeft,h=n-r,l=r+t.collisionWidth-a-n;t.collisionWidth>a?h>0&&0>=l?(i=e.left+h+t.collisionWidth-a-n,e.left+=h-i):e.left=l>0&&0>=h?n:h>l?n+a-t.collisionWidth:n:h>0?e.left+=h:l>0?e.left-=l:e.left=o(e.left-r,e.left)},top:function(e,t){var i,s=t.within,n=s.isWindow?s.scrollTop:s.offset.top,a=t.within.height,r=e.top-t.collisionPosition.marginTop,h=n-r,l=r+t.collisionHeight-a-n;t.collisionHeight>a?h>0&&0>=l?(i=e.top+h+t.collisionHeight-a-n,e.top+=h-i):e.top=l>0&&0>=h?n:h>l?n+a-t.collisionHeight:n:h>0?e.top+=h:l>0?e.top-=l:e.top=o(e.top-r,e.top)}},flip:{left:function(e,t){var i,s,n=t.within,a=n.offset.left+n.scrollLeft,o=n.width,h=n.isWindow?n.scrollLeft:n.offset.left,l=e.left-t.collisionPosition.marginLeft,u=l-h,d=l+t.collisionWidth-o-h,c="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,p="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,f=-2*t.offset[0];0>u?(i=e.left+c+p+f+t.collisionWidth-o-a,(0>i||r(u)>i)&&(e.left+=c+p+f)):d>0&&(s=e.left-t.collisionPosition.marginLeft+c+p+f-h,(s>0||d>r(s))&&(e.left+=c+p+f))},top:function(e,t){var i,s,n=t.within,a=n.offset.top+n.scrollTop,o=n.height,h=n.isWindow?n.scrollTop:n.offset.top,l=e.top-t.collisionPosition.marginTop,u=l-h,d=l+t.collisionHeight-o-h,c="top"===t.my[1],p=c?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,f="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,m=-2*t.offset[1];0>u?(s=e.top+p+f+m+t.collisionHeight-o-a,(0>s||r(u)>s)&&(e.top+=p+f+m)):d>0&&(i=e.top-t.collisionPosition.marginTop+p+f+m-h,(i>0||d>r(i))&&(e.top+=p+f+m))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,i,s,n,o,r=document.getElementsByTagName("body")[0],h=document.createElement("div");t=document.createElement(r?"div":"body"),s={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},r&&e.extend(s,{position:"absolute",left:"-1000px",top:"-1000px"});for(o in s)t.style[o]=s[o];t.appendChild(h),i=r||document.documentElement,i.insertBefore(t,i.firstChild),h.style.cssText="position: absolute; left: 10.7432222px;",n=e(h).offset().left,a=n>10&&11>n,t.innerHTML="",i.removeChild(t)}()}(),e.ui.position,e.widget("ui.resizable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseInt(e,10)||0},_isNumber:function(e){return!isNaN(parseInt(e,10))},_hasScroll:function(t,i){if("hidden"===e(t).css("overflow"))return!1;var s=i&&"left"===i?"scrollLeft":"scrollTop",n=!1;return t[s]>0?!0:(t[s]=1,n=t[s]>0,t[s]=0,n)},_create:function(){var t,i,s,n,a,o=this,r=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!r.aspectRatio,aspectRatio:r.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:r.helper||r.ghost||r.animate?r.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=r.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=e(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={},i=0;t.length>i;i++)s=e.trim(t[i]),a="ui-resizable-"+s,n=e("<div class='ui-resizable-handle "+a+"'></div>"),n.css({zIndex:r.zIndex}),"se"===s&&n.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[s]=".ui-resizable-"+s,this.element.append(n);this._renderAxis=function(t){var i,s,n,a;t=t||this.element;for(i in this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=e(this.handles[i]),this._on(this.handles[i],{mousedown:o._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(s=e(this.handles[i],this.element),a=/sw|ne|nw|se|n|s/.test(i)?s.outerHeight():s.outerWidth(),n=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),t.css(n,a),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.mouseover(function(){o.resizing||(this.className&&(n=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),o.axis=n&&n[1]?n[1]:"se")}),r.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){r.disabled||(e(this).removeClass("ui-resizable-autohide"),o._handles.show())}).mouseleave(function(){r.disabled||o.resizing||(e(this).addClass("ui-resizable-autohide"),o._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,i=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(t){var i,s,n=!1;for(i in this.handles)s=e(this.handles[i])[0],(s===t.target||e.contains(s,t.target))&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(t){var i,s,n,a=this.options,o=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),s=this._num(this.helper.css("top")),a.containment&&(i+=e(a.containment).scrollLeft()||0,s+=e(a.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:s},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:o.width(),height:o.height()},this.originalSize=this._helper?{width:o.outerWidth(),height:o.outerHeight()}:{width:o.width(),height:o.height()},this.sizeDiff={width:o.outerWidth()-o.width(),height:o.outerHeight()-o.height()},this.originalPosition={left:i,top:s},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof a.aspectRatio?a.aspectRatio:this.originalSize.width/this.originalSize.height||1,n=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===n?this.axis+"-resize":n),o.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var i,s,n=this.originalMousePosition,a=this.axis,o=t.pageX-n.left||0,r=t.pageY-n.top||0,h=this._change[a];return this._updatePrevProperties(),h?(i=h.apply(this,[t,o,r]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(i=this._updateRatio(i,t)),i=this._respectSize(i,t),this._updateCache(i),this._propagate("resize",t),s=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(s)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges()),!1):!1},_mouseStop:function(t){this.resizing=!1;var i,s,n,a,o,r,h,l=this.options,u=this;return this._helper&&(i=this._proportionallyResizeElements,s=i.length&&/textarea/i.test(i[0].nodeName),n=s&&this._hasScroll(i[0],"left")?0:u.sizeDiff.height,a=s?0:u.sizeDiff.width,o={width:u.helper.width()-a,height:u.helper.height()-n},r=parseInt(u.element.css("left"),10)+(u.position.left-u.originalPosition.left)||null,h=parseInt(u.element.css("top"),10)+(u.position.top-u.originalPosition.top)||null,l.animate||this.element.css(e.extend(o,{top:h,left:r})),u.helper.height(u.size.height),u.helper.width(u.size.width),this._helper&&!l.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var t,i,s,n,a,o=this.options;a={minWidth:this._isNumber(o.minWidth)?o.minWidth:0,maxWidth:this._isNumber(o.maxWidth)?o.maxWidth:1/0,minHeight:this._isNumber(o.minHeight)?o.minHeight:0,maxHeight:this._isNumber(o.maxHeight)?o.maxHeight:1/0},(this._aspectRatio||e)&&(t=a.minHeight*this.aspectRatio,s=a.minWidth/this.aspectRatio,i=a.maxHeight*this.aspectRatio,n=a.maxWidth/this.aspectRatio,t>a.minWidth&&(a.minWidth=t),s>a.minHeight&&(a.minHeight=s),a.maxWidth>i&&(a.maxWidth=i),a.maxHeight>n&&(a.maxHeight=n)),this._vBoundaries=a},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,i=this.size,s=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===s&&(e.left=t.left+(i.width-e.width),e.top=null),"nw"===s&&(e.top=t.top+(i.height-e.height),e.left=t.left+(i.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,i=this.axis,s=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,n=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,a=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,o=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,r=this.originalPosition.left+this.originalSize.width,h=this.position.top+this.size.height,l=/sw|nw|w/.test(i),u=/nw|ne|n/.test(i);return a&&(e.width=t.minWidth),o&&(e.height=t.minHeight),s&&(e.width=t.maxWidth),n&&(e.height=t.maxHeight),a&&l&&(e.left=r-t.minWidth),s&&l&&(e.left=r-t.maxWidth),o&&u&&(e.top=h-t.minHeight),n&&u&&(e.top=h-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var t=0,i=[],s=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],n=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];4>t;t++)i[t]=parseInt(s[t],10)||0,i[t]+=parseInt(n[t],10)||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,t=0,i=this.helper||this.element;this._proportionallyResizeElements.length>t;t++)e=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,i=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var i=this.originalSize,s=this.originalPosition;return{left:s.left+t,width:i.width-t}},n:function(e,t,i){var s=this.originalSize,n=this.originalPosition;return{top:n.top+i,height:s.height-i}},s:function(e,t,i){return{height:this.originalSize.height+i}},se:function(t,i,s){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,s]))},sw:function(t,i,s){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,s]))},ne:function(t,i,s){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,s]))},nw:function(t,i,s){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,s]))}},_propagate:function(t,i){e.ui.plugin.call(this,t,[i,this.ui()]),"resize"!==t&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var i=e(this).resizable("instance"),s=i.options,n=i._proportionallyResizeElements,a=n.length&&/textarea/i.test(n[0].nodeName),o=a&&i._hasScroll(n[0],"left")?0:i.sizeDiff.height,r=a?0:i.sizeDiff.width,h={width:i.size.width-r,height:i.size.height-o},l=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,u=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(e.extend(h,u&&l?{top:u,left:l}:{}),{duration:s.animateDuration,easing:s.animateEasing,step:function(){var s={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};n&&n.length&&e(n[0]).css({width:s.width,height:s.height}),i._updateCache(s),i._propagate("resize",t)
}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var t,i,s,n,a,o,r,h=e(this).resizable("instance"),l=h.options,u=h.element,d=l.containment,c=d instanceof e?d.get(0):/parent/.test(d)?u.parent().get(0):d;c&&(h.containerElement=e(c),/document/.test(d)||d===document?(h.containerOffset={left:0,top:0},h.containerPosition={left:0,top:0},h.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(t=e(c),i=[],e(["Top","Right","Left","Bottom"]).each(function(e,s){i[e]=h._num(t.css("padding"+s))}),h.containerOffset=t.offset(),h.containerPosition=t.position(),h.containerSize={height:t.innerHeight()-i[3],width:t.innerWidth()-i[1]},s=h.containerOffset,n=h.containerSize.height,a=h.containerSize.width,o=h._hasScroll(c,"left")?c.scrollWidth:a,r=h._hasScroll(c)?c.scrollHeight:n,h.parentData={element:c,left:s.left,top:s.top,width:o,height:r}))},resize:function(t){var i,s,n,a,o=e(this).resizable("instance"),r=o.options,h=o.containerOffset,l=o.position,u=o._aspectRatio||t.shiftKey,d={top:0,left:0},c=o.containerElement,p=!0;c[0]!==document&&/static/.test(c.css("position"))&&(d=h),l.left<(o._helper?h.left:0)&&(o.size.width=o.size.width+(o._helper?o.position.left-h.left:o.position.left-d.left),u&&(o.size.height=o.size.width/o.aspectRatio,p=!1),o.position.left=r.helper?h.left:0),l.top<(o._helper?h.top:0)&&(o.size.height=o.size.height+(o._helper?o.position.top-h.top:o.position.top),u&&(o.size.width=o.size.height*o.aspectRatio,p=!1),o.position.top=o._helper?h.top:0),n=o.containerElement.get(0)===o.element.parent().get(0),a=/relative|absolute/.test(o.containerElement.css("position")),n&&a?(o.offset.left=o.parentData.left+o.position.left,o.offset.top=o.parentData.top+o.position.top):(o.offset.left=o.element.offset().left,o.offset.top=o.element.offset().top),i=Math.abs(o.sizeDiff.width+(o._helper?o.offset.left-d.left:o.offset.left-h.left)),s=Math.abs(o.sizeDiff.height+(o._helper?o.offset.top-d.top:o.offset.top-h.top)),i+o.size.width>=o.parentData.width&&(o.size.width=o.parentData.width-i,u&&(o.size.height=o.size.width/o.aspectRatio,p=!1)),s+o.size.height>=o.parentData.height&&(o.size.height=o.parentData.height-s,u&&(o.size.width=o.size.height*o.aspectRatio,p=!1)),p||(o.position.left=o.prevPosition.left,o.position.top=o.prevPosition.top,o.size.width=o.prevSize.width,o.size.height=o.prevSize.height)},stop:function(){var t=e(this).resizable("instance"),i=t.options,s=t.containerOffset,n=t.containerPosition,a=t.containerElement,o=e(t.helper),r=o.offset(),h=o.outerWidth()-t.sizeDiff.width,l=o.outerHeight()-t.sizeDiff.height;t._helper&&!i.animate&&/relative/.test(a.css("position"))&&e(this).css({left:r.left-n.left-s.left,width:h,height:l}),t._helper&&!i.animate&&/static/.test(a.css("position"))&&e(this).css({left:r.left-n.left-s.left,width:h,height:l})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).resizable("instance"),i=t.options;e(i.alsoResize).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})},resize:function(t,i){var s=e(this).resizable("instance"),n=s.options,a=s.originalSize,o=s.originalPosition,r={height:s.size.height-a.height||0,width:s.size.width-a.width||0,top:s.position.top-o.top||0,left:s.position.left-o.left||0};e(n.alsoResize).each(function(){var t=e(this),s=e(this).data("ui-resizable-alsoresize"),n={},a=t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(a,function(e,t){var i=(s[t]||0)+(r[t]||0);i&&i>=0&&(n[t]=i||null)}),t.css(n)})},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).resizable("instance"),i=t.options,s=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:s.height,width:s.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t,i=e(this).resizable("instance"),s=i.options,n=i.size,a=i.originalSize,o=i.originalPosition,r=i.axis,h="number"==typeof s.grid?[s.grid,s.grid]:s.grid,l=h[0]||1,u=h[1]||1,d=Math.round((n.width-a.width)/l)*l,c=Math.round((n.height-a.height)/u)*u,p=a.width+d,f=a.height+c,m=s.maxWidth&&p>s.maxWidth,g=s.maxHeight&&f>s.maxHeight,v=s.minWidth&&s.minWidth>p,y=s.minHeight&&s.minHeight>f;s.grid=h,v&&(p+=l),y&&(f+=u),m&&(p-=l),g&&(f-=u),/^(se|s|e)$/.test(r)?(i.size.width=p,i.size.height=f):/^(ne)$/.test(r)?(i.size.width=p,i.size.height=f,i.position.top=o.top-c):/^(sw)$/.test(r)?(i.size.width=p,i.size.height=f,i.position.left=o.left-d):((0>=f-u||0>=p-l)&&(t=i._getPaddingPlusBorderDimensions(this)),f-u>0?(i.size.height=f,i.position.top=o.top-c):(f=u-t.height,i.size.height=f,i.position.top=o.top+a.height-f),p-l>0?(i.size.width=p,i.position.left=o.left-d):(p=l-t.width,i.size.width=p,i.position.left=o.left+a.width-p))}}),e.ui.resizable,e.widget("ui.selectable",e.ui.mouse,{version:"1.11.4",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t,i=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){t=e(i.options.filter,i.element[0]),t.addClass("ui-selectee"),t.each(function(){var t=e(this),i=t.offset();e.data(this,"selectable-item",{element:this,$element:t,left:i.left,top:i.top,right:i.left+t.outerWidth(),bottom:i.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=t.addClass("ui-selectee"),this._mouseInit(),this.helper=e("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(t){var i=this,s=this.options;this.opos=[t.pageX,t.pageY],this.options.disabled||(this.selectees=e(s.filter,this.element[0]),this._trigger("start",t),e(s.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),s.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var s=e.data(this,"selectable-item");s.startselected=!0,t.metaKey||t.ctrlKey||(s.$element.removeClass("ui-selected"),s.selected=!1,s.$element.addClass("ui-unselecting"),s.unselecting=!0,i._trigger("unselecting",t,{unselecting:s.element}))}),e(t.target).parents().addBack().each(function(){var s,n=e.data(this,"selectable-item");return n?(s=!t.metaKey&&!t.ctrlKey||!n.$element.hasClass("ui-selected"),n.$element.removeClass(s?"ui-unselecting":"ui-selected").addClass(s?"ui-selecting":"ui-unselecting"),n.unselecting=!s,n.selecting=s,n.selected=s,s?i._trigger("selecting",t,{selecting:n.element}):i._trigger("unselecting",t,{unselecting:n.element}),!1):void 0}))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var i,s=this,n=this.options,a=this.opos[0],o=this.opos[1],r=t.pageX,h=t.pageY;return a>r&&(i=r,r=a,a=i),o>h&&(i=h,h=o,o=i),this.helper.css({left:a,top:o,width:r-a,height:h-o}),this.selectees.each(function(){var i=e.data(this,"selectable-item"),l=!1;i&&i.element!==s.element[0]&&("touch"===n.tolerance?l=!(i.left>r||a>i.right||i.top>h||o>i.bottom):"fit"===n.tolerance&&(l=i.left>a&&r>i.right&&i.top>o&&h>i.bottom),l?(i.selected&&(i.$element.removeClass("ui-selected"),i.selected=!1),i.unselecting&&(i.$element.removeClass("ui-unselecting"),i.unselecting=!1),i.selecting||(i.$element.addClass("ui-selecting"),i.selecting=!0,s._trigger("selecting",t,{selecting:i.element}))):(i.selecting&&((t.metaKey||t.ctrlKey)&&i.startselected?(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.$element.addClass("ui-selected"),i.selected=!0):(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.startselected&&(i.$element.addClass("ui-unselecting"),i.unselecting=!0),s._trigger("unselecting",t,{unselecting:i.element}))),i.selected&&(t.metaKey||t.ctrlKey||i.startselected||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,s._trigger("unselecting",t,{unselecting:i.element})))))}),!1}},_mouseStop:function(t){var i=this;return this.dragged=!1,e(".ui-unselecting",this.element[0]).each(function(){var s=e.data(this,"selectable-item");s.$element.removeClass("ui-unselecting"),s.unselecting=!1,s.startselected=!1,i._trigger("unselected",t,{unselected:s.element})}),e(".ui-selecting",this.element[0]).each(function(){var s=e.data(this,"selectable-item");s.$element.removeClass("ui-selecting").addClass("ui-selected"),s.selecting=!1,s.selected=!0,s.startselected=!0,i._trigger("selected",t,{selected:s.element})}),this._trigger("stop",t),this.helper.remove(),!1}}),e.widget("ui.menu",{version:"1.11.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item":function(e){e.preventDefault()},"click .ui-menu-item":function(t){var i=e(t.target);!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&e(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){if(!this.previousFilter){var i=e(t.currentTarget);i.siblings(".ui-state-active").removeClass("ui-state-active"),this.focus(t,i)}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var i=this.active||this.element.find(this.options.items).eq(0);t||this.focus(e,i)},blur:function(t){this._delay(function(){e.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var t=e(this);t.data("ui-menu-submenu-carat")&&t.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){var i,s,n,a,o=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:o=!1,s=this.previousFilter||"",n=String.fromCharCode(t.keyCode),a=!1,clearTimeout(this.filterTimer),n===s?a=!0:n=s+n,i=this._filterMenuItems(n),i=a&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i,i.length||(n=String.fromCharCode(t.keyCode),i=this._filterMenuItems(n)),i.length?(this.focus(t,i),this.previousFilter=n,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}o&&t.preventDefault()},_activate:function(e){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(e):this.select(e))},refresh:function(){var t,i,s=this,n=this.options.icons.submenu,a=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),a.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=e(this),i=t.parent(),s=e("<span>").addClass("ui-menu-icon ui-icon "+n).data("ui-menu-submenu-carat",!0);i.attr("aria-haspopup","true").prepend(s),t.attr("aria-labelledby",i.attr("id"))}),t=a.add(this.element),i=t.find(this.options.items),i.not(".ui-menu-item").each(function(){var t=e(this);s._isDivider(t)&&t.addClass("ui-widget-content ui-menu-divider")}),i.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),i.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){"icons"===e&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this._super(e,t)},focus:function(e,t){var i,s;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),s=this.active.addClass("ui-state-focus").removeClass("ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",s.attr("id")),this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=t.children(".ui-menu"),i.length&&e&&/^mouse/.test(e.type)&&this._startOpening(i),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var i,s,n,a,o,r;this._hasScroll()&&(i=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,s=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,n=t.offset().top-this.activeMenu.offset().top-i-s,a=this.activeMenu.scrollTop(),o=this.activeMenu.height(),r=t.outerHeight(),0>n?this.activeMenu.scrollTop(a+n):n+r>o&&this.activeMenu.scrollTop(a+n-o+r))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",e,{item:this.active}))},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(t){var i=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(t,i){clearTimeout(this.timer),this.timer=this._delay(function(){var s=i?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));s.length||(s=this.element),this._close(s),this.blur(t),this.activeMenu=s},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(t){return!e(t.target).closest(".ui-menu").length},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text())},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,i){var s;this.active&&(s="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),s&&s.length&&this.active||(s=this.activeMenu.find(this.options.items)[t]()),this.focus(i,s)},nextPage:function(t){var i,s,n;return this.active?(this.isLastItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=e(this),0>i.offset().top-s-n}),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())),void 0):(this.next(t),void 0)},previousPage:function(t){var i,s,n;return this.active?(this.isFirstItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=e(this),i.offset().top-s+n>0}),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items).first())),void 0):(this.next(t),void 0)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,i)},_filterMenuItems:function(t){var i=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),s=RegExp("^"+i,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return s.test(e.trim(e(this).text()))})}}),e.widget("ui.autocomplete",{version:"1.11.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,i,s,n=this.element[0].nodeName.toLowerCase(),a="textarea"===n,o="input"===n;this.isMultiLine=a?!0:o?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[a||o?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(n){if(this.element.prop("readOnly"))return t=!0,s=!0,i=!0,void 0;t=!1,s=!1,i=!1;var a=e.ui.keyCode;switch(n.keyCode){case a.PAGE_UP:t=!0,this._move("previousPage",n);break;case a.PAGE_DOWN:t=!0,this._move("nextPage",n);break;case a.UP:t=!0,this._keyEvent("previous",n);break;case a.DOWN:t=!0,this._keyEvent("next",n);break;case a.ENTER:this.menu.active&&(t=!0,n.preventDefault(),this.menu.select(n));break;case a.TAB:this.menu.active&&this.menu.select(n);break;case a.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(n),n.preventDefault());break;default:i=!0,this._searchTimeout(n)}},keypress:function(s){if(t)return t=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&s.preventDefault(),void 0;if(!i){var n=e.ui.keyCode;switch(s.keyCode){case n.PAGE_UP:this._move("previousPage",s);break;case n.PAGE_DOWN:this._move("nextPage",s);break;case n.UP:this._keyEvent("previous",s);break;case n.DOWN:this._keyEvent("next",s)}}},input:function(e){return s?(s=!1,e.preventDefault(),void 0):(this._searchTimeout(e),void 0)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){return this.cancelBlur?(delete this.cancelBlur,void 0):(clearTimeout(this.searching),this.close(e),this._change(e),void 0)}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];e(t.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(s){s.target===t.element[0]||s.target===i||e.contains(i,s.target)||t.close()})})},menufocus:function(t,i){var s,n;return this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type))?(this.menu.blur(),this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)}),void 0):(n=i.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",t,{item:n})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(n.value),s=i.item.attr("aria-label")||n.value,s&&e.trim(s).length&&(this.liveRegion.children().hide(),e("<div>").text(s).appendTo(this.liveRegion)),void 0)},menuselect:function(e,t){var i=t.item.data("ui-autocomplete-item"),s=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=s,this._delay(function(){this.previous=s,this.selectedItem=i})),!1!==this._trigger("select",e,{item:i})&&this._value(i.value),this.term=this._value(),this.close(e),this.selectedItem=i}}),this.liveRegion=e("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,i,s=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(i,s){s(e.ui.autocomplete.filter(t,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(t,n){s.xhr&&s.xhr.abort(),s.xhr=e.ajax({url:i,data:t,dataType:"json",success:function(e){n(e)},error:function(){n([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){var t=this.term===this._value(),i=this.menu.element.is(":visible"),s=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;(!t||t&&!i&&!s)&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):this._trigger("search",t)!==!1?this._search(e):void 0},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return e.proxy(function(e){t===this.requestIndex&&this.__response(e),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({},t,{label:t.label||t.value,value:t.value||t.label})})},_suggest:function(t){var i=this.menu.element.empty();this._renderMenu(i,t),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,i){var s=this;e.each(i,function(e,i){s._renderItemData(t,i)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,i){var label = i.label; var newLabel = label.replace(new RegExp(cec.feedback.searchTypeAhead.requestTerm,'i'),"<b>" + cec.feedback.searchTypeAhead.requestTerm + "</b>");return e("<li>").html(newLabel).appendTo(t)},_move:function(e,t){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this.isMultiLine||this._value(this.term),this.menu.blur(),void 0):(this.menu[e](t),void 0):(this.search(null,t),void 0)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,i){var s=RegExp(e.ui.autocomplete.escapeRegex(i),"i");return e.grep(t,function(e){return s.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var i;this._superApply(arguments),this.options.disabled||this.cancelSearch||(i=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.children().hide(),e("<div>").text(i).appendTo(this.liveRegion))}}),e.ui.autocomplete});

cec = (cec !== undefined && cec ? cec : {});
cec.environment = (cec.environment !== undefined && cec.environment ?cec.environment:'');

jQuery(document).ready(function() {
    // enabling zero trust (i.e. access without VPN) to typeahead service
    if (cec.environment === "prod" || cec.environment === "stage") {
        let url = cec.feedback.searchTypeAhead.productionURL;
        if (cec.environment === 'stage') { url = cec.feedback.searchTypeAhead.stageURL; }
        fetch(url, {
            mode: "no-cors",
            method: "GET",
            credentials: "include"
        }).then(() => {
            console.log("Fetch succeeded. OneSearch/Directory typeahead services enabled.")
        });
    }

    var cdc = cdc || {};
    cdc.ngi = cdc.ngi || {};
    cdc.ngi.typeahead = cdc.ngi.typeahead || {};

    cdc.ngi.typeahead.getSortOrder = function(prop) {
        return function(a, b) {
            if (a[prop] > b[prop]) {
                    return 1;
               } else if (a[prop] < b[prop]) {
                   return -1;
               }
            return 0;
        }
    }
    var searchFeedUrl;
    cec.searchFeedList = [];

    cdc.ngi.typeahead.$input = jQuery('#cecsearch-phrase');
    cdc.ngi.typeahead.$input.autocomplete({
        minLength: 3,
        autoFocus: false,
        delay : 333,
        position: { offset : "0 2" },
        source: function (request, response) {
            if(cec.environment == "prod"){
                searchFeedUrl = cec.feedback.searchTypeAhead.productionURL;
            }else if(cec.environment == "stage"){
                searchFeedUrl = cec.feedback.searchTypeAhead.stageURL;
            }else if(cec.environment == "sandbox" || cec.environment == "dev"){
                searchFeedUrl = cec.feedback.searchTypeAhead.sandBoxAndDevURL;
            }else{
                searchFeedUrl = cec.feedback.searchTypeAhead.otherEnvURL;
            }

            jQuery.ajax({
                type: "GET",
                url: searchFeedUrl +'&q='+request.term,
                xhrFields: {
                    withCredentials: true
                },
                success: function( data ) {
                    cec.feedback.searchTypeAhead.requestTerm = request.term.trim();
                    cec.searchFeedList= data.sort(cdc.ngi.typeahead.getSortOrder("category"));
                    response(cec.searchFeedList);
                }
            });
        },
        select: function(event, ui) {
            jQuery("#cecsearch-phrase").val(ui.item.label);
            jQuery("#fw-cecsearch-button").trigger('click');
        },
        open: function() {
            jQuery('ul.ui-autocomplete li:first-child').addClass('ngi-typeahead-firstitem');
            var searchpos = jQuery('#cecsearch-phrase').offset();
            jQuery('.ui-autocomplete').offset({
                'top': searchpos.top + 35
            });
        }
    }).on('focus', function() { jQuery(this).keydown(); });

    var wrapdiv = '<div class="ngi-typeahead"></div>';
    jQuery('.ui-autocomplete').wrapAll(wrapdiv);
});

cec.cecFooter = cec.cecFooter || {};

jQuery("#pageInfoOpener").click(function () {
    var monthNames = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];
    var dateStr = monthNames[cec.cecFooter.modified.getMonth()] + ' ' + cec.cecFooter.modified.getDate() + ', ' + cec.cecFooter.modified.getFullYear() ;

    jQuery( "#pageModifiedDate" ).html( dateStr );

    var readymaintained = "";

    if ((cec.cecFooter.publisher !== "") && (cec.cecFooter.publisher.match("@cisco.com$"))) {
        readymaintained = "mailto:" + cec.cecFooter.publisher + "?subject=" + encodeURI(window.location.href);  
        jQuery( "#pageMaintainedBy a" ).html(cec.cecFooter.publisher);
        jQuery( "#pageMaintainedBy a" ).attr("href", readymaintained);
    } else{
        readymaintained = cec.cecFooter.publisher == "" ? "&nbsp" : cec.cecFooter.publisher;
        jQuery("#pageMaintainedBy").html(readymaintained);
    }

    jQuery( "#pageOwnedBy" ).html(cec.cecFooter.readyownedBy );
    jQuery( "#pageInfoDialog" ).show();

    //for footer metrics
    var text = jQuery(this).text();
    var url = "";
    trackEvent.event("link",{ntpagetag: {cecLinkType:"footerLink", cecFooterLinkText  : text, cecFooterLinkUrl  : url }});
});

window.addEventListener('load', function () {
    if (cec.cecFooter.feedbackType == "email") {
        cec.feedback.url = "mailto:" + cec.cecFooter.feedbackAlias + "?subject=" + encodeURI(window.location.href);
        jQuery("#pageFeedbackOpener").attr("href", cec.feedback.url);
    } else {
         cec.feedback.url =  cec.cecFooter.feedbackUrl;
        if (cec.feedback.url.length > 0) {
            //jQuery("#pageFeedbackOpener").attr("href", cec.feedback.url);//commenting this as we always load feedback app
        } else {
            //jQuery("#pageFeedbackOpener").attr("href", cec.feedback.URL);//commenting this as we always load feedback app
        }
    }
});


jQuery(".cec-page-info-close").click(function(){
    jQuery( "#pageInfoDialog" ).hide();
});
jQuery(".cec-page-feedback-close").click(function(){
    jQuery( "#pageFeedbackDialog" ).hide();
});

jQuery("#pageFeedbackSubmit").click(function () {
    var feedbackMailUrl;
    if (cec.environment === "stage" || cec.environment === "dev" || cec.environment === "sandbox") {
        feedbackMailUrl = "//wemformmail-stage.cloudapps.cisco.com/email-sender/service/sendEmail";
    } else {
        feedbackMailUrl = "//wemformmail.cloudapps.cisco.com/email-sender/service/sendEmail";
    }
    var feedbackComments = jQuery('#pageFeedbackComments').val().replace(/(\r\n|\n|\r)/gm," ");
    var input = "{\"header_data\" : {\"form_email_to\" : \""+ cec.cecFooter.feedbackAlias +"\",\"form_email_subject\" : \"Page Feedback\"},\"body_data\":[{\"id\":\"\",\"label\":\"Comments\",\"value\":\""+ feedbackComments +"\"}]}";

    jQuery.ajax({
        url: feedbackMailUrl,
        type: "POST",
        contentType: "text/plain",
        xhrFields: { withCredentials: true },
        dataType: "json",
        data: input,
        success:function(result){
            jQuery( "#pageFeedbackDialog" ).hide();


        },
        error:function(xhr,status,error){
            jQuery( "#pageFeedbackDialog" ).hide();

        }
    });
});

jQuery("#pageFeedbackDialogClose").click(function(){
    jQuery( "#pageFeedbackDialog" ).hide();
});

// Feedback dialog 
jQuery("#pageFeedbackOpener_email").click(function(e) {
    e.preventDefault();
    /*
    jQuery("#pageFeedbackRefUrl").val(window.location.href);
    jQuery("#pageFeedbackRefUrl").prop( "disabled", true );
    jQuery('#pageFeedbackComments').val("");

    jQuery("#pageFeedbackDialog").show();
*/
    //for footer metrics
    var text = jQuery(this).text();
    var url = "";
    trackEvent.event("link",{ntpagetag: {cecLinkType:"footerLink", cecFooterLinkText  : text, cecFooterLinkUrl  : url }});
        OpenFeedback();
});

jQuery("#pageFeedbackOpener").click(function(e) {
      e.preventDefault();
    //for footer metrics
    var text = jQuery(this).text();
    var url = this.href;
    trackEvent.event("link",{ntpagetag: {cecLinkType:"footerLink", cecFooterLinkText  : text, cecFooterLinkUrl  : url }});
        OpenFeedback();
});

function OpenFeedback(){
        var url, 
            referalURL = document.location.href,
            env = cdc.context.findEnvironment();       
        if( env === "dev") {
            url = "https://cecfeedback-dev.cisco.com/";
        } else if(env === "stage") {
            url = "https://cecfeedback-stg.cisco.com/";
        } else {
            url="https://cecfeedback.cisco.com/";
        };
        var feedbackURL = url+"?publisher="+cec.cecFooter.feedbackAlias+"&referalURL="+referalURL+"&uid="+cec.userInfo.info.mail;
        cec.feedback.URL = feedbackURL;
        window.open(feedbackURL);

}

jQuery("#cecFooterpageHelp, #cecFooterDataProtPol, #cecFooterHomepageLink").click(function () {
    //for footer metrics
    var text = jQuery(this).text();
    var url = this.href;
    trackEvent.event("link",{ntpagetag: {cecLinkType:"footerLink", cecFooterLinkText  : text, cecFooterLinkUrl  : url }});
});
	/*
    	*submit function for CEC search
     	*US184925
      	*shivang2
    */
	cec.searchURLs = cec.searchURLs || {};
	cec.searchURLs.properties ={};
    cec.searchURLs.properties.onesearchProdURL = "https://onesearch.cisco.com/searchpage";
    cec.searchURLs.properties.onesearchStageURL = "http://onesearch-stage.cisco.com/searchpage";
    cec.searchURLs.properties.onesearchDevURL = "http://onesearch-dev.cisco.com/searchpage";
    cec.searchURLs.properties.directoryDevURL = "https://directory-dev.cisco.com/dir/empquery.go";
    cec.searchURLs.properties.directoryStageURL = "https://directory-stage.cisco.com/dir/empquery.go";
    cec.searchURLs.properties.directoryProdURL = "https://directory.cisco.com/dir/empquery.go";

/*
*	Keydown event to capture if user press "D" on keyboard, which should focus on search bar.
*/
    jQuery(document).keydown(function(event){
        var x = event.which || event.keyCode;
        if (event.target.tagName == 'INPUT' || event.target.tagName == 'TEXTAREA' || event.target.tagName == 'SELECT'
            || event.ctrlKey || event.altKey || event.metaKey || x != 68) return true;
        event.preventDefault();
        if(x==68){
           document.getElementById("cecsearch-phrase").focus();
        }
    });

	jQuery('#sitewidesearch').submit(function(ev){
    var searchText = jQuery('#cecsearch-phrase').val(); 
    var searchUrl;
    if(searchText.trim() === ""){
		return false;
    }
    var category= "oneSrchEntityDictionaryProvider";
    for(var j=0;j<cec.searchFeedList.length;j++){
        if(searchText === cec.searchFeedList[j].label){
			category= cec.searchFeedList[j].category;
        }
    }
  	if(category === "directory"){
        if(cec.environment == "prod"){
			searchUrl = cec.searchURLs.properties.directoryProdURL;
		}else if(cec.environment == "stage"){
			searchUrl = cec.searchURLs.properties.directoryStageURL;
		}else if(cec.environment == "sandbox" || cec.environment == "dev"){
			searchUrl = cec.searchURLs.properties.directoryDevURL;
		}else{
			searchUrl = cec.searchURLs.properties.directoryProdURL;
		}
        $("#cecsearch-phrase").attr("name","q");
        $("form[name=sitewidesearch]").attr("action",searchUrl );
    }
    else {
        if(cec.environment == "prod"){
			searchUrl = cec.searchURLs.properties.onesearchProdURL;
		}else if(cec.environment == "stage"){
			searchUrl = cec.searchURLs.properties.onesearchStageURL;
		}else if(cec.environment == "sandbox" || cec.environment == "dev"){
			searchUrl = cec.searchURLs.properties.onesearchDevURL ;
		}else{
			searchUrl = cec.searchURLs.properties.onesearchProdURL;
		}
		$("#cecsearch-phrase").attr("name","queryFilter");
        $("form[name=sitewidesearch]").attr("action",searchUrl);
    }
    var searchTarget = "";
    if(cec.search.currentTarget == cec.search.target.directory) {
        searchTarget = "directory";
    }else{
        searchTarget = "onesearch";
	}

    trackEvent.event("link",{ntpagetag: {searchType  : "cecHeaderSearch", searchText  : searchText, searchTarget : searchTarget}});

});
var $e=Object.create;var Ie=Object.defineProperty;var He=Object.getOwnPropertyDescriptor;var Be=Object.getOwnPropertyNames;var Ne=Object.getPrototypeOf,ze=Object.prototype.hasOwnProperty;var Ee=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Fe=(e,t,s,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of Be(t))!ze.call(e,a)&&a!==s&&Ie(e,a,{get:()=>t[a],enumerable:!(r=He(t,a))||r.enumerable});return e};var Re=(e,t,s)=>(s=e!=null?$e(Ne(e)):{},Fe(t||!e||!e.__esModule?Ie(s,"default",{value:e,enumerable:!0}):s,e));var Pe=Ee((exports,module)=>{jQuery(function(){jQuery("body").hasClass("cdc-eot-toc")&&jQuery(".eot-tdatp .eot-tdatp-list li").length>0&&(jQuery(".eot-tdatp button.eot-show5").hide(),show5items());function show5items(){jQuery(".eot-tdatp .eot-tdatp-list li:lt(5)").show(),jQuery(".eot-tdatp .eot-tdatp-list li:gt(4)").hide()}var button=jQuery(".eot-show5");button.length&&show5plusRows(!1),button.on("click",function(){var e=button.attr("showing5");show5plusRows(e)});function show5plusRows(yes){var rows=jQuery(".eot-tdatp li"),nRows=rows.length;if(yes)button.html("- <span>"+cdc.rc.eotkeys.showOnly5Products+"</span>").removeAttr("showing5");else{var totalProducts=cdc.rc.eotkeys.showAllRowsProducts,totalProductsTxt=totalProducts.replace("nRows",eval(nRows));button.html("+ <span>"+totalProductsTxt+"</span>").attr("showing5","1")}rows.show();for(var i=5;i<rows.length;i++)yes?$(rows[i]).show():$(rows[i]).hide();rows.removeClass("eot-tdatp-lastitemlink");var lastRowIndex=rows.length>=5&&!yes?4:rows.length-1;jQuery(rows[lastRowIndex]).addClass("eot-tdatp-lastitemlink")}})});var qe=Ee(Me=>{(function(){var e,t,s,r,a,d={}.hasOwnProperty,h=function(u,l){for(var o in l)d.call(l,o)&&(u[o]=l[o]);function c(){this.constructor=u}return c.prototype=l.prototype,u.prototype=new c,u.__super__=l.prototype,u};r=function(){function u(){this.options_index=0,this.parsed=[]}return u.prototype.add_node=function(l){return l.nodeName.toUpperCase()==="OPTGROUP"?this.add_group(l):this.add_option(l)},u.prototype.add_group=function(l){var o,c,f,g,m,y;for(o=this.parsed.length,this.parsed.push({array_index:o,group:!0,label:this.escapeExpression(l.label),children:0,disabled:l.disabled}),m=l.childNodes,y=[],f=0,g=m.length;f<g;f++)c=m[f],y.push(this.add_option(c,o,l.disabled));return y},u.prototype.add_option=function(l,o,c){if(l.nodeName.toUpperCase()==="OPTION")return l.text!==""?(o!=null&&(this.parsed[o].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:l.value,text:l.text,html:l.innerHTML,selected:l.selected,disabled:c===!0?c:l.disabled,group_array_index:o,classes:l.className,style:l.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1},u.prototype.escapeExpression=function(l){var o,c;return l==null||l===!1?"":/[\&\<\>\"\'\`]/.test(l)?(o={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},c=/&(?!\w+;)|[\<\>\"\'\`]/g,l.replace(c,function(f){return o[f]||"&amp;"})):l},u}(),r.select_to_array=function(u){var l,o,c,f,g;for(o=new r,g=u.childNodes,c=0,f=g.length;c<f;c++)l=g[c],o.add_node(l);return o.parsed},t=function(){function u(l,o){this.form_field=l,this.options=o??{},u.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers(),this.on_ready())}return u.prototype.set_default_values=function(){var l=this;return this.click_test_action=function(o){return l.test_active_click(o)},this.activate_action=function(o){return l.activate_field(o)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.allow_single_deselect=this.options.allow_single_deselect!=null&&this.form_field.options[0]!=null&&this.form_field.options[0].text===""?this.options.allow_single_deselect:!1,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=this.options.enable_split_word_search!=null?this.options.enable_split_word_search:!0,this.group_search=this.options.group_search!=null?this.options.group_search:!0,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=this.options.single_backstroke_delete!=null?this.options.single_backstroke_delete:!0,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=this.options.display_selected_options!=null?this.options.display_selected_options:!0,this.id37_and_search=this.options.id37_and_search!=null?this.options.id37_and_search:!1,this.id37_filter_off=this.options.id37_filter_off!=null?this.options.id37_filter_off:!1,this.id37_preserve_search_string_on_update=this.options.id37_preserve_search_string_on_update!=null?this.options.id37_preserve_search_string_on_update:!1,this.id37_break_term_on_space=this.options.id37_preserve_search_string_on_update!=null?this.options.id37_preserve_search_string_on_update:!1,this.display_disabled_options=this.options.display_disabled_options!=null?this.options.display_disabled_options:!0},u.prototype.set_default_text=function(){return this.form_field.getAttribute("data-placeholder")?this.default_text=this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||u.default_multiple_text:this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||u.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||u.default_no_result_text},u.prototype.mouse_enter=function(){return this.mouse_on_container=!0},u.prototype.mouse_leave=function(){return this.mouse_on_container=!1},u.prototype.input_focus=function(l){var o=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return o.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},u.prototype.input_blur=function(l){var o=this;if(!this.mouse_on_container)return this.active_field=!1,setTimeout(function(){return o.blur_test()},100)},u.prototype.results_option_build=function(l){var o,c,f,g,m;for(o="",m=this.results_data,f=0,g=m.length;f<g;f++)c=m[f],c.group?o+=this.result_add_group(c):o+=this.result_add_option(c),l?.first&&(c.selected&&this.is_multiple?this.choice_build(c):c.selected&&!this.is_multiple&&this.single_set_selected_text(c.text));return o},u.prototype.result_add_option=function(l){var o,c;return!l.search_match&&!this.id37_filter_off||!this.include_option_in_results(l)?"":(o=[],!l.disabled&&!(l.selected&&this.is_multiple)&&o.push("active-result"),l.disabled&&!(l.selected&&this.is_multiple)&&o.push("disabled-result"),l.selected&&o.push("result-selected"),l.group_array_index!=null&&o.push("group-option"),l.classes!==""&&o.push(l.classes),c=document.createElement("li"),c.className=o.join(" "),c.style.cssText=l.style,c.setAttribute("data-option-array-index",l.array_index),c.setAttribute("role","option"),c.id=""+this.form_field.id+"-chosen-search-result-"+l.array_index,c.innerHTML=l.search_text,l.title&&(c.title=l.title),this.outerHTML(c))},u.prototype.result_add_group=function(l){var o;return!(l.search_match||l.group_match)||!(l.active_options>0)?"":(o=document.createElement("li"),o.className="group-result",o.innerHTML=l.search_text,this.outerHTML(o))},u.prototype.results_update_field=function(){if(this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build(),this.results_showing)return this.winnow_results()},u.prototype.reset_single_select_options=function(){var l,o,c,f,g;for(f=this.results_data,g=[],o=0,c=f.length;o<c;o++)l=f[o],l.selected?g.push(l.selected=!1):g.push(void 0);return g},u.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},u.prototype.results_search=function(l){return this.results_showing?this.winnow_results():this.results_show()},u.prototype.winnow_results=function(){var l,o,c=[],f,g,m,y,p,v,b,Q,T;this.no_results_clear(),g=0,y=this.get_search_text();var E=[y],R=[];if(this.id37_break_term_on_space){E[0]=E[0].replace(/([a-zA-Z])([0-9])/g,"$1 $2").replace(/([0-9])([a-zA-Z])/g,"$1 $2"),E=E[0].replace("&amp;","&").split(/[\s\/#&-]+/);try{E=E.sort(function(L,C){return C.length-L.length})}catch{}}for(n=0;n<E.length;n++)R[n]=E[n].replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),f=this.search_contains?"":"^",c[n]=new RegExp(f+R[n],"i"),regexor=new RegExp(f+"("+R.join("|")+")","ig");for(T=this.results_data,b=0,Q=T.length;b<Q;b++)o=T[b],o.search_match=!1,m=null,this.include_option_in_results(o)&&(o.group&&(o.group_match=!1,o.active_options=0),o.group_array_index!=null&&this.results_data[o.group_array_index]&&(m=this.results_data[o.group_array_index],m.active_options===0&&m.search_match,m.active_options+=1),o.group&&!this.group_search||(o.search_text=o.group?o.label:o.html,o.search_match=this.search_string_match(o.search_text,c),o.search_match&&o.group,o.search_match?(y.length&&o.search_match&&(o.search_text=o.search_text.replace(regexor,"<em>$1</em>")),m!=null&&(m.group_match=!0)):o.group_array_index!=null&&this.results_data[o.group_array_index].search_match&&(o.search_match=!0),o.search_match=!0,g+=1));return this.result_clear_highlight(),g<1&&y.length?(this.update_results_content(""),this.no_results(y)):(this.update_results_content(this.results_option_build()),this.winnow_results_set_highlight())},u.prototype.search_string_match=function(l,o,c){var f,g,m,y,p=!0;if(o.length==1){if(o=o[0],o.test(l))return!0;if(this.enable_split_word_search&&(l.indexOf(" ")>=0||l.indexOf("[")===0)&&(g=l.replace(/\[|\]/g,"").split(" "),g.length)){for(m=0,y=g.length;m<y;m++)if(f=g[m],o.test(f))return!0}}else{var p=!0;for(n=0;n<o.length&&p;n++)p=o[n].test(l);return p}},u.prototype.choices_count=function(){var l,o,c,f;if(this.selected_option_count!=null)return this.selected_option_count;for(this.selected_option_count=0,f=this.form_field.options,o=0,c=f.length;o<c;o++)l=f[o],l.selected&&(this.selected_option_count+=1);return this.selected_option_count},u.prototype.choices_click=function(l){if(l.preventDefault(),!(this.results_showing||this.is_disabled))return this.results_show()},u.prototype.keyup_checker=function(l){var o,c;switch(o=(c=l.which)!=null?c:l.keyCode,this.search_field_scale(),o){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(l.preventDefault(),this.results_showing)return this.result_select(l);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},u.prototype.clipboard_event_checker=function(l){var o=this;return setTimeout(function(){return o.results_search()},50)},u.prototype.container_width=function(){return this.options.width!=null?this.options.width:document.body.getAttribute("class")=="cdc-support-home-page"&&this.form_field.parentNode.getAttribute("class")=="searchbar"?"100%":""+this.form_field.offsetWidth+"px"},u.prototype.include_option_in_results=function(l){return!(this.is_multiple&&!this.display_selected_options&&l.selected||!this.display_disabled_options&&l.disabled||l.empty)},u.prototype.search_results_touchstart=function(l){return this.touch_started=!0,this.search_results_mouseover(l)},u.prototype.search_results_touchmove=function(l){return this.touch_started=!1,this.search_results_mouseout(l)},u.prototype.search_results_touchend=function(l){if(this.touch_started)return this.search_results_mouseup(l)},u.prototype.outerHTML=function(l){var o;return l.outerHTML?l.outerHTML:(o=document.createElement("div"),o.appendChild(l),o.innerHTML)},u.browser_is_supported=function(){return window.navigator.appName==="Microsoft Internet Explorer"?document.documentMode>=8:!0},u.default_multiple_text="Select Some Options",u.default_single_text="Select an Option",u.default_no_result_text="No results match",u}(),e=jQuery,e.fn.extend({chosen:function(u){return t.browser_is_supported()?this.each(function(l){var o,c;o=e(this),c=o.data("chosen"),u==="destroy"&&c?c.destroy():c||o.data("chosen",new s(this,u))}):this}}),s=function(u){h(l,u);function l(){return a=l.__super__.constructor.apply(this,arguments),a}return l.prototype.setup=function(){return this.form_field_jq=e(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chosen-rtl")},l.prototype.set_up_html=function(){var o,c;return o=["chosen-container","ie"],o.push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&o.push(this.form_field.className),this.is_rtl&&o.push("chosen-rtl"),c={class:o.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title,tabindex:"0"},this.form_field.id.length&&(c.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=e("<div />",c),this.is_multiple?this.container.html('<ul class="chosen-choices"><li class="search-field"><input type="text" tabindex="-1" value="'+this.default_text+'" class="default" autocomplete="off" aria-expanded="false" aria-haspopup="true" role="combobox" aria-autocomplete="list" style="width:25px;" /></li></ul><div class="chosen-drop"><ul class="chosen-results" role="listbox" aria-busy="true"></ul></div>'):this.container.html('<a class="chosen-single chosen-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input tabindex="-1" type="text" aria-expanded="false" aria-haspopup="true" role="combobox" aria-autocomplete="list" autocomplete="off" /></div><ul class="chosen-results" role="listbox" aria-busy="true"></ul></div>'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_results.attr("id",""+this.form_field.id+"-chosen-search-results"),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.set_aria_labels(),this.results_build(),this.set_tab_index(),this.set_label_behavior()},l.prototype.on_ready=function(){return this.form_field_jq.trigger("chosen:ready",{chosen:this})},l.prototype.register_observers=function(){var o=this;return this.container.bind("mousedown.chosen",function(c){o.container_mousedown(c)}),this.container.bind("mouseup.chosen",function(c){o.container_mouseup(c)}),this.container.bind("mouseenter.chosen",function(c){o.mouse_enter(c)}),this.container.bind("mouseleave.chosen",function(c){o.mouse_leave(c)}),this.container.bind("keydown.chosen",function(c){c.keyCode===13&&o.keydown_checker(c)}),this.search_results.bind("mouseup.chosen",function(c){o.search_results_mouseup(c)}),this.search_results.bind("mouseover.chosen",function(c){o.search_results_mouseover(c)}),this.search_results.bind("mouseout.chosen",function(c){o.search_results_mouseout(c)}),this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",function(c){o.search_results_mousewheel(c)}),this.search_results.bind("touchstart.chosen",function(c){o.search_results_touchstart(c)}),this.search_results.bind("touchmove.chosen",function(c){o.search_results_touchmove(c)}),this.search_results.bind("touchend.chosen",function(c){o.search_results_touchend(c)}),this.form_field_jq.bind("chosen:updated.chosen",function(c){o.results_update_field(c)}),this.form_field_jq.bind("chosen:activate.chosen",function(c){o.activate_field(c)}),this.form_field_jq.bind("chosen:open.chosen",function(c){o.container_mousedown(c)}),this.form_field_jq.bind("chosen:close.chosen",function(c){o.input_blur(c)}),this.search_field.bind("blur.chosen",function(c){o.input_blur(c)}),this.search_field.bind("keyup.chosen",function(c){o.keyup_checker(c)}),this.search_field.bind("keydown.chosen",function(c){o.keydown_checker(c)}),this.search_field.bind("focus.chosen",function(c){o.input_focus(c)}),this.search_field.bind("cut.chosen",function(c){o.clipboard_event_checker(c)}),this.search_field.bind("paste.chosen",function(c){o.clipboard_event_checker(c)}),this.is_multiple?this.search_choices.bind("click.chosen",function(c){o.choices_click(c)}):this.container.bind("click.chosen",function(c){c.preventDefault()})},l.prototype.destroy=function(){return e(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},l.prototype.set_aria_labels=function(){var o,c,f,g,m;if(this.search_field.attr("aria-owns",this.search_results.attr("id")),this.form_field.attributes["aria-label"]){if(this.search_field.attr("aria-label",this.form_field.attributes["aria-label"]),this.form_field.attributes["aria-labelledby"])return this.search_field.attr("aria-labelledby",this.form_field.attributes["aria-labelledby"])}else if(Object.prototype.hasOwnProperty.call(this.form_field,"labels")&&this.form_field.labels.length){for(f="",m=this.form_field.labels,o=0,g=m.length;o<g;o++)c=m[o],c.id===""&&(c.id=""+this.form_field.id+"-chosen-label-"+o),f+=this.form_field.labels[o].id+" ";return this.search_field.attr("aria-labelledby",f)}},l.prototype.search_field_disabled=function(){if(this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled)return this.container.addClass("chosen-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus.chosen",this.activate_action),this.close_field();if(this.container.removeClass("chosen-disabled"),this.search_field[0].disabled=!1,!this.is_multiple)return this.selected_item.bind("focus.chosen",this.activate_action)},l.prototype.container_mousedown=function(o){if(!this.is_disabled&&(o&&o.type==="mousedown"&&!this.results_showing&&o.preventDefault(),!(o!=null&&e(o.target).hasClass("search-choice-close"))))return this.active_field?!this.is_multiple&&o&&(e(o.target)[0]===this.selected_item[0]||e(o.target).parents("a.chosen-single").length)&&(o.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),e(this.container[0].ownerDocument).bind("click.chosen",this.click_test_action),this.results_show()),this.activate_field()},l.prototype.container_mouseup=function(o){if(o.target.nodeName==="ABBR"&&!this.is_disabled)return this.results_reset(o)},l.prototype.search_results_mousewheel=function(o){var c;if(o.originalEvent&&(c=-o.originalEvent.wheelDelta||o.originalEvent.detail),c!=null)return o.preventDefault(),o.type==="DOMMouseScroll"&&(c=c*40),this.search_results.scrollTop(c+this.search_results.scrollTop())},l.prototype.blur_test=function(o){if(!this.active_field&&this.container.hasClass("chosen-container-active"))return this.close_field()},l.prototype.close_field=function(){return e(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.search_field.attr("aria-expanded",!1),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},l.prototype.activate_field=function(){return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.attr("aria-expanded",!0),this.search_results.attr("aria-busy",!1),this.search_field.focus()},l.prototype.test_active_click=function(o){var c;return c=e(o.target).closest(".chosen-container"),c.length&&this.container[0]===c[0]?this.active_field=!0:this.close_field()},l.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=r.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.search_field_scale(),this.parsing=!1},l.prototype.result_do_highlight=function(o){var c,f,g,m,y;if(o.length){if(this.result_clear_highlight(),this.result_highlight=o,this.result_highlight.addClass("highlighted"),this.search_field.attr("aria-activedescendant",this.result_highlight.attr("id")),g=parseInt(this.search_results.css("maxHeight"),10),y=this.search_results.scrollTop(),m=g+y,f=this.result_highlight.position().top+this.search_results.scrollTop(),c=f+this.result_highlight.outerHeight(),c>=m)return this.search_results.scrollTop(c-g>0?c-g:0);if(f<y)return this.search_results.scrollTop(f)}},l.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},l.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results(),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}))},l.prototype.update_results_content=function(o){return this.search_results.html(o)},l.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},l.prototype.set_tab_index=function(o){var c;if(this.form_field.tabIndex)return c=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=c},l.prototype.set_label_behavior=function(){var o=this;if(this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=e("label[for='"+this.form_field.id+"']")),this.form_field_label.length>0)return this.form_field_label.bind("click.chosen",function(c){return o.is_multiple?o.container_mousedown(c):o.activate_field()})},l.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},l.prototype.search_results_mouseup=function(o){var c;if(c=e(o.target).hasClass("active-result")?e(o.target):e(o.target).parents(".active-result").first(),c.length)return this.result_highlight=c,this.result_select(o),this.search_field.focus()},l.prototype.search_results_mouseover=function(o){var c;if(c=e(o.target).hasClass("active-result")?e(o.target):e(o.target).parents(".active-result").first(),c)return this.result_do_highlight(c)},l.prototype.search_results_mouseout=function(o){if(e(o.target).hasClass("active-result"))return this.result_clear_highlight()},l.prototype.choice_build=function(o){var c,f,g=this;return c=e("<li />",{class:"search-choice"}).html("<span>"+o.html+"</span>"),o.disabled?c.addClass("search-choice-disabled"):(f=e("<a />",{class:"search-choice-close","data-option-array-index":o.array_index}),f.bind("click.chosen",function(m){return g.choice_destroy_link_click(m)}),c.append(f)),this.search_container.before(c)},l.prototype.choice_destroy_link_click=function(o){if(o.preventDefault(),o.stopPropagation(),!this.is_disabled)return this.choice_destroy(e(o.target))},l.prototype.choice_destroy=function(o){if(this.result_deselect(o[0].getAttribute("data-option-array-index")))return this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&this.search_field.val().length<1&&this.results_hide(),o.parents("li").first().remove(),this.search_field_scale()},l.prototype.results_reset=function(){if(this.reset_single_select_options(),this.form_field.options[0].selected=!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field)return this.results_hide()},l.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},l.prototype.result_select=function(o){var c,f;if(this.result_highlight)return c=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?c.removeClass("active-result"):this.reset_single_select_options(),f=this.results_data[c[0].getAttribute("data-option-array-index")],f.selected=!0,this.form_field.options[f.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(f):this.single_set_selected_text(f.text),(o.metaKey||o.ctrlKey)&&this.is_multiple||this.results_hide(),this.search_field.val(""),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[f.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,this.search_field_scale())},l.prototype.single_set_selected_text=function(o){return o==null&&(o=this.default_text),o===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").text(o)},l.prototype.result_deselect=function(o){var c;return c=this.results_data[o],this.form_field.options[c.options_index].disabled?!1:(c.selected=!1,this.form_field.options[c.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[c.options_index].value}),this.search_field_scale(),!0)},l.prototype.single_deselect_control_build=function(){if(this.allow_single_deselect)return this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")},l.prototype.get_search_text=function(){return this.search_field.val()===this.default_text?"":e("<div/>").text(e.trim(this.search_field.val())).html()},l.prototype.winnow_results_set_highlight=function(){var o,c;if(c=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),o=!1,o!=null)return this.result_do_highlight(o)},l.prototype.no_results=function(o){var c,f=/\{\{SearchString\}\}/g,g=/\{\{SearchStringEncoded\}\}/g,m=this.results_none_found;return f.test(m)||g.test(m)?(m=m.replace(f,o.replace('"',"").replace("'","")),m=m.replace(g,encodeURIComponent(o.replace('"',"").replace("'","")))):m+=' "<span class="searchTerms">'+o+'</span>"',c=e('<li class="no-results">'+m+"</li>"),this.search_results.append(c),this.form_field_jq.trigger("chosen:no_results",{chosen:this})},l.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},l.prototype.keydown_arrow=function(){var o;if(this.results_showing){if(this.result_highlight?o=this.result_highlight.nextAll("li.active-result").first():o=this.search_results.find("li.active-result").first(),o)return this.result_do_highlight(o)}else return this.results_show()},l.prototype.keyup_arrow=function(){var o;if(!this.results_showing&&!this.is_multiple)return this.results_show();if(this.result_highlight)return o=this.result_highlight.prevAll("li.active-result"),o.length?this.result_do_highlight(o.first()):(this.choices_count()>0&&this.results_hide(),this.result_clear_highlight())},l.prototype.keydown_backstroke=function(){var o;if(this.pending_backstroke)return this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke();if(o=this.search_container.siblings("li.search-choice").last(),o.length&&!o.hasClass("search-choice-disabled"))return this.pending_backstroke=o,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")},l.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},l.prototype.keydown_checker=function(o){var c,f;switch(c=(f=o.which)!=null?f:o.keyCode,this.search_field_scale(),c!==8&&this.pending_backstroke&&this.clear_backstroke(),c){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.results_reset(),this.mouse_on_container=!1;break;case 13:o.preventDefault(),this.results_showing||this.container_mousedown(o);break;case 38:o.preventDefault(),this.keyup_arrow();break;case 40:o.preventDefault(),this.keydown_arrow();break}},l.prototype.search_field_scale=function(){var o,c,f,g,m,y,p,v,b;if(this.is_multiple){for(f=0,p=0,m="position:absolute; left: -1000px; top: -1000px; display:none;",y=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"],v=0,b=y.length;v<b;v++)g=y[v],m+=g+":"+this.search_field.css(g)+";";return o=e("<div />",{style:m}),o.text(this.search_field.val()),e("body").append(o),p=o.width()+25,o.remove(),c=this.container.outerWidth(),p>c-10&&(p=c-10),this.search_field.css({width:p+"px"})}},l}(t)}).call(Me)});(function(e){function t(r){var a=r;a.hasClass("cdc-expandPanel")||(a=e(".cdc-expandPanel",r)),a.hasClass("cdc-expandPanel")||(a=r.closest(".cdc-expandPanel")),a.hasClass("cdc-expandPanel")&&(a.prop("data-visible")||r[0].closeButton?(a.slideUp("fast",cdc.shp&&cdc.shp.setY?cdc.shp.setY:void 0),a.prop("data-visible",!1),a.removeClass("cdc-expandPanel-visible"),r[0].closeButton=!1):(a.addClass("cdc-expandPanel-visible"),a.slideDown("fast",cdc.shp&&cdc.shp.setY?cdc.shp.setY:void 0),a.prop("data-visible",!0)))}function s(r,a){r.addClass("cdc-expandPanel"),r.prop("data-visible",!1),r.hide();var d=e("<button value='Close panel' title='Close panel'><span></span><span></span></button>");d.addClass("close-button"),d.click(function(h){r[0].closeButton=!0,cdc.expandPanel(r,"toggle"),a&&a(r)}),r.prepend(d),r.on("keydown",function(h){key=h.keyCode,key==27&&d.click()}),d.on("keydown",function(h){key=h.keyCode,key==13&&d.click()})}cdc.expandPanel=function(r,a,d){if(a==="toggle")return r.each(function(){var h=e(this);t(h),d&&typeof d=="function"&&d()});if(r!=null)return r.each(function(){var h=e(this);return s(h,d)})}})(jQuery);cdc.util.ensureNamespace("cdc.rc.drawertab");cdc.rc.drawertab=new function(){var e,t="~tab-",s="drawertab-tab-",r="drawertab-drawer-",a="info-",d="#drawertab>dl .dtname>button",h="#drawertab>dl dd[id^="+a+"]",u="#drawertab>ul>li",l=u+">button",o=u+".active",c=h+".active",f,g,m,y,p,v,b=!1;this.isMyTabOpen=function(D){return D.indexOf(a)===0?D=D:D=jQuery(D).parents(h).attr("id"),jQuery("#"+D).hasClass("active")},this.getDrawerTabIdsFromContent=function(D){var N=jQuery(D).parents(h).attr("id").replace(a,""),O=[];return O.push(s+N),O.push(r+N),O},this.whatsMyBookmark=function(D){return jQuery(D).parents(h).attr("id").replace(a,t)},this.init=function(){if(document.getElementById("drawertab")){f=jQuery("#drawertab>dl"),g=jQuery(d),m=jQuery(h);var D=document.createElement("ul");jQuery(D).attr("role","tablist"),g.each(function(){var G=jQuery(this).parent().next().attr("id").substring(a.length);jQuery(this).attr("id",r+G),jQuery(D).append("<li role='presentation'><button role='tab' aria-selected='false' id='"+s+G+"'>"+jQuery(this).html()+"</button></li>"),jQuery(D).append("<li class='gap'></li>"),jQuery(this).wrapInner('<span class="btn_span">'),jQuery(this).prepend('<span class="arrow_span"></span>'),x()}),jQuery("#drawertab").prepend("<div id='drawertab-activetabbottom'></div>"),jQuery("#drawertab").prepend(D),y=jQuery(u).not(".gap"),p=jQuery(l),jQuery(p).length>0&&(v=p.eq(0).attr("id").replace(s,"")),p.on("click",E),g.on("click",Q),typeof window.addEventListener<"u"?window.addEventListener("hashchange",B):window.attachEvent("onhashchange",B);var N=P(),O=N||v,V=cdc.breakpoint.getScreenSize();cdc.breakpoint.breakpoints[V]>=S?(C(O),_()):N&&(jQuery("#"+s+O).addClass("active").find("button").attr("aria-selected","true"),jQuery("#"+r+O).addClass("active"),jQuery("#"+a+O).addClass("active"),k());var J=jQuery(p).length,Y;p.on("keyup",G=>{switch(G.keyCode){case 35:G.preventDefault(),E(p[J-1]);break;case 36:G.preventDefault(),E(p[0]);break;case 37:G.preventDefault(),p.each(function(te,ie){p[te].attributes["aria-selected"].value=="true"&&(Y=te)});let Z=Y-1;Z=Z>=0?Z:J-1,E(p[Z]),jQuery(p[Z]).click(),jQuery(p[Z]).parent().addClass("highlight"),p.each(te=>{jQuery(p[te]).parent().not(".active").removeClass("highlight")});break;case 39:G.preventDefault(),p.each(function(te,ie){p[te].attributes["aria-selected"].value=="true"&&(Y=te)});let se=Y+1;se=se<J?se:0,E(p[se]),jQuery(p[se]).click(),jQuery(p[se]).parent().addClass("highlight"),p.each(te=>{jQuery(p[te]).parent().not(".active").removeClass("highlight")});break;case 9:jQuery(p[0]).parent().hasClass("active")&&(E(p[0]),jQuery(p[0]).parent().addClass("highlight"));break;case 16:p.each(te=>{jQuery(p[te]).parent().hasClass("active")&&jQuery(p[te]).parent().addClass("highlight")});break}}),p.on("keydown",G=>{switch(G.keyCode){case 9:p.each(Z=>{jQuery(p[Z]).parent().removeClass("highlight")});break}})}},$(window).click(function(){p&&p.length&&p.each(D=>{jQuery(p[D]).parent().removeClass("highlight")})});function Q(D){var N=jQuery(this).parent().next();jQuery(this).toggleClass("active"),N.toggleClass("active"),N.hasClass("active")&&w(this)}function T(){p.each(function(D,N){N.tabIndex=-1})}function E(D){D.type=="click"&&(D=D.target),T(),D.tabIndex=0,$(D).focus();var N=R(D);C(N),w(D)}function R(D){return activeone=jQuery(D).eq(0).attr("id").replace(s,"")}function L(){var D=jQuery(c).eq(0),N;return D.attr("id")?N=D.attr("id").substring(t.length):N=v,N}function C(D){if(D!==void 0){var N=D.replace(/([ #;&,.+*~\':"!^$[\]()=>|\/@])/g,"\\$1");y.removeClass("active"),y.find("button").attr("aria-selected","false"),m.removeClass("active"),jQuery("#"+a+N).addClass("active"),jQuery("#"+s+N).parent("li").addClass("active"),jQuery("#"+s+N).attr("aria-selected","true"),y.not(".active").find("button").attr("aria-selected","false")}}function z(D){g.removeClass("active"),m.removeClass("active"),jQuery("#"+r+D).addClass("active"),jQuery("#"+a+D).addClass("active")}function I(){var D=jQuery(window.location.hash);if(!D.is(":visible")){var N=D.parents(h).attr("id").substring(a.length);C(N),g.eq(N).addClass("active")}b=!0,window.location.hash=window.location.hash}function M(){return window.location.hash.indexOf("~")<0}function P(){var D=window.location.hash,N,O=null;if(D.indexOf(t)!=-1){N=new RegExp(t+"[^~]+"),O=N.exec(D)[0].replace(t,a);var V=O.replace(/([ #;&,.+*~\':"!^$[\]()=>|\/@])/g,"\\$1");m.is("dd#"+V)?O=O.replace(a,""):O=null}return O}function w(D){var N=window.location.hash,O=P();D=jQuery(D).attr("id").replace(r,"").replace(s,"");var V=N.replace(t+O,"");V=V.indexOf("~")<0?"":V.replace("#",""),b=!0,window.location.hash="#"+V+t+D}var S=jQuery("#drawertab").parents(".row.full, .col.full").length>0?cdc.breakpoint.breakpoints.tall:cdc.breakpoint.breakpoints.medium,A=cdc.breakpoint.breakpoints.venti;cdc.breakpoint.onEnter(_,S),cdc.breakpoint.onExit(k,S);function _(){if(document.getElementById("drawertab")&&p.length>0){e="tabview",jQuery("#drawertab").removeClass("drawerview").addClass("tabview");var D=P();C(D||v),jQuery(p[0]).blur()}}function k(){if(document.getElementById("drawertab")){e="drawerview",jQuery("#drawertab").removeClass("tabview").addClass("drawerview"),x(),jQuery("#drawertab-activetabbottom").css("display","none");var D=L();z(D)}}function x(){var D=0;jQuery("#drawertab dl dt").each(function(N){var O=jQuery("#drawertab-drawer"+N).height()/2-jQuery("#drawertab-drawer"+N+" .arrow_span").outerHeight()/2+"px";jQuery("#drawertab-drawer"+N+" .arrow_span").css("margin-top",O)})}$(window).resize(function(){x()});function B(D){if(b)b=!1;else if(M())I();else{var N=P();N=N==!1?v:N,e=="tabview"?C(N):z(N)}}};cdc.rc.drawertab.init();typeof cdc>"u"&&(cdc={});cdc.simpleOverlay={$background:{},$container:{},$overlayContent:{},$closeButton:{},inited:!1,init:function(e){jQuery("body").prepend(`<div id="simpleOverlay-background"></div><div id="simpleOverlay-container" aria-label="${e}"><button class="close-button" aria-label="Close ${e}"><span></span><span></span></button><div id="simpleOverlay-content"></div></div>`),this.$background=jQuery("#simpleOverlay-background"),this.$container=jQuery("#simpleOverlay-container"),this.$overlayContent=jQuery("#simpleOverlay-content"),this.$closeButton=jQuery("#simpleOverlay-container .close-button"),this.$background.hide(),this.$container.hide(),this.$background.click(function(){cdc.simpleOverlay.close()}),this.$closeButton.click(function(){cdc.simpleOverlay.close()}),cdc.simpleOverlay.inited=!0},close:function(){this.$container.hide(),this.$background.hide()},toggle:function(e,t,s){cdc.simpleOverlay.inited&&(jQuery("#simpleOverlay-background").remove(),jQuery("#simpleOverlay-container").remove()),cdc.simpleOverlay.init(t);var r=jQuery("."+e+".simpleOverlay-content");jQuery("#simpleOverlay-container").on("keydown",function(a){a.keyCode===27&&(cdc.simpleOverlay.close(),jQuery("."+e+".simpleOverlay-trigger").focus())}),r.html()===this.$overlayContent.html()&&!this.$background.css("display","none")?cdc.simpleOverlay.close():(this.$overlayContent.html(r.html()),this.$background.show(),this.$container.show(),this.$container.attr("class",e),s&&typeof s=="function"&&s())},make:function(e,t="",s){jQuery("."+e).length>0&&jQuery("."+e+".simpleOverlay-trigger").on("click",function(){cdc.simpleOverlay.toggle(e,t,s)})}};cdc.util.ensureNamespace("cdc.widget");cdc.widget.backToTop=function(){var e={$scope:null,scope:null,$startScroll:null,hasDataSelector:null,button:{template:"<a href='#' class='backToTop-link'></a>",image:"<img class='preload' src='/etc/designs/cdc/fw/i/responsive/Default-bTop-36.svg' alt='Back to Top'>",innerHtml:"<span></span>",labelText:"Top",targetSelector:"body",$instance:null,instance:null,css:{sidePx:15,bottomPx:15}}};function t(){e.button.$instance=jQuery(e.button.template),e.button.instance=e.button.$instance[0],e.button.$instance.html(e.button.innerHtml+e.button.image),e.button.$instance.attr("title",e.button.labelText),e.button.$instance.attr("data-targetSelector",e.button.targetSelector),e.button.instance.style.position="absolute",e.button.instance.style.bottom=e.button.css.bottomPx+"px",jQuery("html").attr("dir")==="rtl"?e.button.instance.style.left=e.button.css.sidePx+"px":e.button.instance.style.right=e.button.css.sidePx+"px",e.$scope.css("position")==="static"&&e.$scope.css("position","relative"),e.$scope.append(e.button.$instance),e.button.$instance.on("click",function(){return r.smoothScroll(jQuery(e.button.targetSelector)),jQuery("#fw-c-header__button--search").focus(),!1})}function s(){jQuery(document).on("ready",function(){r.viewport.h()>e.scope.offsetHeight?e.button.instance.style.display="none":e.button.instance.style.display==="none"&&(e.button.instance.style.display="block")});var a=r.scrollTop(),d=a+r.viewport.h(),h=e.scope.getBoundingClientRect(),u;e.$startScroll?e.$startScroll.length>0&&(u=e.$startScroll[0].getBoundingClientRect().top+e.$startScroll[0].offsetHeight):u=h.top;var l=h.bottom-r.viewport.h();u<0&&l>0?(e.button.instance.style.position="fixed",jQuery("html").attr("dir")==="rtl"?(e.button.instance.style.right="auto",e.button.instance.style.left=h.left+e.button.instance.offsetWidth+e.button.css.sidePx+"px"):(e.button.instance.style.right="auto",e.button.instance.style.left=h.left+e.scope.offsetWidth-(e.button.instance.offsetWidth+e.button.css.sidePx)+"px")):(e.button.instance.style.position="absolute",jQuery("html").attr("dir")==="rtl"?(e.button.instance.style.left=e.button.css.sidePx+"px",e.button.instance.style.right="auto"):(e.button.instance.style.right=e.button.css.sidePx+"px",e.button.instance.style.left="auto"))}var r={fixFocus:function(a){var d="a[href], button",h=a.selector,u=jQuery(d,h)[0];u||(u=jQuery(d,"body")[0]),u.focus()},scrollTop:function(){var a=window.pageYOffset!==void 0?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop;return a},smoothScroll:function(a){$("html,body").animate({scrollTop:a.offset().top},1e3)},viewport:{h:function(){return window.innerHeight||document.documentElement.clientHeight||0}}};return{create:function(a,d,h){return typeof a<"u"&&a.length>0?(e.$scope=a,e.scope=a[0],e.$startScroll=d,h&&jQuery.extend(!0,e,h),e.hasDataSelector&&jQuery(e.hasDataSelector).length===0?null:(t(),jQuery(window).on("scroll",s),jQuery(window).on("resize",s),s(),this)):null},refresh:function(){return s(),this},destroy:function(){return jQuery(window).off("scroll",s),jQuery(window).off("resize",s),e.button.$instance.remove(),e.button.$instance=null,e.button.instance=null,this},initDialog:function(a,d,h,u,l,o,c,f,g,m,y){var p="btt_"+d,v;if(u==="default"||u===""){var b,Q;v=jQuery("#"+p),(a==="editdesign"||a==="publish")&&(v=v.parent());do v=v.parent(),b=v.attr("id")||"",Q=v.attr("class")||"";while(Q.indexOf("parsys")>-1||b.indexOf("cq-gen")===0)}else v=jQuery(l);var T;o==="default"||o===""?T=null:T=jQuery(c);var E;f==="default"||f===""?E="body":E=g;var R={button:{css:{}}};R.button.targetSelector=E,R.button.css.sidePx=m,R.button.css.bottomPx=y,R.button.labelText=h,new cdc.widget.backToTop().create(v,T,R)}}};jQuery(".collapsible-link-list h2").on("click",function(){jQuery(this).toggleClass("open")});cdc.rc.boundedSearch=new function(){var e,t,s,r,a,d,h,u,l,o,c,f,g,m,y,p,v=window.localStorage,b,Q,T,E,R,L,C;this.init=function(_,k,x){e=_.metricsPrefix,Q=_.appName?_.appName:"cdc_boundsearch_template",b=_.searchBoth?_.searchBoth:!1,t=document.querySelector(_.searchForm),s=_.searchField?document.querySelector(_.searchField):t.querySelector("input[type=text]"),a=_.searchButton?document.querySelector(_.searchButton):t.querySelector("button.submit"),t.addEventListener("submit",function(D){D.preventDefault(),cdc.rc.boundedSearch.submitSearch(k)}),d=_.searchClear?document.querySelector(_.searchClear):t.querySelector("button.clear"),this.checkClear=function(){me=cdc.rc.boundedSearch,s.value?d.style.display="block":d.style.display="none"},this.checkClear(),s.addEventListener("keyup",cdc.rc.boundedSearch.checkClear),s.addEventListener("change",cdc.rc.boundedSearch.checkClear),this.clearSearch=function(){var D=e+"_search",N=e+"_search_clear_kw";z(N,D),s.value="",s.focus(),d.style.display="none"},d.addEventListener("click",function(D){D.preventDefault(),cdc.rc.boundedSearch.clearSearch()}),h=document.querySelector(_.resultPanel),cdc.expandPanel(jQuery(h),"make"),h.querySelector(".close-button").addEventListener("click",B),u=_.resultTitle?document.querySelector(_.resultTitle):h.querySelector(".title"),o=_.resultList?document.querySelector(_.resultList):h.querySelector(".results"),c=_.resultSpinner?document.querySelector(_.resultSpinner):h.querySelector(".spinner"),g=_.extraClose?document.querySelector(_.extraClose):h.querySelector(".extra-close"),g.addEventListener("click",function(){cdc.expandPanel(jQuery(h),"toggle"),cdc.rc.boundedSearch.clearSearch(),B("_search_closeresults")}),h.querySelector(".close-button").addEventListener("click",function(){cdc.rc.boundedSearch.clearSearch()}),f=_.loadMore?document.querySelector(_.loadMore):h.querySelector(".load-more"),f.addEventListener("click",this.loadMore),C=k.maxResults?k.maxResults:50,b&&(m=_.enResultLink?document.querySelector(_.enResultLink):h.querySelector(".enResults"),y=_.locResultLink?document.querySelector(_.locResultLink):h.querySelector(".locResults"),m.addEventListener("click",function(){cdc.rc.boundedSearch.displayAlternateResults("english")}),y.addEventListener("click",function(){cdc.rc.boundedSearch.displayAlternateResults("local")}),l=_.resultAltTitle?document.querySelector(_.resultAltTitle):h.querySelector(".resultAltTitle"),m.style.display="none",y.style.display="none");function B(D){var N=e+"_search",O=D.length?D:"_search_closex";lid=e+O,z(lid,N)}if(R=x&&x.error?x.error:w,T=x&&x.results?x.results:P,E=x&&x.noResults?x.noResults:S,p=M(),p&&p.results){let D=p.results;!b||p.altAvail==="solo"?cdc.rc.boundedSearch.showWhichExtras("solo"):b&&p.altAvail==="local"?(D=p.resultsAlt,cdc.rc.boundedSearch.showWhichExtras("english")):p.altAvail==="english"?cdc.rc.boundedSearch.showWhichExtras("local"):p.altAvail==="englishonly"&&(D=p.results,cdc.rc.boundedSearch.showWhichExtras("englishonly")),s.value=p.searchstr,cdc.rc.boundedSearch.checkClear(),c.style.display="none",startIndex=p.shown,cdc.expandPanel(jQuery(h),"toggle"),T(D,p.numToShow+p.shown,0),A(p.results.hits.total.value>p.numToShow+p.shown&&C>p.numToShow+p.shown)}},this.showWhichExtras=function(_){_==="local"?(y.style.display="none",m.style.display="block",u.innerHTML=cdc.rc.bsearch.msgs.resultTitle,u.style.display="block"):_==="english"?(m.style.display="none",y.style.display="block",u.innerHTML=cdc.rc.bsearch.msgs.resultTitle,u.style.display="block"):_==="englishonly"?(m.style.display="none",y.style.display="none",u.innerHTML=cdc.rc.bsearch.msgs.altTitle,u.style.display="block"):_==="solo"?(m&&m.style&&(m.style.display="none"),y&&y.style&&(y.style.display="none"),u.innerHTML=cdc.rc.bsearch.msgs.resultTitle,u.style.display="block"):(m&&m.style&&(m.style.display="none"),y&&y.style&&(y.style.display="none"),u.style.display="none")},this.submitSearch=function(_){var k=/[\+\-\=\&\|\!"'\(\)\{\}\[\]\/?\\]/gim,x=/[<>]/gim;r=s.value.replace(k,"\\$&").replace(x,"").trim();var B=cdc.util.findEnvironment(),D=B=="dev"||B=="stage"?"crs-stage":"crs",N=cdc.sso.isAuthenticated()?"psn":"pub",O="https://"+D+".cloudapps.cisco.com/support/cwsx/crs/"+N+"/bsps",V={},J=_.appName?_.appName:"cdc_boundsearch_template",Y=_.filterQuery?_.filterQuery:"",G=_.maxResults?_.maxResults:50,Z=_.timeout?_.timeout:2e4,se=_.query?_.query:r,te=_.startIndex?_.startIndex:0,ie=_.numToShow?_.numToShow:10,ce=cdc.util.locale.getLocale(location.href).getLanguage,ae=cdc.util.locale.getLocale(location.href).getCountry,ue,he,q,W;if(se.length<1)return;h.style.display=="none"&&cdc.expandPanel(jQuery(h),"toggle"),L=setTimeout(+w,Z),u.style.display="none",o.style.display="none",g.style.display="none",f.style.display="none",m&&m.style&&(m.style.display="none"),y&&y.style&&(y.style.display="none"),c.style.display="block";function F(re,U,X){return jQuery.ajax({contentType:"text/plain",dataType:"json",url:O,opaqueId:Date.now(),sessionId:"",type:"POST",data:re,headers:U})}function ne(re){E(re),A(!1);var U=e+"_search",X=e+"_search_zeroresults";p.results&&p.results.hits.total.value&&(p.results.hits.total.value=0),p.searchstr=r,z(X,U),M(!0)}function H(re){R(re),A(!1),M(!0)}function K(re,U,X,oe){var le=U+X;T(re,U,X),A(re.hits.total.value>le&&G>le),p.searchstr=r,p.startTime=Date.now(),p.shown=X,p.numToShow=U,p.mypageurl=window.location.href,p.altAvail==="english"&&oe&&(p.resultsAlt=oe),p.results=re,I(p);var pe=e+"_search",ge=e+"_search_kw";z(ge,pe)}function ee(re,U){re[0].hits.total.value>0?(U[0].hits.total.value>0?(p.altAvail="english",cdc.rc.boundedSearch.showWhichExtras("local")):(p.altAvail="solo",cdc.rc.boundedSearch.showWhichExtras("solo")),K(re[0],ie,te,U[0])):U[0].hits.total.value>0?(p.altAvail="englishonly",cdc.rc.boundedSearch.showWhichExtras("englishonly"),K(U[0],ie,te)):(cdc.rc.boundedSearch.showWhichExtras("none"),p.altAvail="none",ne(re))}se.length>0&&(ue=JSON.stringify({id:J,params:{queryString:se,size:G,from:te,country:ae,language:ce,filters:Y}}),cdc.sso.hasAuthHeader().then(function(re){re&&(V.Authorization=re),q=F(ue,V),b&&ce!=="en"?(he=JSON.stringify({id:J,params:{queryString:se,size:G,from:te,country:"US",language:"en",filters:Y}}),W=F(he,V),jQuery.when(q,W).done(function(U,X){ee(U,X)}),jQuery.when(q,W).fail(function(U,X){H(U,X)})):(q.done(function(U){U&&U.hits.total.value>0?(K(U,ie,te),p.altAvail="solo",cdc.rc.boundedSearch.showWhichExtras("solo")):(ne(U),p.altAvail="none",cdc.rc.boundedSearch.showWhichExtras("none"))}),q.fail(function(U){H(U)}))}).catch(function(re){q=F(ue,V),b&&ce!=="en"?(he=JSON.stringify({id:J,params:{queryString:se,size:G,from:te,country:"US",language:"en",filters:Y}}),W=F(he,V),jQuery.when(q,W).done(function(U,X){ee(U,X)}),jQuery.when(q,W).fail(function(U,X){re(U,X)})):(q.done(function(U){U&&U.hits.total.value>0?(K(U,ie,te),p.altAvail="solo",cdc.rc.boundedSearch.showWhichExtras("solo")):(ne(U),p.altAvail="none",cdc.rc.boundedSearch.showWhichExtras("none"))}),q.fail(function(U){re(U)}))}))},this.loadMore=function(){var _=p.altAvail==="local"?p.resultsAlt:p.results,k=p.shown+p.numToShow,x=p.numToShow+k,B=Object.keys(_.hits.hits).length;T(_,x,0),x>=B&&(f.style.display="none"),p.shown=k,I(p);var D=e+"_search",N=e+"_search_loadmore";z(N,D)},this.displayAlternateResults=function(){var _,k=e+"_search";p.altAvail==="english"?(_=e+"_search_viewenglish",p.altAvail="local",p.shown=0,T(p.resultsAlt,p.numToShow,0),A(p.numToShow<C&&p.numToShow<p.resultsAlt.hits.total.value),y.style.display="block",m.style.display="none"):(_=e+"_search_viewlocal",p.altAvail="english",p.shown=0,T(p.results,p.numToShow,0),A(C>p.numToShow&&p.results.hits.total.value>p.numToShow),m.style.display="block",y.style.display="none"),jQuery("a",o)[0].focus(),I(p),z(_,k)};function z(_,k,x){dataObj={lid:_,lpos:k,KeyW:p.searchstr,numrslts:p.results&&p.results.hits.total.value?p.results.hits.total.value:0,linktext:p.searchstr,link:window.location.href},x?trackEvent.event("link",{ntpagetag:dataObj},x):trackEvent.event("link",{ntpagetag:dataObj})}function I(_){var k=JSON.parse(v.getItem("storedBSresults"))||[],x;if(k.length){let B=!1;for(let D=0;D<k.length;D++)x=k[D],x.mypageurl==window.location.href&&(k[D]=_,B=!0);B||(k[k.length]=_)}else k[0]=_;v.setItem("storedBSresults",JSON.stringify(k))}function M(_){var k=JSON.parse(v.getItem("storedBSresults")),x={},B;if(k){for(let D=0;D<k.length;D++)B=k[D],Date.now()-B.startTime>6e5?k.splice(D,1):B.mypageurl==window.location.href&&(_?k.splice(D,1):x=B);k.length?v.setItem("storedBSresults",JSON.stringify(k)):v.removeItem("storedBSresults")}return x}this.shortDesc=function(_,k){var x=k,B=new RegExp("<b>","g"),D=new RegExp("</b>","g"),N,O,V=new RegExp("<","g"),J=new RegExp(">","g"),Y,G;return k.length>_&&(x=k.substring(0,_-1)),Y=(x.match(V)||[]).length,G=(x.match(J)||[]).length,N=(x.match(B)||[]).length,O=(x.match(D)||[]).length,Y>G&&(x=x.substring(0,x.lastIndexOf("<"))),N>O&&(x=x+"</b>"),x+"..."};function P(_,k,x){var B="<ul>",D=_.hits.total.value>x+k?k:_.hits.total.value,N=cdc.rc.boundedSearch,O=p.altAvail==="local"||p.altAvail==="englishonly"?"en":cdc.util.locale.getLocale(location.href).getLanguage;for(let V=x;V<D;V++){let J=_.hits.hits[V]._source?_.hits.hits[V]._source:{},Y=_.hits.hits[V].highlight?_.hits.hits[V].highlight:"",G=Y["description."+O]?Y["description."+O]:Y["content."+O],Z="",se=J.filetype.toLowerCase()!="html"?" ("+J.filetype+")":"";G&&G.length>0&&G.forEach(ae=>Z+=ae);let te=Z.length>270?N.shortDesc(270,Z):Z,ie=Z.length>130?N.shortDesc(130,Z):Z,ce=new Date(J.date).toLocaleDateString();te.lastIndexOf("</em>")<te.lastIndexOf("<em>")&&(te+="</em>"),ie.lastIndexOf("</em>")<ie.lastIndexOf("<em>")&&(ie+="</em>"),B+='<li><a class="list-title" href="'+J.url+'">'+Y["title."+O]+' <span class="filetype">'+se+'</span></a><span class="desktop-description">'+te+'</span><span class="mobile-description">'+ie+'</span><span class="date">'+ce+"</span></li>"}B+="</ul>",o.innerHTML=B}function w(){o.innerHTML=cdc.rc.bsearch.msgs.techError}function S(){o.innerHTML=cdc.rc.bsearch.msgs.noResultMsg.replace("searchstring",r)}function A(_){if(L&&clearTimeout(L),c.style.display="none",o.style.display="block",g.style.display="block",f.style.display=_?"block":"none",o.querySelector("a")){let k=o.querySelectorAll("a"),x;for(x=0;x<k.length;x++)k[x].addEventListener("mousedown",function(B){lpos=e+"_search",lid=e+"_search_clickthrough",z(lid,lpos)})}}};cdc.util.ensureNamespace("cdc.rc.subtabs");cdc.rc.subtabs.tabSelection=function(){jQuery("#subtab2").parent().addClass("chosen"),jQuery("#stc2").addClass("show"),jQuery("#subtab0").parent().removeClass("chosen"),jQuery("#subtab1").parent().removeClass("chosen"),jQuery("#stc0").removeClass("show"),jQuery("#stc1").removeClass("show")};cdc.rc.subtabs.update=function(e){var t=!1,s,r;for(let a=0;a<=3;a++){let d=jQuery("#subtab"+a),h=jQuery("#stc"+a);jQuery("li",h).length&&(d.parent("li").addClass("show"),t?jQuery(".vavlistitems-show.actuallink").length?cdc.rc.subtabs.tabSelection():(d.parent("li").removeClass("chosen"),h.removeClass("show")):(d.parent("li").addClass("chosen"),h.addClass("show"),jQuery("#subtabs > button .label").text(d.text()),t=!0))}s=jQuery("#subtabs ul[role=tablist] li.show"),r=s.length,jQuery("#subtabs [role=tabpanel] h3,#subtabs [role=tabpanel] h4").hide(),r>1?(jQuery("#subtabs [role=tabpanel].show h3").hide(),jQuery("#subtabs ul[role=tablist]").show(),jQuery("#subtabs > button").addClass("show")):r&&(jQuery("#subtabs [role=tabpanel].show h3").show(),jQuery("#subtabs ul[role=tablist]").hide(),jQuery("#subtabs > button").removeClass("show"))};document.getElementById("subtabs")&&(cdc.rc.subtabs.update("init"),jQuery("#subtabs > button").on("click",function(){jQuery("#subtabs ul[role=tablist]").toggleClass("open"),jQuery("#subtabs >button .caret").toggleClass("open")}),jQuery("#subtabs ul[role=tablist]").on("click",function(e){var t=e.target.id;if(jQuery("#subtabs ul[role=tablist]").removeClass("open"),t.indexOf("subtab")==0){jQuery("#subtabs ul[role=tablist] li").removeClass("chosen"),jQuery("#subtabs div[role=tabpanel]").removeClass("show");let s=jQuery("#"+t),r=t.replace("subtab",""),a=jQuery("#stc"+r);s.parent("li").addClass("chosen"),a.addClass("show"),jQuery("#subtabs > button .label").text(s.text())}}),jQuery("#subtabs ul[role=tablist]").on("keydown",function(e){function t(h){let u=a.length-1;h<0&&(h=u),h>u&&(h=0),a[d].classList.remove("chosen"),a[h].classList.add("chosen"),a[h].querySelector("button").focus(),a[h].querySelector("button").click()}let s=e.keyCode,r=e.target.parentElement,a=document.querySelectorAll("#subtabs ul[role=tablist] li.show"),d=0;for(;a[d]&&r!=a[d];)d++;if(s==39||s==40){let h=d+1;t(h)}else if(s==38||s==37){let h=d-1;t(h)}}),jQuery("#subtabs [role=tabpanel]").on("keydown",function(e){e.keyCode==27&&document.querySelector("#subtabs ul[role=tablist] .chosen button").focus()}));jQuery(document).ready(function(){if(jQuery("#dataHeroProduct").length>0){let y=function(){s.css("min-height",r.height()+"px").css("max-height",r.height()+"px");var v=20,b=d.outerHeight()+h.outerHeight()+v;u.css("min-height",b+"px").css("max-height",b+"px")},p=function(){e&&y(),a.css("right",(s.width()-r.width())/2+l+"px"),a.css("bottom",(s.height()-r.height())/2+l+"px")};var g=y,m=p,e=!0,t=jQuery(window),s=jQuery(".dataHero .heroImage"),r=jQuery(".dataHero .theImage"),a=jQuery(".dataHero .expandImage");if(e)var d=jQuery(".dataHero .heroMeta > ul"),h=jQuery(".dataHero .heroMeta > a"),u=jQuery(".dataHero .heroMeta");var l=10,o=cdc_widget_imageViewer_data[cdc_widget_heroProductData_viewerId];o&&o.length>0&&(o=o[0].src,r.attr("src",o));var c=cdc.util.debounce(p,150);if(t.on("resize",c),t.on("orientationchange",p),r.length===1){var f=r[0];f.addEventListener("load",p),f.complete?p():f.addEventListener("load",p)}}});jQuery("body.cdc-eot-toc, body.cdc-ic-ebook").length&&jQuery.getScript("/etc/designs/cdc/fw/lib/xregexp/xregexp-all.js");cdc=cdc||{};cdc.rc=cdc.rc?cdc.rc:{};cdc.rc.eotTocSearch=cdc.rc.eotSearch?cdc.rc.eotTocSearch:{};jQuery(document).ready(function(){var e=!!jQuery("main .expandable").length;jQuery("#navWrapper").length>0&&(cdc.rc.eotTocSearch.search=new function(){var t=jQuery("#navWrapper"),s=jQuery("#eotListWrapper"),r=jQuery("#tocSearch"),a=jQuery('<div id="eot-toc-search"></div>').appendTo(t),d=jQuery('<button class= "toc-search-button"><img src="/content/dam/eotToc/search-white_28x28.png" alt="Open Search"></button>').appendTo(a),h=jQuery('<button class="close-search"><img src="/content/dam/eotToc/close_11x11.png" alt="Close Search"></button>').appendTo(r),u=jQuery("<div class='page-search-field'></div>").appendTo(r),l=jQuery('<input type="text" class="page-search-fld" data-config-metrics-group="EOT TOC Search" placeholder="'+cdc.rc.innerSearch.hintText+'" autocomplete="off" ></div>').appendTo(u),o=jQuery('<button class="page-clear-search"></button>').appendTo(u).hide(),c=jQuery("<div class='page-search-btn-navs'></div>").appendTo(r),f=jQuery("<div class='page-search-matches'></div>").appendTo(c),g=jQuery('<button class="page-search-upBtn"><span></span></button>').appendTo(c).hide(),m=jQuery('<button class="page-search-downBtn"><span></span></button>').appendTo(c).hide(),y="#eot-doc-wrapper",p="eotSearchMark",v=0,b=0,Q="true";jQuery(".cdc-ic-ebook blockquote main").length>0&&(y=".cdc-ic-ebook blockquote main");function T(z,I){var M=new XRegExp("[^\\pL0-9]","gimu"),P="(?:[^\\pL0-9><]+?)*(?:<[^>]+?>[^\\pL0-9><]*?)*",w=I.replace(/>/g,"gttag").replace(/</g,"lttag");for(w=w.replace(M,P),w.indexOf(P)===0&&(w=w.substr(P.length));w.lastIndexOf(".")===w.length-1;)w=w.substr(0,w.length-1);w=w.replace("gttag","&gt;").replace("lttag","&lt;"),w=w.indexOf(P)===0?w.replace(P,""):w;var S=new XRegExp("(^.*?>[^<]*?"+w+"[^<]*?)("+w+")","gim"),A=new XRegExp("(.*?>[^<]*?)("+w+")","gim");function _(B,D,N){var O=/(<[^>]+>\s*)+/gm,V;return N.match(O)&&(V=N.match(O)[0],V.indexOf("</")===0&&(N=N.replace(O,"</span>"+V+"<span class="+p+">"))),D.match(/ primary">$/)?B:D+'<span class="'+p+' primary">'+N+"</span>"}for(var k=jQuery(z).html(),x="";x!=k;)x!==""&&(k=x),x=k.replace(S,_);x="",x=k.replace(A,_),jQuery(z).html(x),e&&(jQuery("article",jQuery(".expandable")).each(function(){jQuery("."+p,this).length&&(jQuery(this).hasClass("open")||jQuery(this).addClass("forsearch"),jQuery(this).addClass("open"))}),cdc.rc.icebook.initExpands())}function E(){for(var z=jQuery("."+p);z.length>0;)z.each(function(){var I='<span class="'+p+'">',M="</span>";this.outerHTML=this.innerHTML}),z=jQuery(y+" ."+p);jQuery(".open.forsearch").removeClass("open").removeClass("forsearch")}var R=function(){var z=0;return function(I,M){clearTimeout(z),z=setTimeout(I,M)}}();function L(){R(function(){var z=jQuery(l);if(jQuery("."+p).length>0&&E(),z.val().length<=1&&z.val(z.val().replace(/(^\s*)|(\s*$)/gi,"")),z.val()!="")if(z.val().length>2){let I=z.val().replace(/([<>*+()?])/g,"\\$1");RegExp(I,"gim").test(jQuery(y).text())&&T(y,I),jQuery(o).show()}else jQuery(o).trigger("click",["noclear"]);else jQuery(o).trigger("click",["clear"]);jQuery("."+p).length>0?(v=jQuery("."+p).length,b=0,jQuery(c).show(),C("down"),jQuery("."+p).length>1&&(jQuery(g).show(),jQuery(m).show())):z.val()!=""?(z.val().length>2&&jQuery(f).text("No entries found."),jQuery(o).show(),jQuery(g).hide(),jQuery(m).hide()):jQuery(o).trigger("click",["clear"])})}jQuery(d).hover(function(){$(this).find("img").attr("src","/content/dam/eotToc/search-hover_28x28.png")},function(){$(this).find("img").attr("src","/content/dam/eotToc/search-white_28x28.png")}),jQuery(h).hover(function(){$(this).find("img").attr("src","/content/dam/eotToc/close-hover_11x11.png")},function(){$(this).find("img").attr("src","/content/dam/eotToc/close_11x11.png")}),jQuery(l).on("keydown",function(z){z.keyCode!==9&&(z.keyCode===13&&L(),setTimeout(function(){jQuery(l).val().length>0?jQuery(o).show():jQuery(o).trigger("click",["clear"])},1))}),jQuery(".page-search").on("click",function(){L()}),jQuery(d).on("click",function(){$(s).css("display")==="block"?Q=!0:Q=!1,$(r).show(),jQuery(l).focus(),$(t).hide(),$(s).hide()}),jQuery(h).on("click",function(){E(),jQuery(o).trigger("click",["clear"]),$(r).hide(),$(t).show(),Q?$(s).show():$(s).hide()}),jQuery(o).on("click",function(z,I){isSearchClicked=!1,E(),jQuery(l).focus(),jQuery(g).hide(),jQuery(m).hide(),v=0,b=0,jQuery(f).text(""),I!="noclear"&&(jQuery(this).hide(),jQuery(l).val(""),jQuery(r).removeClass("fixed"))}),jQuery(g).on("click",function(){b===1?$(this).prop("disabled",!0):C("up"),$(this).prop("disabled",!1)}),jQuery(m).on("click",function(){b===v?$(this).prop("disabled",!0):C("down"),$(this).prop("disabled",!1)});function C(z){isSearchClicked=!0,$list=jQuery("."+p),z=="up"?(b--,b<=0&&(b=$list.length)):(b++,b>$list.length&&(b=1)),jQuery(f).text(b+"/"+v),$list.removeClass("eotSearchFocus"),$list[b-1].classList.add("eotSearchFocus"),jQuery("html,body").animate({scrollTop:jQuery($list[b-1]).offset().top-100+"px"},100)}})});(function(){if(jQuery(".support-birth-cert").length>0){let h=function(){var u=jQuery(".support-birth-cert .image-wrapper"),l=u.find("img");if(!(l.length<=0)){var o=jQuery(".support-birth-cert .image-wrapper .zoom-it");if(cdc.birthcertificate.obj.isZoomed=!l.hasClass("birth-cert-image"),cdc.birthcertificate.obj.isZoomed){l.addClass("birth-cert-image").css({marginLeft:0,marginTop:0}),o.removeClass("is-zoomed").css({left:"50%",marginLeft:l.width()/2-o.width()+"px"});return}l.removeClass("birth-cert-image");var c=l.width(),f=l.height(),g=(u.width()-c)/2,m=(u.height()-f)/2;l.css({marginLeft:g+"px",marginTop:m+"px"}),o.addClass("is-zoomed").css({marginLeft:"0",left:"auto",right:"0"}),l[0].ondragstart=function(){return!1};var y=function(){var v=!1,b=0,Q=0,T=0,E=0,R,L,C,z;this.mouseDown=function(I){var M=e(I);v=!0,b=M.clientX,Q=M.clientY,T=parseInt(l.css("marginLeft")),E=parseInt(l.css("marginTop")),R=Math.min(u.width()-l.width(),0),L=Math.max(u.width()-l.width(),0),C=Math.min(u.height()-l.height(),0),z=Math.max(u.height()-l.height(),0)},this.mouseMove=function(I){if(v&&!cdc.birthcertificate.obj.isZoomed){var M=e(I),P=M.clientX-b,w=M.clientY-Q,S=P+T;S=Math.max(Math.min(S,L),R);var A=w+E;A=Math.max(Math.min(A,z),C);var _={marginLeft:S+"px",marginTop:A+"px"};l.css(_),I.preventDefault()}},this.mouseUp=function(){v=!1}},p=new y;l.on("touchstart mousedown",p.mouseDown),jQuery(document.body).on("touchmove mousemove",p.mouseMove).on("touchend mouseup",p.mouseUp)}};var d=h;cdc.birthcertificate={obj:{},ui:{ridesDataClick:function(u){var l=jQuery(".rides-data");cdc.expandPanel(l,"toggle"),jQuery(".view-rides-data-link").toggleClass("active")},ridesDataCloseClick:function(u){var l=jQuery(".rides-data .close-button");jQuery(".view-rides-data-link").removeClass("active")},viewPIDsClick:function(u){var l=jQuery(".pid-list");cdc.expandPanel(l,"toggle"),$(this).toggleClass("panel-open"),$(this).toggleClass("panel-close")},closeClick:function(u){$(this).parents("tr").prev().find("button.panel-close").toggleClass("panel-open").toggleClass("panel-close")}},init:function(){cdc.birthcertificate.obj.$birthCert=jQuery(".support-birth-cert"),jQuery(".birth-cert-table").on("click",".view-rides-data-link",cdc.birthcertificate.ui.ridesDataClick),jQuery(".birth-cert-table").on("click",".rides-data .close-button",cdc.birthcertificate.ui.ridesDataCloseClick),jQuery(".birth-cert-table").on("click",".view-pid-list-link",cdc.birthcertificate.ui.viewPIDsClick),jQuery(".birth-cert-table").on("click","button.close-button",cdc.birthcertificate.ui.closeClick);var u=jQuery(".pid-list");cdc.expandPanel(u,"make");var l=jQuery(".rides-data");cdc.expandPanel(l,"make");var o=jQuery(".support-birth-cert .data-wrapper .compatibility-list");cdc.expandPanel(o,"make"),jQuery(".support-birth-cert .data-wrapper .view-compatible").on("click",function(){cdc.expandPanel(o,"toggle"),$(this).toggleClass("panel-open"),$(this).toggleClass("panel-close")}),jQuery(".no-image").css("margin-top",jQuery(".data-wrapper").height()/2),cdc.rc.isModelOnly==!1&&jQuery("ul li a#End-of-LifeandEnd-of-SaleNotices","#actual-document-listings").length&&jQuery(document).find(".eol-notice-link").attr("href","#End-of-LifeandEnd-of-SaleNotices"),jQuery(document).ready(function(){document.getElementById("smptranslations")&&cdc.translationSelector().create()})}},cdc.birthcertificate.init();var e=function(u){return u.originalEvent.targetTouches?u.originalEvent.targetTouches[0]:u},t=jQuery(".birth-cert-image"),s=jQuery(".support-birth-cert .image-wrapper");if(t.attr("data-is_large_image")=="true"){var r=jQuery('<button class="zoom-it"></button>');s.append(r),r.css({left:"50%",marginLeft:t.width()/2-r.width()+"px"}).on("click",h)}var a=cdc.breakpoint.getScreenSize();(a==="short"||a==="xsmall")&&navigator.appVersion.indexOf("Safari")>-1&&navigator.appVersion.indexOf("Chrome")===-1&&s.width(s.parent().width()),t.on("touchstart mousedown",function(u){var l=u&&u.originalEvent&&u.originalEvent.touches&&u.originalEvent.touches.length||0;if(l<=1){var o=new Date().getTime(),c=$(this).data("lastTouch")||o+1,f=o-c;if(f<300&&f>0){h(),u.preventDefault();var g=cdc.birthcertificate.obj.isZoomed?"model_birth_certificate_pict_smaller_pict_click":"model_birth_certificate_pict_larger_pict_click";cdc.ut.trackEvent.event("link",{ntpagetag:{lid:g,lpos:"model_birth_certificate"}})}$(this).data("lastTouch",o)}})}})();cdc.util.ensureNamespace("cdc.rc.communitylisting");jQuery("#community").length>0&&jQuery("#communitylisting-results h2>button").length>0&&(cdc.rc.communitylisting=new function(){var e={docs:!0,video:!0,blogpost:!0,latest:!0},t=2e3,s=1e4,r,a;this.getCommunityData=function(u){var l=u.parents("div").eq(0),o=l.attr("class").replace("communitylisting-","");e[o]&&(h(o),e[o]=!1)};function d(){if(jQuery("#communitylisting-results h2>button").each(function(){jQuery(this).on("click",function(){var o=jQuery(this);cdc.rc.communitylisting.getCommunityData(o)})}),jQuery("#community").parents("#drawertab").length>0)for(var u=cdc.rc.drawertab.getDrawerTabIdsFromContent(jQuery("#community")),l=0;l<u.length;l++)jQuery("#"+u[l]).on("click",function(){e.docs&&cdc.rc.communitylisting.getCommunityData(jQuery("#communitylisting-results h2>button").eq(0))})}function h(u){var l,o,c,f=cdc.util.findEnvironment(),g={},m=cdc.cookie.getCookie("CP_GUTC");f=!f||f=="unknown"||f=="prod"?"":"-stage",window.location.href.indexOf("-pstage.cisco")>-1&&(f="-pstage"),u==="latest"?(l=[""],o=["csclastmodified:DESC"]):(o=[".score:DESC"],u==="video"?l=['AND(isvideos:EQUALS("true"))']:u==="blogs"?l=['AND(csctype:EQUALS("blog"))']:u==="disc"?l=['AND(csctype:EQUALS("board"))']:u==="docs"&&(l=['AND(csctype:EQUALS("tkb"))'])),g.appId=!f||f=="unknown"||f=="prod"?"35e38d41fc":"7763c3302d",g.query=cdc.rc.model_name,g.hits="11",g.queryLanguage="SIMPLE",g.offset=["0"],g.sort=o,g.securityRealmId=["cisco"],g.securityPrincipalId=["polydor"],g.securityPrincipalName=["polydor"],g.websessionId=[m],g.filterQuery=l;var y="https://xesps"+f+".cloudapps.cisco.com/esps/search/v1/query.json",p='<div><div class="spinner"><img src="/etc/designs/cdc/fw/i/spinner.gif" alt="..." />Loading Content...</div></div>',v=!1;jQuery.ajax({url:y,type:"POST",beforeSend:function(C){v=!1,r=setTimeout(b,t),a=setTimeout(E,s),C.setRequestHeader("Content-type","text/plain;charset=utf-8")},dataType:"json",data:JSON.stringify(g),success:T,error:E});function b(){v||(jQuery(".communitylisting-"+u).append(p),jQuery(".communitylisting-"+u+" .spinner").show())}function Q(){v=!0,jQuery(".spinner").hide()}function T(C){jQuery(".communitylisting-"+u+" .nocontent").hide(),jQuery(".communitylisting-"+u+" .techerror").hide(),L(C),v=!0,Q()}function E(){v=!0,Q(),clearTimeout(r),clearTimeout(a),jQuery(".communitylisting-"+u+" .nocontent").hide();let C=cdc.rc.models.communitymsgs.techError.replace("$URL",cdc.rc.models.communitymsgs.communityHome);jQuery(".communitylisting-"+u+" h2").after('<div class="techerror open">'+C+"</div>")}function R(){v=!0,Q(),clearTimeout(r),clearTimeout(a);let C=cdc.rc.models.communitymsgs.noResults.replace("$URL",cdc.rc.models.communitymsgs.communityHome);communityContent='<div class="nocontent open">'+C+"</div>",jQuery(".communitylisting-"+u).append(communityContent)}function L(C){clearTimeout(r),clearTimeout(a),jQuery(".communitylisting-"+u+" .nocontent").hide();function z(N){var O=" day ago",V=" days ago",J=864e5,Y=" week ago",G=" weeks ago",Z=J*7,se=" month ago",te=" months ago",ie=J*30,ce=" year ago",ae=" years ago",ue=J*365,he=new Date,q=new Date(N),W,F;return W=Math.floor((he-q)/ue),W>0?F=W>1?ae:ce:(W=Math.floor((he-q)/ie),W>0?F=W>1?te:se:(W=Math.floor((he-q)/Z),W>0?F=W>1?G:Y:(W=Math.floor((he-q)/J),F=W>1?V:O,W==0&&(W="&lt;1")))),W+F}var I=jQuery("#jstemplatedata").html(),M,P='<ul class="open">',w="</ul>",S="";if(C.documents!=null&&C.documents.length>0){let N=function(O){if(O.created_in=z(O.csccreateddate[0].slice(0,-9)),O.modified_in=O.issolved?z(O.csclastmodified[0].slice(0,-9)):z(O.csccreateddate[0].slice(0,-9)),O.icon_type="",O.teaser=O.teaser?O.teaser:"",O.section=u,u=="latest")switch(O.csctype){case"tkb":O.icon_type='<img alt="document" src="/etc/designs/cdc/fw/i/icon_document.png">';break;case"blog":O.icon_type='<img alt="blog" src="/etc/designs/cdc/fw/i/icon_blog.png">';break;case"board":O.issolved?O.icon_type='<img alt="discussion" src="/etc/designs/cdc/fw/i/icon_an_discussion.png">':O.icon_type='<img alt="discussion" src="/etc/designs/cdc/fw/i/icon_un_discussion.png">';break}else O.isvideos==!0&&(O.icon_type='<img src="/etc/designs/cdc/fw/i/video_default_thumb.png" alt="">');return B.process(O)};var D=N,A=Math.min(15,C.documents.length),_,k,x,B=new cdc.util.JsTemplate(I);if(M=P,C.documents.length!=null)for(i=0;i<A;i++)"cscauthor"in C.documents[i].fields||(C.documents[i].fields.cscauthor="Unknown"),M+=N(C.documents[i].fields);switch(M+=w,u){case"docs":view_all_text="View All Related Community Documents",S="document";break;case"video":view_all_text="View All Related Videos",S="video";break;case"blogpost":view_all_text="View All Related Blog Posts",S="blogpost";break;case"latest":view_all_text="View All Latest Activity Related to This Product",S="latest"}}else v=!0,Q(),R();jQuery(".communitylisting-"+u+" h2").after(M)}}d(),jQuery(function(){!jQuery("body").hasClass("cdc-support-series")&&(jQuery("#community").parents("#drawertab").length==0||cdc.rc.drawertab&&cdc.rc.drawertab.isMyTabOpen("#community"))&&cdc.rc.communitylisting.getCommunityData(jQuery("#communitylisting-results h2>button").eq(0))})});cdc.rc.supportDownloads={conf:{isSOC:!1,softwareCount:0,metaClass:null,parentMdfName:"",useCaseType:0},sdsResponseObject:{},softwareID:"",rowData:[],modulesData:[],makeTemplate:function(e){var t=jQuery("#"+e).html(),s=new cdc.util.JsTemplate(t);return s},extraSpace:10,ratingsObj:{},ratingsCss:{0:"ratings_0","0.5":"ratings_0_5",1:"ratings_1","1.5":"ratings_1_5",2:"ratings_2","2.5":"ratings_2_5",3:"ratings_3","3.5":"ratings_3_5",4:"ratings_4","4.5":"ratings_4_5",5:"ratings_5"},serviceCalled:!1,spinnerDelay:2e3,timeOutDelay:1e4,loadingString:'<div class="spinner"><img src="/etc/designs/cdc/fw/i/spinner.gif" alt="..." />'+cdc.rc.loading+"</div>",cntErrString:'<div class="nocontent sdjs open"><p>'+cdc.rc.noDownloads+"</p></div>",techErrString:'<div class="techerror open"><p>'+cdc.rc.downloadTechError+"</p></div>",myToken:"",apiKey:"",eosGuest:!1,DomEventDispatcherObj:{detailsClick:function(e){var t=jQuery(this),s=this.getAttribute("data-id"),r=this.getAttribute("data-url");r.indexOf("apix")==-1&&(r=r.replace("/api","/apix"));var a=this.getAttribute("data-iscountryrestricted");!cdc.rc.supportDownloads.myToken&&r.indexOf("/public/")==-1&&(r=r.replace("/services/","/services/public/"),r=r+"?apikey="+cdc.rc.supportDownloads.apiKey);var d=this.getAttribute("data-relUrl"),h=this.getAttribute("data-imageGuid"),u=this.getAttribute("data-lockType"),l=this.getAttribute("data-entitlementRequired"),o=jQuery(".download-panel-"+s),c,f;cdc.expandPanel(o,"toggle"),t.toggleClass("panel-open"),t.toggleClass("panel-close"),t.attr("service-called")=="false"&&jQuery.ajax({url:r,type:"GET",beforeSend:function(b){cdc.rc.supportDownloads.myToken&&b.setRequestHeader("Authorization","Bearer "+cdc.rc.supportDownloads.myToken),t.attr("service-called","true"),c=setTimeout(y,cdc.rc.supportDownloads.spinnerDelay),f=setTimeout(p,cdc.rc.supportDownloads.timeOutDelay),b.setRequestHeader("Content-type","text/plain")},success:g,error:m});function g(b){if(cdc.rc.lifecycle=="eos"&&!cdc.rc.isLoggedIn&&(cdc.rc.supportDownloads.eosGuest=!0),!b.error)if(clearTimeout(c),clearTimeout(f),jQuery.isEmptyObject(b))cdc.rc.supportDownloads.eosGuest?document.getElementsByClassName("downloads-login-prompt")[0].style.visibility="visible":(clearTimeout(c),clearTimeout(f),o.children().not("button.close-button").remove(),v());else{var Q={};Q.imageDetails={},Q.imageDetails=b,Q.imageDetails.isCountryRestricted=a,Q.imageDetails.description=Q.imageDetails.fileDesc?Q.imageDetails.fileDesc:Q.imageDetails.featSetDesc,Q.imageDetails.relUrl=d,Q.imageDetails.lockType=u,Q.imageDetails.entitlementRequired=l,Q.imageDetails.imageGuid=h,cdc.rc.supportDownloads.softwareID=Q.imageDetails.softwareTypeId;var T=jQuery("#supportDownloadsDetails").html(),E=new cdc.util.JsTemplate(T);o.children().not("button.close-button").remove(),o.children("button.close-button").attr("id",s).click(function(){jQuery("button[data-id="+s+"]").toggleClass("panel-open").toggleClass("panel-close")}),o.prepend(E.process(Q))}}function m(){clearTimeout(c),clearTimeout(f),o.children().not("button.close-button").remove(),p()}function y(b){o.children().not("button.close-button").remove(),o.prepend(cdc.rc.supportDownloads.loadingString)}function p(){o.children().not("button.close-button").remove(),o.prepend(cdc.rc.supportDownloads.techErrString)}function v(){o.children().not("button.close-button").remove(),o.prepend(cdc.rc.supportDownloads.cntErrString)}},moduleClick:function(e){var t=jQuery(this),s=t.closest(".module-container"),r=jQuery(".downloads-container");s.hasClass("opened")?cdc.rc.supportDownloads.DomEventDispatcherObj.collapseModule(s):cdc.rc.supportDownloads.DomEventDispatcherObj.expandModule(s),cdc.rc.supportDownloads.DomEventDispatcherObj.deriveModuleState()},showHideSuggestedToolTip:function(){var e=$(this).prev(),t=e.outerHeight();e.toggle();var s=$(this).parent().offset().top-$(window).scrollTop(),r=s-t-cdc.rc.supportDownloads.extraSpace;r<0&&window.scrollBy(0,r)},closeBtnSuggestedToolTip:function(){$(this).parent().hide()},deriveModuleState:function(){var e=jQuery(".downloads-container"),t=jQuery(".module-container.closed",e).length>0,s=jQuery(".module-container.opened",e).length>0;t?jQuery(".expand-all",e).removeClass("hide"):jQuery(".expand-all",e).removeClass("inblock").addClass("hide"),s?jQuery(".collapse-all",e).addClass("inblock").removeClass("hide"):jQuery(".collapse-all",e).removeClass("inblock").addClass("hide"),t&&s?jQuery(".expand-collapse-divider",e).addClass("inblock").removeClass("hide"):jQuery(".expand-collapse-divider",e).removeClass("inblock").addClass("hide")},expandModule:function(e){var t=jQuery(".module-rows",e);e.hasClass("closed")&&(e.addClass("opened").removeClass("closed"),t.slideDown("fast",cdc.rc.drawertab?cdc.rc.drawertab.fixIE8ResizeBug:void 0))},collapseModule:function(e){var t=jQuery(".module-rows",e);e.hasClass("opened")&&(e.removeClass("opened").addClass("closed"),t.slideUp("fast",cdc.rc.drawertab?cdc.rc.drawertab.fixIE8ResizeBug:void 0))},expandAllModules:function(){var e=jQuery(".downloads-container");jQuery(".module-container.closed",e).each(function(){cdc.rc.supportDownloads.DomEventDispatcherObj.expandModule(jQuery(this))}),cdc.rc.supportDownloads.DomEventDispatcherObj.deriveModuleState()},collapseAllModules:function(){var e=jQuery(".downloads-container");jQuery(".module-container.opened",e).each(function(){cdc.rc.supportDownloads.DomEventDispatcherObj.collapseModule(jQuery(this))}),cdc.rc.supportDownloads.DomEventDispatcherObj.deriveModuleState()}},initTemplateRender:function(){var e={config:cdc.rc.supportDownloads.conf,modules:cdc.rc.supportDownloads.modulesData,sdsResponseObject:cdc.rc.supportDownloads.sdsResponseObject,rowData:cdc.rc.supportDownloads.rowData},t=jQuery("#supportDownloadsBaseTemplate").html(),s=new cdc.util.JsTemplate(t),r=jQuery(".downloads-container");r.children().remove(),r.append('<div id="eulaDiv" class="eulaDiv"></div>'),r.append(s.process(e)),jQuery(".module-title",r).click(cdc.rc.supportDownloads.DomEventDispatcherObj.moduleClick),jQuery(".details-button",r).click(cdc.rc.supportDownloads.DomEventDispatcherObj.detailsClick),jQuery(".expand-all",r).click(cdc.rc.supportDownloads.DomEventDispatcherObj.expandAllModules),jQuery(".collapse-all",r).click(cdc.rc.supportDownloads.DomEventDispatcherObj.collapseAllModules),jQuery(".suggested img",r).click(cdc.rc.supportDownloads.DomEventDispatcherObj.showHideSuggestedToolTip),jQuery("button.close-button",".suggestedToolTip").click(cdc.rc.supportDownloads.DomEventDispatcherObj.closeBtnSuggestedToolTip);var a=jQuery(".download-panel",r);cdc.expandPanel(a,"make");var d=cdc.util.findEnvironment();d=d==""||d==="prod"||d==="unknown"?"":"-stage",window.location.href.indexOf("vm-ccit-um-01c")>0&&(d="-stage");var h="//www"+d+".cisco.com";jQuery.getScript(h+"/web/fw/softwareportal/js/K9Form.js"),jQuery.getScript(h+"/web/fw/softwareportal/js/sapopup.js"),jQuery.getScript(h+"/web/fw/softwareportal/js/eulacontent.js"),jQuery.getScript(h+"/web/fw/softwareportal/js/download.js");var u=h+"/web/fw/softwareportal/css/swcdownloadplugin.css";jQuery("head").append('<link type="text/css" rel="stylesheet" href="'+u+'" />')},init:function(e=""){var t=cdc.rc.supportDownloads.conf,s=cdc.rc.supportDownloads.sdsResponseObject,r=cdc.rc.supportDownloads.rowData,a=cdc.rc.supportDownloads.modulesData,d=jQuery(".downloads-container"),h="",u,l,o=[],c="",f="",g=0,m=0,y=document.URL,p="",v="https://"+window.location.host+"/c/contentReuse/en/us/framework/Oauth/WEMRedirectURL.html",b=e!=""?e:cdc.rc.mdfID,Q=cdc.util.findEnvironment();Q=!Q||Q=="prod"?"":"-stage",window.location.href.indexOf("vm-ccit-um-01c")>0&&(Q="-stage"),cdc.rc.isLoggedIn==!0?(h="https://apix"+Q+".cisco.com/software/services/summary/v1/loadsoftwareinfo?mdfid="+b,y.indexOf("-pstage")!=-1&&(h="https://apix"+Q+".cisco.com/software/services/summary/v1/loadsoftwareinfo?mdfid="+b),y.indexOf("-devint")!=-1||y.indexOf("-stage")!=-1||y.indexOf("-pstage")!=-1?p="655ehwgg3z6msenkcx3hgcmc":p="kp2w4s2z9kqc8sfc2ebfxvb3",cdc.oauth.getToken(function(S){cdc.debug.log(S),cdc.rc.supportDownloads.myToken=S,S?T(!0):fetch("/c/dam/assets/json/downloadconfig.json").then(function(A){return A.json()}).then(function(A){cdc.rc.supportDownloads.apiKey=Q=="-stage"?A.stage:A.prod,h="https://apix"+Q+".cisco.com/software/services/public/summary/v1/loadsoftwareinfo?mdfid="+b+"&apikey="+cdc.rc.supportDownloads.apiKey,y.indexOf("-pstage")!=-1&&(apikey="zsdm248qnwfzq4ztjx82fv8v",h="https://apix"+Q+".cisco.com/software/services/public/summary/v1/loadsoftwareinfo?mdfid="+b+"&apikey="+apiKey),T(!1)}).catch(function(A){console.warn(A)})},p,v)):fetch("/c/dam/assets/json/downloadconfig.json").then(function(S){return S.json()}).then(function(S){cdc.rc.supportDownloads.apiKey=Q=="-stage"?S.stage:S.prod,h="https://apix"+Q+".cisco.com/software/services/public/summary/v1/loadsoftwareinfo?mdfid="+b+"&apikey="+cdc.rc.supportDownloads.apiKey,y.indexOf("-pstage")!=-1&&(apikey="zsdm248qnwfzq4ztjx82fv8v",h="https://apix"+Q+".cisco.com/software/services/public/summary/v1/loadsoftwareinfo?mdfid="+b+"&apikey="+cdc.rc.supportDownloads.apiKey),T(!1)}).catch(function(S){console.warn(S)});function T(S){jQuery.ajax({url:h,type:"GET",beforeSend:function(A){S&&A.setRequestHeader("Authorization","Bearer "+cdc.rc.supportDownloads.myToken),u=setTimeout(I,cdc.rc.supportDownloads.spinnerDelay),l=setTimeout(M,cdc.rc.supportDownloads.timeOutDelay)},success:E,error:z}),cdc.rc.supportDownloads.serviceCalled=!0}function E(S){if(Object.keys(S).length){if(S.response.length)if(clearTimeout(u),clearTimeout(l),d.children().not(".downloads-login-prompt").remove(),jQuery.isEmptyObject(S.response[0]))clearTimeout(u),clearTimeout(l),d.children().not(".downloads-login-prompt").remove(),P();else{s=S.response[0],s.isSOC=="Y"&&(t.isSOC=!0),t.softwareCount=s.softwareCount,t.softwareCount>0&&g++;var A;s.isSOC=="N"?s.metaClass=="IOS Software Minor Release"&&s.softwareCount==0?(s.mdfFamilyUrl!=""?t.useCaseType=1:(t.useCaseType=3,P()),t.metaClass=s.metaClass):s.metaClass=="Software Version/Option"&&s.softwareCount==0?s.mdfFamilyUrl!=""?t.useCaseType=2:(t.useCaseType=3,P()):(s.metaClass=="Model"||s.metaClass=="Interface/Module")&&s.softwareCount>0?(t.useCaseType=6,A=s.softwareList,r=C(A,cdc.rc.mdfID)):s.metaClass=="Software Family"&&s.softwareCount>0?(t.useCaseType=11,A=s.softwareList,r=C(A,cdc.rc.mdfID)):s.metaClass=="Model"&&s.softwareCount==0?(t.useCaseType=8,s.children.length>0&&R(s.children)):s.metaClass=="Software Family"&&s.softwareCount==0?(t.useCaseType=12,s.children.length>0&&R(s.children)):s.metaClass=="Software Version/Option"&&s.softwareCount>0?(t.useCaseType=4,A=s.softwareList,r=C(A,cdc.rc.mdfID)):s.softwareCount==0&&(t.useCaseType=3,P()):(s.children.length>0&&(g+=s.children.length),s.softwareCount>0?(t.useCaseType=5,A=s.softwareList,r=C(A,cdc.rc.mdfID)):t.useCaseType=7,s.children.length>0&&R(s.children)),cdc.rc.supportDownloads.conf=t,cdc.rc.supportDownloads.sdsResponseObject=s,cdc.rc.supportDownloads.rowData=r,cdc.rc.supportDownloads.modulesData=a,cdc.rc.lifecycle=="eos"&&!cdc.rc.isLoggedIn&&(cdc.rc.supportDownloads.eosGuest=!0),t.useCaseType!=3&&!cdc.rc.supportDownloads.eosGuest?cdc.rc.supportDownloads.initTemplateRender():cdc.rc.supportDownloads.eosGuest&&(document.getElementsByClassName("downloads-login-prompt")[0].style.visibility="visible")}}else clearTimeout(u),clearTimeout(l),d.children().not(".downloads-login-prompt").remove(),setTimeout(()=>{cdc.rc.supportDownloads.eosGuest||(jQuery("#seriesDownloadSelector.modelSelector").length==0||jQuery("#seriesDownloadSelector.modelSelector").html().trim().length==0)&&P()},200)}function R(S){for(var A=0;A<S.length;A++)if(S[A].metaClass=="Interface/Module"){var _=[],k=S[A].softwareList;_=C(k,S[A].mdfId),a.push({name:S[A].mdfName,rowData:_})}}function L(S){var A=S-Math.floor(S);return A<.25?S=Math.floor(S):A>.25&&A<.75?S=Math.floor(S)+.5:S=Math.ceil(S),S}function C(S,A){for(var _=[],k=0;k<S.length;k++){var x=[],B="";B=S[k].osList[0].osName;for(var D=0;D<S[k].osList.length;D++){B==""?_.push({name:S[k].softwareName,mdfid:A,versions:S[k].osList[D].latestRelList}):x.push({name:S[k].osList[D].osName,mdfid:A,versions:S[k].osList[D].latestRelList});for(var N=S[k].osList[D].latestRelList,O=0;O<N.length;O++)o.push(N[O].relVersion+A)}B!=""&&_.push({name:S[k].softwareName,mdfid:A,opSystems:x})}c=o.join(),o=[],f="https://apix"+Q+".cisco.com/software/services/rating/v1/ratings?entityType=release&entityId="+encodeURI(c),y.indexOf("-pstage")!=-1&&(f="https://apix"+Q+".cisco.com/software/services/rating/v1/ratings?entityType=release&entityId="+encodeURI(c)),!cdc.rc.supportDownloads.myToken&&f.indexOf("/public/")==-1&&(f=f.replace("/services/","/services/public/"),f=f+"&apikey="+cdc.rc.supportDownloads.apiKey);let V={};return V["X-Client-Id"]="SDSP",jQuery.ajax({url:f,headers:V,beforeSend:function(J){J.setRequestHeader("X-Client-Id","SDSP"),cdc.rc.supportDownloads.myToken&&J.setRequestHeader("Authorization","Bearer "+cdc.rc.supportDownloads.myToken)},success:function(J){m++;var Y=J,G=Y.response;if(G!=null)for(var Z=0;Z<G.length;Z++){var se=L(G[Z].averageRating);cdc.rc.supportDownloads.ratingsObj[G[Z].entityId]={averageRating:se,totalRating:G[Z].totalRatings}}m==g&&cdc.rc.supportDownloads.showRatingsNReviews()},error:function(J){m++,m==g&&cdc.rc.supportDownloads.showRatingsNReviews()}}),_}function z(S,A,_){clearTimeout(u),clearTimeout(l),d.children().remove(),M()}function I(S){d.html(cdc.rc.supportDownloads.loadingString)}function M(){d.children().remove(),d.prepend(cdc.rc.supportDownloads.techErrString),w("Error Retrieving Downloads")}function P(){d.children().not(".downloads-login-prompt").remove(),d.prepend(cdc.rc.supportDownloads.cntErrString),w("No Downloads Loaded")}function w(S){cdc.ut.trackEvent.event("impression",{ntpagetag:{lpos:"model_tab_downloads",lid:"model_tab_downloads",breakpoint:cdc.breakpoint.getScreenSize(),linktext:S,link:S,jumplink:"true",metaclass:cdc.rc.metaclass,lifecycle:cdc.rc.lifecycle}})}},showRatingsNReviews:function(){$.each(cdc.rc.supportDownloads.ratingsObj,function(e,t){t.totalRating>0&&jQuery(".ratings[data-entityid='"+e+"']").each(function(){var s=cdc.util.findEnvironment();s=!s||s=="prod"||s=="unknown"?"":"-stage";var r=jQuery(this),a="https://software.cisco.com/download/reviews?mdfid="+cdc.rc.mdfID+"&release="+r.attr("data-entityid")+"&softwareId="+cdc.rc.supportDownloads.softwareID;r.append('<span class="rating_count">(<a href="'+a+'" title="Read Reviews">'+t.totalRating+"</a>)</span>"),r.append('<div class="ratings_all '+cdc.rc.supportDownloads.ratingsCss[t.averageRating]+' ratingPos" title="rating '+t.averageRating+' out of 5"></div>')})})}};if(!cdc.rc.supportDownloadsSkipInit){if(window.location.href.indexOf("dwnld=true")>0&&cdc.rc.drawertab&&jQuery(".downloads-container").length>0&&(window.location.hash="#"+cdc.rc.drawertab.whatsMyBookmark(".downloads-container"),cdc.rc.supportDownloads.init()),jQuery(function(){cdc.rc.drawertab&&cdc.rc.drawertab.isMyTabOpen(".downloads-container")&&(cdc.rc.supportDownloads.serviceCalled||cdc.rc.supportDownloads.init())}),jQuery(".downloads-container").parents("#drawertab").length>0)for(Se=cdc.rc.drawertab.getDrawerTabIdsFromContent(jQuery(".downloads-container")),_e=0;_e<Se.length;_e++)jQuery("#"+Se[_e]).on("click",function(){cdc.rc.supportDownloads.serviceCalled||cdc.rc.supportDownloads.init()});cdc.rc.supportDownloadsSkipInit=!1}var Se,_e;cdc.util.ensureNamespace("cdc.supportSolution");cdc.supportSolution.solutionDocuments={init:function(){if(cdc&&cdc.widget&&cdc.widget.backToTop){var e=jQuery("#info-solution-documentation"),t={hasDataSelector:".solution-documentation-container h3",button:{targetSelector:"#drawertab"}};new cdc.widget.backToTop().create(e,null,t)}}};jQuery(document).ready(function(){jQuery(".cdc-support-solution-release").length&&cdc.supportSolution.solutionDocuments.init()});jQuery(".cdc-support-solution-release").length&&jQuery(function(){jQuery(".ctc-compdoc-itemlinks").each(function(){var h=jQuery(this),u=h.find("li").length;if(u>5){var l=jQuery('<button class="ctc-compdoc-showdocs">- Show All Documents</button>');l.insertAfter(h),r(l,!1),l.attr("showing5",!0)}}),jQuery(document.body).on("click",".ctc-compdoc-showdocs",function(){var h=jQuery(this),u=h.attr("showing5");r(h,!!u),u?h.removeAttr("showing5"):h.attr("showing5","1"),cdc.rc&&cdc.rc.drawertab&&cdc.rc.drawertab.fixIE8ResizeBug()});var e=jQuery(".ctc-compdoc-tbl thead th button"),t=jQuery(".ctc-compdoc-tbl > tbody > tr"),s=t.length;e.on("click",function(){for(var h=[],u=[],l=e.index(this),o=0;o<s;o++){var c=jQuery(t[o]).find("td");u.push(c),h[o]=[{text:c[0].innerHTML,key:jQuery.trim(jQuery(c[0]).text())},{text:c[1].innerHTML,key:jQuery.trim(jQuery(c[1]).text())}]}var f=jQuery(this).find(".sort-arrow-wrap"),g=f.hasClass("sort-asc")?-1:1;for(h.sort(function(m,y){var p=m[l].key,v=y[l].key;return p=p&&p.toLowerCase(),v=v&&v.toLowerCase(),(p<v?-1:p>v?1:0)*g}),e.find(".sort-arrow-wrap").removeClass("sort-asc").removeClass("sort-desc"),f.addClass(g>0?"sort-asc":"sort-desc"),o=0;o<s;o++)u[o][0].innerHTML=h[o][0].text,u[o][1].innerHTML=h[o][1].text}),jQuery(jQuery(".ctc-compdoc-tbl .sort-arrow-wrap")[0]).addClass("sort-asc");function r(h,u){var l=h.prev().find("li"),o=l.length;u?h.html("- Show Only 5 Documents").removeAttr("showing5"):h.html("+ Show All "+o+" Documents").attr("showing5","1");for(var c=5;c<l.length;c++)u?$(l[c]).show():$(l[c]).hide();l.removeClass("ctc-compdoc-lastitemlink");var f=l.length>=5&&!u?4:l.length-1;jQuery(l[f]).addClass("ctc-compdoc-lastitemlink")}if(cdc&&cdc.widget&&cdc.widget.backToTop){var a=jQuery("#info-component-documentation"),d={hasDataSelector:".component-documentation-container .ctc-compdoc-tbl tr > td",button:{targetSelector:"#drawertab"}};new cdc.widget.backToTop().create(a,null,d)}});jQuery(function(){typeof cdc>"u"&&(cdc={}),typeof cdc.supportModel>"u"&&(cdc.supportModel={});var e=cdc.ctc_downloads_mdfid,t="";typeof cdc.supportModel.Tech_Error_Message<"u"&&typeof cdc.supportModel.Msg_Try_Again<"u"&&typeof cdc.supportModel.Cisco_Software_Download<"u"&&(t='<div class="techerror open"><p>'+cdc.supportModel.Tech_Error_Message+"</p> <p>"+cdc.supportModel.Msg_Try_Again+'</p><a href="//software.cisco.com">'+cdc.supportModel.Cisco_Software_Download+"</a></p></div>");var s="104",r=cdc.util.findEnvironment()=="prod"?"":"-stage",a="";typeof cdc.supportModel.No_Content_Release<"u"&&(a=new cdc.util.JsTemplate('{% if (items == null || items.length <= 0) { %}      <div class="ctc-sol-downloads-none">'+cdc.supportModel.No_Content_Release+'</div>      {% } else { %}<ul class="ctc-sol-downloads-ul">      {% for (var i = 0; i < items.length; i++) { var item = items[i]; %}      <li><a href="${item.url}">${item.label}</a></li>      {% } %}    </ul>    {% } %}',["{%","%}"]));var d=!1;function h(){jQuery.ajax({url:SERVICE_URL,error:function(){jQuery(".ctc-sol-downloads-list").html(t)},success:function(c){var f=c==null||c.softwareTypeList==null?c.error.message:"",g="";if(f)g=f;else{for(var m=[],y=0,p=c.softwareTypeList&&c.softwareTypeList.length||0;y<p;y++){var v=c.softwareTypeList[y],b="//software.cisco.com/download/redirect?mdfid="+e+"&softwareid="+v.softwareId;m.push({url:b,label:v.name})}g=m.length>0?a.process({items:m}):cdc.supportModel.Cisco_No_Content_Model}jQuery(".ctc-sol-downloads-list").html(g)}})}var u=jQuery(".ctc-sol-downloads-list");if(u.parents("#drawertab").length>0)if(cdc.rc.drawertab&&cdc.rc.drawertab.isMyTabOpen(".ctc-sol-downloads-list"))d=!0,h();else for(var l=cdc.rc.drawertab.getDrawerTabIdsFromContent(u),o=0;o<l.length;o++)jQuery("#"+l[o]).on("click",function(){d||(d=!0,fetch("/c/dam/assets/json/downloadconfig.json").then(function(c){return c.json()}).then(function(c){var f=environment=="-stage"?c.stage:c.prod,g="https://apix"+environment+".cisco.com/software/services/public/catalog/v1/softwareTypes?mdfid="+cdc.rc.mdfID+"&apikey="+f;h()}).catch(function(c){console.warn(c)}))})});cdc.supportdocuments={ui:{showMoreCategories:function(){jQuery(this).toggleClass("open");var e=jQuery(".more-categories-panel");cdc.expandPanel(e,"toggle")},toggleLink:function(){var e=jQuery(".show-more-categories");e.toggleClass("open")}},sendErrorMetrics:function(e){cdc.ut.trackEvent.event("impression",{ntpagetag:{lpos:"model_tab_documentation",lid:"model_tab_documentation",breakpoint:cdc.breakpoint.getScreenSize(),linktext:e,link:e,jumplink:"true",metaclass:cdc.rc.metaclass,lifecycle:cdc.rc.lifecycle}})},init:function(){jQuery(".doc-sublist.mostrecent").find("li").find(".most_recent_link_date").show();var e=jQuery(".documents-container"),t=jQuery(".show-more-categories",e);t.click(cdc.supportdocuments.ui.showMoreCategories);var s=jQuery(".expand-panel:not(.bsearch-panel)",e);if(cdc.expandPanel(s,"make",cdc.supportdocuments.ui.toggleLink),cdc&&cdc.widget&&cdc.widget.backToTop){var r=jQuery("#info-documents"),a=jQuery(".top-categories"),d={hasDataSelector:"#actual-document-listings a[href]",button:{targetSelector:"#drawertab"}};new cdc.widget.backToTop().create(r,a,d)}}};jQuery(document).ready(function(){jQuery(".cdc-support-model").length&&cdc.supportdocuments.init()});cdc.supportdocuments.recentlyViewed={$documentsContainer:jQuery(".documents-container"),storeName:"cdc-support-visitedlinks",storeIdPrefix:"cdc-support-visitedlinks_",storeId:"cdc-support-visitedlinks_"+cdc.rc.mdfID,pageIndexId:"cdc-support-visitedlinks_pageIndex",pageStateName:"cdc-support-pageState",pageStateId:cdc.rc.mdfID,isPanelInitialized:!1,init:function(){var e=cdc.supportdocuments.recentlyViewed.readDisplayData();cdc.supportdocuments.recentlyViewed.renderDisplayPanel(e),cdc.supportdocuments.recentlyViewed.setPageIndex(),cdc.supportdocuments.recentlyViewed.$documentsContainer.on("mousedown touch touchcancel","a[data-recentlyviewed]",cdc.supportdocuments.recentlyViewed.onLinkClick)},onLinkClick:function(){var e=jQuery(this),t=cdc.rc.mdfID,s=e.text(),r=e.attr("href"),a=e.attr("data-recentlyviewed").toLowerCase()=="pdf"?e.parent().find("span.is-new-link").html():"";cdc.supportdocuments.recentlyViewed.registerView(t,r,s,a)},registerView:function(e,t,s,r){var a={mdfId:e,viewDate:new Date().getTime(),href:t,text:s,pdfdata:r};cdc.supportdocuments.recentlyViewed.setLink(a)},setLink:function(e){for(var t=cdc.supportdocuments.recentlyViewed.getLinks(e.mdfId),s=0;s<t.length;s++)if(t[s].href===e.href){t.splice(s,1);break}t.unshift(e),cdc.util.ls.setConfigInfo(cdc.supportdocuments.recentlyViewed.storeIdPrefix+e.mdfId,t)},getLinks:function(){return cdc.util.ls.getConfigInfo(cdc.supportdocuments.recentlyViewed.storeId)||[]},readDisplayData:function(){for(var e=cdc.util.ls.getConfigInfo(cdc.supportdocuments.recentlyViewed.storeId),t=[],s,r=0;r<e.length;r++){s=e[r];var a=new Date;if(a=a.setMonth(a.getMonth()-6),s.viewDate>a&&(jQuery("#actual-document-listings a[href='"+s.href+"']").length>0&&t.push(s),t.length===10))break}return t},renderDisplayPanel:function(e){if(e.length>0){if(!cdc.supportdocuments.recentlyViewed.isPanelInitialized){cdc.supportdocuments.recentlyViewed.isPanelInitialized=!0;var t=jQuery(".visitedlinks-panel");cdc.expandPanel(t,"make",cdc.supportdocuments.recentlyViewed.changeLinkDecoration),jQuery(".visitedlinks-button").click(function(){cdc.expandPanel(t,"toggle"),cdc.supportdocuments.recentlyViewed.changeLinkDecoration()});var s=jQuery(".visitedlinks-wrapper");s.css("display","block"),cdc.supportdocuments.recentlyViewed.restorePageState(t)}cdc.supportdocuments.recentlyViewed.renderDisplayLinks(e),cdc.rc.subtabs.update("rv")}},restorePageState:function(e){var t=cdc.util.ls.getConfigInfo(cdc.supportdocuments.recentlyViewed.pageStateName)||{},s=t[cdc.supportdocuments.recentlyViewed.pageStateId];(s===void 0||s.rvdo===void 0||s.rvdo===!0)&&(cdc.expandPanel(e,"toggle"),cdc.supportdocuments.recentlyViewed.changeLinkDecoration())},renderDisplayLinks:function(e){var t=jQuery(".visitedlinks-wrapper .visitedlinks-list");t.empty();for(var s,r,a=0;a<e.length;a++)s=e[a],r=s.pdfdata&&s.pdfdata.length?s.pdfdata:"",t.append(jQuery("<li><a data-recentlyviewed='rvdoLink' href="+s.href+">"+s.text+"</a> <span>"+r+"</span></li>"))},trimPageIndex:function(){var e=Math.floor(Math.random()*5+1);if(e===1)var t=cdc.util.ls.getConfigInfo(cdc.supportdocuments.recentlyViewed.pageIndexId)},changeLinkDecoration:function(){var e=jQuery(".visitedlinks-button");e.hasClass("closed")?(e.removeClass("closed").addClass("opened"),cdc.supportdocuments.recentlyViewed.setRVDOState(!0)):(e.removeClass("opened").addClass("closed"),cdc.supportdocuments.recentlyViewed.setRVDOState(!1))},setRVDOState:function(e){var t=cdc.util.ls.getConfigInfo(cdc.supportdocuments.recentlyViewed.pageStateName)||{},s=t[cdc.supportdocuments.recentlyViewed.pageStateId];s===void 0&&(s={}),s.rvdo=e,t[cdc.supportdocuments.recentlyViewed.pageStateId]=s,cdc.util.ls.setConfigInfo(cdc.supportdocuments.recentlyViewed.pageStateName,t)},setPageIndex:function(){var e=cdc.util.ls.getConfigInfo(cdc.supportdocuments.recentlyViewed.pageIndexId)||{};e[cdc.supportdocuments.recentlyViewed.storeId]=new Date().getTime();var e=cdc.util.ls.setConfigInfo(cdc.supportdocuments.recentlyViewed.pageIndexId,e)}};jQuery(document).ready(function(){setTimeout(cdc.supportdocuments.recentlyViewed.init,250)});jQuery(".extra-ol-feedback li a").on("click",function(e){e.preventDefault();var t=this.href;return window.open(t,"feedback","width=550, height=460, scrollbars=1, menubar=1, resizable=1"),!1});cdc.util.ensureNamespace("cdc.rc.extrafeedbacklink");cdc.rc.extrafeedbacklink=jQuery(".extra-ol-feedback a");jQuery("body.cdc-fieldnotice").length?cdc.rc.extrafeedbacklink.url=cdc.rc.extrafeedbacklink.attr("href")+"&resize=false&currentURL="+window.location.href:cdc.rc.extrafeedbacklink.url=cdc.rc.extrafeedbacklink.attr("href")+"&resize=false&referer="+window.location.href;cdc.rc.extrafeedbacklink.attr("href",cdc.rc.extrafeedbacklink.url);jQuery(document).ready(function(){var e=jQuery("#LUH-openCaseUrl");if(e.length>0){var t=e.attr("href")+window.location.href;e.attr("href",t)}});cdc.util.ensureNamespace("cdc.rc.supportCommunityDiscussion");cdc.rc.supportCommunityDiscussion=new function(e){if(document.getElementById("eotCommunityDisc")){let p=function(Q){b(Q)},v=function(Q){jQuery("#eotCommunityDisc").parent().hide()},b=function(Q){function T(A){var _=" day ago",k=" days ago",x=864e5,B=" week ago",D=" weeks ago",N=x*7,O=" month ago",V=" months ago",J=x*30,Y=" year ago",G=" years ago",Z=x*365,se=new Date,te=new Date(A),ie,ce;return ie=Math.floor((se-te)/Z),ie>0?ce=ie>1?G:Y:(ie=Math.floor((se-te)/J),ie>0?ce=ie>1?V:O:(ie=Math.floor((se-te)/N),ie>0?ce=ie>1?D:B:(ie=Math.floor((se-te)/x),ce=ie>1?k:_,ie==0&&(ie="&lt;1")))),ie+ce}var E,R,L='<ul class="open">',C="</ul>";if(Q.hits.hits!==void 0&&Q.hits.hits!==null){let A=function(_){_.csccreateddate?_.created_in=T(_.csccreateddate):_.created_in="",_.csclastmodified?_.modified_in=T(_.csclastmodified):_.modified_in=T(_.csccreateddate),_.url=_.url?_.url:"";let k=document.querySelector("meta[name=language]")?document.querySelector("meta[name=language]").getAttribute("content"):"";return _.title=_["title."+k]?_["title."+k]:"",_.cscboardhref=_.cscboardhref?_.cscboardhref:"",_.cscboardtitle=_.cscboardtitle?_.cscboardtitle:"",w.process(_)};var S=A;jQuery("#eotCommunityDisc h3").css("display","block");var z=Math.min(3,Q.hits.hits.length),I,M,P;E='<%                         if (typeof csctype !== "undefined" && csctype === "board" && issolved) {                         %>                            <li class="ans_disc"><span></span>                        <%}                        else{                        %>                             <li><span></span>                        <%}%>                        <div>                            <a href="${url}" class="title">${title}</a>                            <p class="modified-date">Last Reply ${modified_in}</p>                            <p class="community">in <a href="${cscboardhref}">${cscboardtitle}</a></p>                        </div>                      </li>';var w=new cdc.util.JsTemplate(E);for(R=L,i=0;i<z;i++)R+=A(Q.hits.hits[i]._source);R+=C}else v();jQuery("#eotCommunityDisc .discItems").html(R).append('<p class="supportCommunityLink"><a href="'+cdc.rc.eotkeys.supportCommunityUrl+'">'+cdc.rc.eotkeys.supportCommunity+"</a></p>")};var c=p,f=v,g=b,t="",s={},r="",a="",d=["ja","es","pt","ru"],h=cdc.util.findEnvironment(),u=cdc.cookie.getCookie("CP_GUTC"),l=[{items:[{fieldname:"csclanguage",value:"en",lastval:"true"}],last:"true"}];typeof cdc.rc.locale_info<"u"&&(r=cdc.rc.locale_info.substring(0,2),a=d.indexOf(r)>-1?'AND(csclanguage:EQUALS("'+r+'"))':"");let m=document.querySelector("meta[name=language]")?document.querySelector("meta[name=language]").getAttribute("content"):"",y=cdc.rc.concept_name;(!y||y&&y==="")&&(y=document.querySelector("meta[name=title]")?document.querySelector("meta[name=title]").getAttribute("content"):"",m!=="en"&&(y=y.replace(/[^\x00-\x7F]/g,"").trim())),y!=null&&(y=y.replace(/(^|[^\/])\/(?!\/)/g,"$1//")),s={id:"cdc_boundsearch_comm_template",params:{queryString:y,size:11,from:0,language:m,filters:[{items:[{fieldname:"csclanguage",value:m,lastval:"true"}],last:"true"}]}},!h||h==="unknown"||h==="prod"?h="":h==="dev"?h="-dev":window.location.href.indexOf("-pstage.cisco")>-1?h="-pstage":h="-stage";var o="https://crs"+h+".cloudapps.cisco.com/support/cwsx/crs/pub/esps?v=1.0";jQuery("#eotCommunityDisc").closest(".showComponent").length>0&&!jQuery("body").hasClass("cdc-support-multimedia-eot")&&jQuery.ajax({url:o,type:"POST",beforeSend:function(Q){Q.setRequestHeader("Content-type","text/plain;charset=utf-8")},dataType:"json",data:JSON.stringify(s),success:p,error:v})}};cdc.util.ensureNamespace("cdc.rc.supportCommunityDiscussion");cdc.rc.supportCommunityDiscussion=new function(e){if(document.getElementById("eotCommunityDisc")){let p=function(Q){b(Q)},v=function(Q){jQuery("#eotCommunityDisc").hide()},b=function(Q){function T(k){var x=" day ago",B=" days ago",D=864e5,N=" week ago",O=" weeks ago",V=D*7,J=" month ago",Y=" months ago",G=D*30,Z=" year ago",se=" years ago",te=D*365,ie=new Date,ce=new Date(k),ae,ue;return ae=Math.floor((ie-ce)/te),ae>0?ue=ae>1?se:Z:(ae=Math.floor((ie-ce)/G),ae>0?ue=ae>1?Y:J:(ae=Math.floor((ie-ce)/V),ae>0?ue=ae>1?O:N:(ae=Math.floor((ie-ce)/D),ue=ae>1?B:x,ae==0&&(ae="&lt;1")))),ae+ue}var E,R,L='<ul class="open">',C="</ul>";if(Q.hits.hits!=null){let k=function(x,B){x.csccreateddate?x.created_in=T(x.csccreateddate):x.created_in="",x.csclastmodified?x.modified_in=T(x.csclastmodified):x.modified_in=T(x.csccreateddate);let D=document.querySelector("meta[name=language]")?document.querySelector("meta[name=language]").getAttribute("content"):"";switch(x.url=x.url?x.url:"",x.title=x["title."+D]?x["title."+D]:"",x.cscboardhref=x.cscboardhref?x.cscboardhref:"",x.cscboardtitle=x.cscboardtitle?x.cscboardtitle:"",x.created_in=T(x.csccreateddate),x.modified_in=x.issolved?T(x.csclastmodified):T(x.csccreateddate),"author"in x?x.cscauthor=x.author:"cscauthor"in x&&(x.cscauthor=x.cscauthor),x.icon_type="",x.teaser=B&&B["content."+D]?B["content."+D]:"",x.section="latest",x.csctype){case"tkb":x.icon_type='<img alt="document" src="/etc/designs/cdc/fw/i/icon_document.png">';break;case"blog":x.icon_type='<img alt="blog" src="/etc/designs/cdc/fw/i/icon_blog.png">';break;case"board":x.issolved?x.icon_type='<img alt="discussion" src="/etc/designs/cdc/fw/i/icon_an_discussion.png">':x.icon_type='<img alt="discussion" src="/etc/designs/cdc/fw/i/icon_un_discussion.png">';break}return S.process(x)};var _=k;jQuery("#eotCommunityDisc h3").css("display","inline-block");var z=Math.min(3,Q.hits.hits.length),I,M,P;E='<%                         if (typeof csctype !== "undefined" && csctype === "board" && issolved) {                         %>                            <li class="ans_disc"><span></span>                        <%}                        else{                        %>                             <li><span></span>                        <%}%>                        <div>                            <a href="${url}" class="title">${title}</a>                            <p class="modified-date">Last Reply ${modified_in}</p>                            <p class="community">in <a href="${cscboardhref}">${cscboardtitle}</a></p>                        </div>                      </li>';var w=jQuery("#jstemplatedata").html(),S=new cdc.util.JsTemplate(w);for(R=L,i=0;i<z;i++)R+=k(Q.hits.hits[i]._source,Q.hits.hits[i].highlight);R+=C}else v();jQuery("#eotCommunityDisc .discItems").html(R);let A=document.querySelector("#eotCommunityDisc .discItems .open").clientHeight};var c=p,f=v,g=b,t="",s={},r="",a="",d=["ja","es","pt","ru"],h=cdc.util.findEnvironment(),u=cdc.cookie.getCookie("CP_GUTC"),l=[{items:[{fieldname:"csclanguage",value:"en",lastval:"true"}],last:"true"}];typeof cdc.rc.locale_info<"u"&&(r=cdc.rc.locale_info.substring(0,2),a=d.indexOf(r)>-1?'AND(csclanguage:EQUALS("'+r+'"))':"");let m=document.querySelector("meta[name=language]")?document.querySelector("meta[name=language]").getAttribute("content"):"",y=cdc.rc.concept_name;(!y||y&&y==="")&&(y=document.querySelector("meta[name=title]")?document.querySelector("meta[name=title]").getAttribute("content"):"",m!=="en"&&(y=y.replace(/[^\x00-\x7F]/g,"").trim())),y!=null&&(y=y.replace(/(^|[^\/])\/(?!\/)/g,"$1//")),s={id:"cdc_boundsearch_comm_template",params:{queryString:y,size:11,from:0,language:m,filters:[{items:[{fieldname:"csclanguage",value:m,lastval:"true"}],last:"true"}]}},!h||h==="unknown"||h==="prod"?h="":h==="dev"?h="-dev":window.location.href.indexOf("-pstage.cisco")>-1?h="-pstage":h="-stage";var o="https://crs"+h+".cloudapps.cisco.com/support/cwsx/crs/pub/esps?v=1.0";jQuery("body").hasClass("cdc-support-multimedia-eot")&&(jQuery(".dmc-bld .video-row")&&jQuery(".dmc-bld .video-row").length>0&&(jQuery(".dmc-bld .video-row")[0].style.maxWidth="none"),jQuery.ajax({url:o,type:"POST",beforeSend:function(Q){Q.setRequestHeader("Content-type","text/plain;charset=utf-8")},dataType:"json",data:JSON.stringify(s),success:p,error:v}))}};window.cdc||(window.cdc={});cdc.eotDocHeader={obj:{},ui:{printPage:function(e){e.preventDefault(),window.print()},showDownloadPanel:function(e){e.preventDefault(),cdc.expandPanel(cdc.eotDocHeader.obj.jQuerypanel,"toggle",function(){cdc.eotDocHeader.obj.jQueryshowPanelButton.attr("aria-expanded","true");var t=document.querySelector("#overDocWrapper #download-list-container")!=null?document.querySelector("#overDocWrapper #download-list-container"):document.querySelector("#download-list-container");t.focus();var s=jQuery("#download-list-container").find("select, input, textarea, button, a").filter(":visible"),r=s.first(),a=jQuery("#download-list-container .close-button");a.on("keydown",function(d){d.which===13&&(d.preventDefault(),cdc.eotDocHeader.obj.jQueryshowPanelButton.attr("aria-expanded","false"),cdc.eotDocHeader.obj.jQueryshowPanelButton.focus()),d.which===9&&!d.shiftKey&&(d.preventDefault(),a.click(),cdc.eotDocHeader.obj.jQueryshowPanelButton.attr("aria-expanded","false"),cdc.eotDocHeader.obj.jQueryprintButton.focus())}),r.on("keydown",function(d){d.which===9&&d.shiftKey&&(d.preventDefault(),a.click(),cdc.eotDocHeader.obj.jQueryshowPanelButton.attr("aria-expanded","false"),cdc.eotDocHeader.obj.jQueryshowPanelButton.focus())})}),cdc.expandPanel(cdc.eotDocHeader.obj.jQuerypanelTranslations,"hide"),cdc.expandPanel(cdc.eotDocHeader.obj.jQuerysavePanel,"hide")},showLanguagePanel:function(e){e.preventDefault(),cdc.expandPanel(cdc.eotDocHeader.obj.jQuerypanelTranslations,"toggle"),cdc.expandPanel(cdc.eotDocHeader.obj.jQuerypanel,"hide"),cdc.expandPanel(cdc.eotDocHeader.obj.jQuerysavePanel,"hide"),cdc.eotDocHeader.obj.jQuerypanelTranslations.hasClass("cdc-expandPanel-visible")&&cdc.eotDocHeader.obj.jQuerypanelTranslations[0].focus();var t=jQuery(".availableLanguagesList").find("select, input, textarea, button, a").filter(":visible"),s=t.first(),r=jQuery(".availableLanguagesList .close-button");r.on("keydown",function(a){a.which===13&&(a.preventDefault(),cdc.eotDocHeader.obj.jQueryshowTranslationsButton.attr("aria-expanded","false"),cdc.eotDocHeader.obj.jQueryshowTranslationsButton.focus()),a.which===9&&!a.shiftKey&&(a.preventDefault(),r.click(),cdc.eotDocHeader.obj.jQueryshowTranslationsButton.attr("aria-expanded","false"),cdc.eotDocHeader.obj.jQueryshowTranslationsButton.focus())}),s.on("keydown",function(a){a.which===9&&a.shiftKey&&(a.preventDefault(),r.click(),cdc.eotDocHeader.obj.jQueryshowTranslationsButton.attr("aria-expanded","false"),cdc.eotDocHeader.obj.jQueryshowTranslationsButton.focus())}),cdc.eotDocHeader.obj.jQuerypanelTranslations.on("keydown",function(a){a.which===27&&cdc.eotDocHeader.obj.jQueryshowTranslationsButton.focus()})}},init:function(){cdc.eotDocHeader.obj.jQuerycomponent=jQuery(".docHeaderComponent"),cdc.eotDocHeader.obj.jQuerycomponent.length>0&&(cdc.eotDocHeader.obj.jQueryshowPanelButton=jQuery(".view-download-list-link",cdc.eotDocHeader.obj.jQuerycomponent),cdc.eotDocHeader.obj.jQueryshowPanelButton.click(cdc.eotDocHeader.ui.showDownloadPanel),cdc.eotDocHeader.obj.jQueryprintButton=jQuery(".printPage",cdc.eotDocHeader.obj.jQuerycomponent),cdc.eotDocHeader.obj.jQueryprintButton.click(cdc.eotDocHeader.ui.printPage),cdc.eotDocHeader.obj.jQuerypanel=jQuery(".download-list",cdc.eotDocHeader.obj.jQuerycomponent),cdc.expandPanel(cdc.eotDocHeader.obj.jQuerypanel,"make"),cdc.eotDocHeader.obj.jQuerysavePanel=jQuery(".saveDocumentMessage",cdc.eotDocHeader.obj.jQuerycomponent),typeof cdc>"u"&&(cdc={}),typeof cdc.translations>"u"&&(cdc.translations={}),cdc.translations.locale=="en_us"&&(cdc.eotDocHeader.obj.jQueryshowTranslationsButton=jQuery(".translations-link",cdc.eotDocHeader.obj.jQuerycomponent),cdc.eotDocHeader.obj.jQueryshowTranslationsButton.click(cdc.eotDocHeader.ui.showLanguagePanel),cdc.eotDocHeader.obj.jQuerypanelTranslations=jQuery(".availableLanguagesList",cdc.eotDocHeader.obj.jQuerycomponent),cdc.expandPanel(cdc.eotDocHeader.obj.jQuerypanelTranslations,"make")),cdc.expandPanel(jQuery(".translationContent"),"make"),document.getElementById("translationsList")&&cdc.translationSelector().create())}};jQuery(window).on("load resize",function(){var e=Number(jQuery(".infobarClearFix").width()),t=Number(jQuery(".infobar").width()+jQuery(".aboutTranslation").outerWidth(!0));cdc.breakpoint.getScreenSize()=="tall"?(jQuery(".updatedDate,.documentId").removeClass("mediumView"),jQuery(".aboutTranslation,.infobar").hasClass("smallView")&&(t=Number(jQuery(".documentId").css("display","inline-block").width()+jQuery(".aboutTranslation").css("display","inline-block").width()+28),jQuery(".documentId").css("display","block"),jQuery(".aboutTranslation").css("display","block")),e<=t?jQuery(".aboutTranslation,.infobar").addClass("smallView"):jQuery(".aboutTranslation,.infobar").removeClass("smallView")):cdc.breakpoint.getScreenSize()=="medium"?(jQuery(".aboutTranslation,.infobar").removeClass("smallView"),jQuery(".updatedDate,.documentId").hasClass("mediumView")&&(t=Number(jQuery(".updatedDate").outerWidth(!0)+jQuery(".documentId").outerWidth(!0)+jQuery(".aboutTranslation").outerWidth(!0))),e<=t?jQuery(".updatedDate,.documentId").addClass("mediumView"):jQuery(".updatedDate,.documentId").removeClass("mediumView")):(jQuery(".aboutTranslation,.infobar").removeClass("smallView"),jQuery(".updatedDate,.documentId").removeClass("mediumView"))});jQuery(document).ready(cdc.eotDocHeader.init);jQuery(function(){jQuery(".eot-feedback-btn").on("click",function(){var e=cdc.rc.eotkeys.thankYou;jQuery(".eot-feedback-btnwrap").html(""+e),jQuery(".eot-feedback-ol").focus()})});jQuery(function(){var e,t,s,r,a=cdc.util.findEnvironment();a=!a||a=="prod"||a=="unknown"?"":"-stage",window.location.href.indexOf("-pstage.cisco")>-1&&(a="-pstage");var d=location.href.split("?")[0].replace(/^.*\/\/[^\/]+/,"");function h(){$.ajax({url:"https://crs"+a+".cloudapps.cisco.com/support/cwsx/crs/service/csf/errs/Guest?eotPageUrl="+encodeURIComponent(d)+"&callback=?",type:"GET",dataType:"jsonp",success:function(f){var g=f;if(g["cdc.crs.response"].allDocs.length>0){jQuery(".viewersAlsoViewed").parent().show(),jQuery(".eot-vav").parent().show(),jQuery(".eot-vav").prepend("<h3>"+cdc.rc.eotkeys.viewersAlso+"</h3>").parent().show();for(var m="",y="",p=0;p<g["cdc.crs.response"].allDocs.length;p++)m=g["cdc.crs.response"].allDocs[p].recommendations,y=u(m),jQuery(".eot-vav ul").append("<li "+y+"><a href="+m+">"+g["cdc.crs.response"].allDocs[p].title+"</a></li>")}else jQuery("body").hasClass("cdc-eot-toc")||(jQuery(".eot-vav").parent().hide(),jQuery(".viewersAlsoViewed").parent().hide());jQuery("body").hasClass("cdc-eot-toc")?l():o()}})}function u(f){var g="";return f.includes("/td-p/")?g="class='related-discussions'":f.includes("/ta-p/")?g="class='related-documents'":f.includes("/ba-p/")&&(g="class='related-blogs'"),g}function l(){t=jQuery(".eot-vav ul"),s=t.children("li");for(var f=0;f<s.length&&f<5;f++)jQuery(s[f]).addClass("vavlistitems-show")}function o(){t=jQuery(".eot-vav ul"),s=t.children("li");for(let f=0;f<s.length&&f<3;f++)jQuery(s[f]).addClass("vavlistitems-show");if(s.length>3){for(let f=3;f<s.length;f++)jQuery(s[f]).addClass("morelistitems").addClass("vavlistitems-hide");r=t.children("li.morelistitems"),e=jQuery("<button class='eot-vavButton anchor'>+ <span>"+cdc.rc.eotkeys.show+" "+r.length+" "+cdc.rc.eotkeys.more+"</span></button>"),t.append(jQuery("<li class='eot-vavButtonListItem'></li>").append(e)),e.click(c)}}function c(){r.first().hasClass("vavlistitems-hide")?(r.removeClass("vavlistitems-hide").addClass("vavlistitems-show"),e.html("- <span>"+cdc.rc.eotkeys.showOnly3Documents+"</span>")):(r.removeClass("vavlistitems-show").addClass("vavlistitems-hide"),e.html("+ <span>"+cdc.rc.eotkeys.show+" "+r.length+" "+cdc.rc.eotkeys.more+"</span>"))}(jQuery("body").hasClass("cdc-eot")||jQuery("body").hasClass("cdc-books"))&&(jQuery(".viewersAlsoViewed").parent().hasClass("showComponent")||jQuery(".eot-vav").parent().hasClass("showComponent"))&&(h(),jQuery("body").hasClass("cdc-eot-toc")||(jQuery(".eot-vav").parent().hide(),jQuery(".viewersAlsoViewed").parent().hide()))});var xt=Re(Pe(),1);cdc.util.ensureNamespace("cdc.rc.disclaimers");cdc.rc.disclaimers.init=function(){var e=jQuery(".disclaimers .aboutBias button"),t=jQuery(".disclaimers .aboutTranslation button"),s=jQuery(".disclaimers .biasfreeContent"),r=jQuery(".disclaimers .translationContent");function a(d,h){cdc.expandPanel(h,"toggle",function(){var u=jQuery(".disclaimers button:not(.close-button)"),l=jQuery(".disclaimers .panel");for(let o=0;o<u.length;o++)u[o]!=d[0]&&u[o].getAttribute("aria-expanded")==="true"&&(u[o].setAttribute("aria-expanded","false"),cdc.expandPanel(jQuery(l[o]),"toggle"));d.attr("aria-expanded")==="true"?d.attr("aria-expanded","false"):d.attr("aria-expanded","true")})}cdc.expandPanel(s,"make"),cdc.expandPanel(r,"make"),e.on("click",function(){a(e,s)}),t.on("click",function(){a(t,r)}),s.find(".close-button").on("click",function(){e.attr("aria-expanded","false")}),r.find(".close-button").on("click",function(){t.attr("aria-expanded","false")})};jQuery(".disclaimers").length>0&&cdc.rc.disclaimers.init();window.cdc==null&&(cdc={});cdc.responsiveLightbox=function(){var e="lightbox",t="vid-container-env",s="",r,a="autoplay ",d,h,u=jQuery("html").hasClass("touch"),l=0,o="",c,f="video-object",g="",m="",y=0,p="lightbox-overlay",v,b,Q,T,E=0,R='<div id="'+p+'"></div>',L,C,z,I,M,P,w=!1,S=.58,A=.4545,_=.5625,k='<svg xmlns="http://www.w3.org/2000/svg" width="48" height="49" viewBox="0 0 48 49"><g fill="none" fill-rule="evenodd" stroke="#FFF"><path fill="#393737" d="M32.511 33.151a2 2 0 0 1-2.829 0L24 27.468l-5.734 5.735a2 2 0 1 1-2.828-2.83l5.733-5.733-5.656-5.657a2 2 0 0 1 2.83-2.829l5.655 5.657 5.657-5.657a2 2 0 0 1 2.83 2.83l-5.658 5.655 5.683 5.684a2 2 0 0 1 0 2.828m8.46-25.482c-9.374-9.372-24.569-9.372-33.942 0-9.373 9.374-9.372 24.57 0 33.942 9.372 9.373 24.568 9.373 33.941 0 9.373-9.373 9.373-24.57 0-33.941"/><path fill="#FFF" d="M26.9 25.07l5.657-5.656a2 2 0 1 0-2.83-2.828l-5.656 5.657-5.656-5.657a2 2 0 0 0-2.83 2.828l5.658 5.657-5.657 5.657a2 2 0 1 0 2.829 2.828l5.656-5.657 5.683 5.683a2 2 0 0 0 2.829-2.828L26.9 25.07z"/></g></svg>',x,B=function(){var U='<div class="lightbox-media video"><div class="video-container" id="'+t+'"></div></div>';d=="image"&&(U='<div class="lightbox-media image"><img src="" /></div>'),d=="text"&&(U='<div class="lightbox-media text"><p></p></div>'),d=="iconnav"&&(U='<div class="lightbox-media iconnav"></div>'),d=="parsys"&&(U='<div class="lightbox-media other"><p></p></div>');var X='<div id="'+e+'" class="'+P+'"><div class="lightbox-container"><div class="lightbox-title"><h2>Please wait while the media is loading ...</h2><button class="close-button" value="close" title="close" tabindex="1">'+k+"</button></div>"+U+"</div></div>";jQuery("body").prepend(X).prepend(R),v=jQuery("#"+e),D(),d=="parsys"||d=="text"?(document.querySelector(".lightbox-title").classList.add("other"),jQuery(".lightbox-container").append('<div class="overflow-overlay"></div>')):d=="video"?(document.querySelector(".lightbox-title").classList.add("video"),document.querySelector(".lightbox-container").classList.add("video")):d=="iconnav"&&(document.querySelector(".lightbox-container").classList.add("iconnav"),v.find("h2").remove()),c&&(N(),b=v.find(".lightbox-description")),re(),document.querySelector("#lightbox").classList.contains("chromeless")?(w=!0,jQuery("#lightbox.chromeless .close-button").html("<span></span><span></span>"),ne()):w=!1},D=function(){v.find("h2").text(o)},N=function(){d!="video"&&d!="iconnav"&&v.find(".lightbox-container").append('<div class="lightbox-description"><p>'+c+"</p></div>")},O=function(U){U==="desc"&b&&b.removeClass("overflow"),U==="content"&Q&&Q.removeClass("overflow")},V=function(){jQuery("body").css("overflow-y","hidden")},J=function(){jQuery("body").css("overflow-y","auto")},Y=function(){B(),d==="parsys"?(Z(),Q=jQuery(".lightbox-media.other")):d==="video"?G():d==="image"?se():d==="text"?te():d==="iconnav"&&(ie(),cdc.dm.navigationicon.init()),W(),q()},G=function(){var U=window.navigator.userAgent,X='<video id="'+L+'" data-video-id="'+r+'" data-account="'+C+'" data-player="'+z+'" data-embed="default" class="video-js" '+a+s+' style="width: 100%; height: 100%; position: absolute; top: 0px; bottom: 0px; right: 0px; left: 0px;" controls playsinline></video>',oe='<iframe src="//players.brightcove.net/'+C+"/"+z+"_default/index.html?videoId="+r+'" allowfullscreen webkitallowfullscreen mozallowfullscreen style="position: absolute; top: 0px; right: 0px; bottom: 0px; left: 0px; width: 100%; height: 100%;" ></iframe>';U.indexOf("MSIE")!=-1||U.indexOf("Trident")!=-1?jQuery("#"+e+" .lightbox-container .video-container").append(oe):jQuery("#"+e+" .lightbox-container .video-container").append(X);var le="//players.brightcove.net/"+C+"/"+z+"_default/index.min.js",pe=document.createElement("script");pe.type="text/javascript",pe.src=le,pe.addEventListener("load",function(){if(I==="override"||I==="disable"){var ge='"publication":null';I==="override"&&(ge='"publication":"'+M+'"');var ye=document.createElement("script");ye.innerHTML="var ciscoPlayer_"+L+' = videojs("'+L+`");
ciscoPlayer_`+L+".AdwaysInteractiveOverWriterBrightcovePlugin({"+ge+"});",document.getElementById(t).appendChild(ye)}}),document.getElementById(t).appendChild(pe)},Z=function(){jQuery("#"+e+" .lightbox-container .lightbox-media").append(jQuery("#lightbox-"+T+"-parsys").html())},se=function(){r=jQuery("#lightbox-"+T+"-image img").attr("src");var U=v.find(".lightbox-media.image img");U.attr("src",r),U.load(function(){ue(),F()})},te=function(){v.find(".lightbox-media.text p").text(r)},ie=function(){jQuery("#"+e+" .lightbox-container .lightbox-media").append(jQuery("#lightbox-"+T+"-iconnav").html()),jQuery("#"+e+" .lightbox-container .lightbox-media.iconnav").prepend('<div class="contact-us-nav"><h2>'+o+"</h2><h3>"+c+"</h3></div>");var U=jQuery("#lightbox-"+T+"-iconnav .icon-navigation"),X=U.css("background-color");jQuery("#lightbox .lightbox-container").css("background-color",X),jQuery("#lightbox .lightbox-container .dmc-blade.row.full.blowout").css("background-color","inherit"),jQuery(".lightbox-container .dmc-navigation-icon").height()<jQuery(".lightbox-container .dmc-navigation-icon")[0].scrollHeight&&(ce(),jQuery(".lightbox-container .dmc-navigation-icon").bind("scroll",function(){if(jQuery(this).scrollTop()+jQuery(this).innerHeight()>=jQuery(this)[0].scrollHeight)jQuery(".overflow-overlay").remove();else{var oe=jQuery(".lightbox-container .overflow-overlay");oe.length===0&&ce()}}))},ce=function(){jQuery(".lightbox-container .dmc-navigation-icon").append('<div class="overflow-overlay"></div>'),jQuery(".lightbox-container .overflow-overlay").css("bottom",jQuery(".lightbox-container ul.cta").outerHeight());var U=jQuery('html[dir="rtl"]').length>0?"right":"left";jQuery(".lightbox-container .overflow-overlay").width(jQuery(".lightbox-container .dmc-navigation-icon").outerWidth()-parseInt(jQuery(".lightbox-container .dmc-navigation-icon").css("padding-"+U))).css("margin-"+U,-(parseInt(jQuery(".lightbox-container.iconnav .icon-navigation .dmc-navigation-icon").css("padding-"+U))-parseInt(jQuery(".lightbox-media.iconnav").css("padding-"+U))))},ae=function(){jQuery("#"+p).remove(),v.remove(),J(),typeof cdc.marqueeEmbeddedVid<"u"&&cdc.marqueeEmbeddedVid!==null&&cdc.marqueeEmbeddedVid()},ue=function(){var U=jQuery("#"+e).outerHeight(),X=document.documentElement.clientHeight*.8;U>X?h=!0:h=!1},he=function(U){jQuery(window).scrollTop(U),y=0},q=function(){var U=d==="video"&&w?-5:50;jQuery(window).height()>jQuery(".lightbox-container").outerHeight()+U?(V(),jQuery("#lightbox").css("position","fixed")):(J(),y=jQuery("#"+e).offset().top,jQuery("#lightbox").css("position","absolute"),jQuery(window).scrollTop(0))},W=function(){var U=parseInt(jQuery(".lightbox-container").css("margin-top")),X=(jQuery(window).height()-jQuery("#"+e).outerHeight())/2,oe=cdc.breakpoint.getScreenSize()==="short"||cdc.breakpoint.getScreenSize()==="xsmall"?50:20;X>20&&cdc.breakpoint.getScreenSize()!=="short"&cdc.breakpoint.getScreenSize()!=="xsmall"&&(oe=X),jQuery("#"+e).css("top",oe+"px")},F=function(){if(cdc.breakpoint.getScreenSize()!=="short"&&cdc.breakpoint.getScreenSize()!=="xsmall"&&!u&&!x){var U=document.documentElement.clientHeight*.8;if(h)if(d==="parsys"){var X=U-jQuery(".lightbox-title").outerHeight();Q.height(X).addClass("overflow")}else{var oe=U-(jQuery(".lightbox-title").outerHeight()+jQuery(".lightbox-media").outerHeight());oe<=20&&(oe=45),typeof b<"u"&&b.height(oe).addClass("overflow")}else O(d==="parsys"?"content":"desc");ee()}else O("desc"),b&&b.css("height",""),v.css("top",E+"px"),O("content"),jQuery("#lightbox").css("position")==="fixed"&&d==="image"&&jQuery("#lightbox").css("position","absolute");var le=H();le<S&&le>A?(jQuery("#"+e).removeClass("small"),jQuery("#"+e).hasClass("medium")||jQuery("#"+e).addClass("medium")):le>A?(jQuery("#"+e).removeClass("medium"),jQuery("#"+e).hasClass("small")||jQuery("#"+e).addClass("small")):jQuery("#"+e).removeClass("medium").removeClass("small"),le<_&&w&&jQuery("#lightbox.chromeless .close-button").html("<span></span><span></span>")},ne=function(){var U=document.documentElement.clientHeight,X=H();if(X<_){var oe=U*16/9;jQuery(".lightbox-container").height(U),jQuery(".lightbox-container").width(oe),jQuery("#lightbox.chromeless").css("background-color","#000")}else jQuery("#lightbox.chromeless").css("background-color","transparent")},H=function(){return document.documentElement.clientHeight/document.documentElement.clientWidth},K=function(U){var X=0;return window.pageYOffset!==void 0?X=window.pageYOffset:U.documentElement!==void 0&&U.documentElement.scrollTop?X=U.documentElement.scrollTop:U.body!==void 0&&(X=U.body.scrollTop),X},ee=function(){var U=jQuery("#"+e).outerHeight(),X=document.documentElement.clientHeight,oe=(X-U)/2*100/X;document.querySelector(".lightbox-media .video")&&(oe=oe-1),oe=oe<0?0:oe,oe!==0&&jQuery("#"+e).css("top",oe+"%")},re=function(){jQuery("#"+e+", #"+e+" .close-button, #"+p+", .lightbox-title, .lightbox-description, .lightbox-media").on("click",function(U){this.className.indexOf("lightbox-title")==-1&&this.className.indexOf("lightbox-description")==-1&&this.className.indexOf("lightbox-media")==-1&&(cdc.responsiveLightbox.hideAndStop(),l>100&&l>jQuery(window).height()&&he(l));var X=jQuery(U.target);if(!(X.is("a")||jQuery(X).parents().is("a")))return!1}),jQuery(document).keyup(function(U){U.which===27&&document.getElementById("lightbox")!==null&&cdc.responsiveLightbox.hideAndStop()})};return jQuery(document).ready(function(){jQuery(document).on("click",".lightbox-link",function(U){var X=jQuery(this),oe=X.text();E=K(this)+50,l=X.position().top,T=X.attr("data-lightbox-id");var le="#"+T,pe=jQuery(le).attr("data-ltbox-version");d=jQuery(le).attr("data-ltbox-type"),P=jQuery(le).attr("data-ltbox-style"),d&&typeof pe>"u"&&(o=jQuery(le).attr("data-ltbox-title"),c=jQuery(le).attr("data-ltbox-description"),r=jQuery(le).attr("data-ltbox-content"),d==="video"&&(C=jQuery(le).attr("data-ltbox-account-id"),z=jQuery(le).attr("data-ltbox-player-type-id"),L=jQuery(le).attr("data-ltbox-component-id"),I=jQuery(le).attr("data-ltbox-interactivity"),M=jQuery(le).attr("data-ltbox-interactivity-override-id")),Y(),cdc.ut.trackEvent.event("link",{lpos:T,linktext:oe,lid:o,ntpagetag:{parentID:"responsive-lightbox",variationID:d}}))})}),window.onresize=function(){document.getElementById(e)!=null&&!u&&(d==="iconnav"?(W(),q()):F())},{hideAndStop:function(){ae()},html5Player:function(){G()}}}();window.cdc==null&&(cdc={});cdc.responsiveLightboxNew=function(){let e=document.activeElement,t="lightbox",s="lightbox-overlay",r="vid-container-env",a,d,h,u=jQuery("html").hasClass("touch"),l=0,o="",c,f=0,g=0,m=!1,y,p,v,b,Q,T,E,R,L,C,z=!1,I=.58,M=.4545,P=.5625,w,S,A=function(){if(w=jQuery("[id='"+b+"']"),z=w.data("ltboxStyle")=="chromeless",w.find(".lightbox").length===0){let H='<div class="lightbox-media '+(d==="parsys"?"other":d)+'">';d==="video"&&(H+='<div class="video-container"></div>'),H+="</div>";let K="lightbox ";K+=C==="chromeless"?d+" "+C:d;let ee='<svg xmlns="http://www.w3.org/2000/svg" width="48" height="49" viewBox="0 0 48 49"><g fill="none" fill-rule="evenodd" stroke="#FFF"><path fill="#393737" d="M32.511 33.151a2 2 0 0 1-2.829 0L24 27.468l-5.734 5.735a2 2 0 1 1-2.828-2.83l5.733-5.733-5.656-5.657a2 2 0 0 1 2.83-2.829l5.655 5.657 5.657-5.657a2 2 0 0 1 2.83 2.83l-5.658 5.655 5.683 5.684a2 2 0 0 1 0 2.828m8.46-25.482c-9.374-9.372-24.569-9.372-33.942 0-9.373 9.374-9.372 24.57 0 33.942 9.372 9.373 24.568 9.373 33.941 0 9.373-9.373 9.373-24.57 0-33.941"/><path fill="#FFF" d="M26.9 25.07l5.657-5.656a2 2 0 1 0-2.83-2.828l-5.656 5.657-5.656-5.657a2 2 0 0 0-2.83 2.828l5.658 5.657-5.657 5.657a2 2 0 1 0 2.829 2.828l5.656-5.657 5.683 5.683a2 2 0 0 0 2.829-2.828L26.9 25.07z"/></g></svg>',re='<div id="'+t+'" class="'+K+'"><div class="lightbox-container"></div></div>',U='<div class="lightbox-title"><h2>Please wait while the media is loading ...</h2></div>';w.wrapInner(H),w.find(".lightbox-media").wrap(re),w.find(".lightbox-container").prepend(U),y=w.find("#"+t),_(),c&&(k(),p=y.find(".lightbox-description")),w.find(".overflow-overlay").remove(),d=="parsys"||d=="text"?(w.find(".lightbox-title").addClass("other"),w.find(".lightbox-media").prepend("<p></p>"),w.find(".lightbox-container").find(".overflow-overlay").length===0&&w.find(".lightbox-container").append('<div class="overflow-overlay"></div>')):d=="video"?(w.find(".lightbox-title").addClass("video"),w.find(".lightbox-container").addClass("video")):d=="iconnav"&&(w.find(".lightbox-container").addClass("iconnav"),w.find(".icon-nav > .bl-cnt > .ctas").addClass("dm0 thml-1"),y.find("h2").remove()),w.find(".lightbox-container").append('<button class="close-button" value="close modal dialog" title="close modal dialog" aria-label="close modal dialog" data-config-metrics-item="close - Lightbox : '+b+'">'+ee+"</button>"),z&&(w.find(".lightbox.chromeless .close-button").html("<span></span><span></span>"),ce()),w.find(".lightbox").attr("style","left: 50%;transform: translateX(-50%);"),q()}w.find(".video-container").attr("id",r),w.attr("aria-hidden",!1),w.find("#"+s).length===0&&w.prepend('<div id="'+s+'"></div>')},_=function(){w.data("ltboxTitle")!=null&&w.data("ltboxTitle")!=""?y.find("h2").text(o):y.find("h2").remove()},k=function(){d!="video"&&d!="iconnav"&&y.find(".lightbox-container").append('<div class="lightbox-description"><p>'+c+"</p></div>")},x=function(H){H==="desc"&p&&p.removeClass("overflow"),H==="content"&v&&v.removeClass("overflow")},B=function(){jQuery("body").css("overflow-y","hidden")},D=function(){jQuery("body").css("overflow-y","auto")},N=function(){if(e=document.activeElement,A(),d==="video")w.find(".close-button").attr({"aria-label":"Close Video Player",title:"Close Video Player"}),w.find("video").length===0?O():(videojs(w.find("video").parent().attr("id")).play(),w.find("video").parent().removeClass("vjs-layout-tiny"));else if(d==="parsys"){G(),v=w.find(".lightbox-media.other"),ie();let H=Array.from(document.querySelectorAll("#"+b+" .dm-img.init:not(.loaded)"));cdc&&cdc.hasOwnProperty("dmr")&&cdc.dmr.hasOwnProperty("dmImageHandler")&&H&&H.length&&cdc.dmr.dmImageHandler.update(H,!0)}else d==="image"?(G(),ie()):d==="text"?y.find(".lightbox-media.text p").text(a):d==="iconnav"&&(V(),cdc.dm.navigationicon.init());w.find(".lightbox").attr("id","lightbox"),w.closest(".dmc-bld").css("overflow","unset").css("position","unset"),w.closest(".dmc-bld .bl-cnt").css("position","unset"),w.find(".lightbox-media.image > [style='display: none;']").css("display","block"),w.css("display","block"),te(),se(),d==="iconnav"?(w.find("#"+t+" .contact-us-nav h2").attr("id","lb_title"),w.find("#"+t+" .contact-us-nav h3").attr("id","lb_desc")):(w.find("#"+t+" .lightbox-title h2").attr("id","lb_title"),w.find("#"+t+" .lightbox-description p").attr("id","lb_desc")),ne()},O=function(){let H="",K="autoplay ",ee=window.navigator.userAgent,re='<video-js id="'+Q+'" data-video-id="'+a+'" data-account="'+T+'" data-embed="default" class="video-js" '+K+H+' style="width: 100%; height: 100%; position: absolute; top: 0px; bottom: 0px; right: 0px; left: 0px;" controls playsinline></video-js>',U='<iframe src="//players.brightcove.net/'+T+"/"+E+"_default/index.html?videoId="+a+'" allowfullscreen webkitallowfullscreen mozallowfullscreen style="position: absolute; top: 0px; right: 0px; bottom: 0px; left: 0px; width: 100%; height: 100%;" ></iframe>';ee.indexOf("MSIE")!=-1||ee.indexOf("Trident")!=-1?w.find("."+t+" .lightbox-container .video-container").append(U):w.find("."+t+" .lightbox-container .video-container").append(re);let X="//players.brightcove.net/"+T+"/"+E+"_default/index.min.js",oe=document.createElement("script");oe.type="text/javascript",oe.src=X,oe.addEventListener("load",function(){dm.brightcoveEloquaImpl=function(){var fe=document.getElementById(Q);fe.setAttribute("data-player",E),ctm.gdpr.isFirstVisit?ctm.gdpr.isEU()?fe.setAttribute("data-bc-disable-map-plugin","1"):fe.setAttribute("data-bc-disable-map-plugin","0"):ctm.gdpr.getPerformanceFlag()=="true"?fe.setAttribute("data-bc-disable-map-plugin","0"):fe.setAttribute("data-bc-disable-map-plugin","1");var de=bc(fe)};var le=window.location.hostname;if(le.includes("-author")){var pe=document.getElementById(Q);pe.setAttribute("data-player",E);var ge=bc(pe)}else typeof ctm<"u"&&typeof ctm.gdpr=="object"&&ctm.gdpr.isFirstVisit?ctm.gdpr.isFirstVisitEventTriggered?dm.brightcoveEloquaImpl():window.addEventListener("OTFirstVisit",dm.brightcoveEloquaImpl):dm.brightcoveEloquaImpl();if(R==="interactivityoverride"||R==="interactivitydisable"){let fe='"publication":null';R==="interactivityoverride"&&(fe='"publication":"'+L+'"');let de=document.createElement("script");de.innerHTML='videojs("'+Q+'").AdwaysInteractiveOverWriterBrightcovePlugin({'+fe+"});",console.log("Vidya:"+de),document.getElementById(r).appendChild(de)}let ye=document.querySelector("#"+t+" video").getAttribute("id");videojs.getPlayer(ye).on("loadedmetadata",function(){ne(),w.find("#"+Q).find(".vjs-social-overlay.vjs-modal-dialog, .vjs-modal-dialog.vjs-text-track-settings").on("keyup",function(){m=!0})})}),document.getElementById(r).appendChild(oe)},V=function(){jQuery("#"+t+" .lightbox-container .lightbox-media.iconnav").prepend('<div class="contact-us-nav"><h2>'+o+"</h2><h3>"+c+"</h3></div>");let K=jQuery("#lightbox-"+b+"-iconnav .icon-navigation").css("background-color");jQuery("#lightbox .lightbox-container").css("background-color",K),jQuery("#lightbox .lightbox-container .dmc-blade.row.full.blowout").css("background-color","inherit"),jQuery(".lightbox-container .dmc-i-nav").height()<jQuery(".lightbox-container .dmc-i-nav")[0].scrollHeight&&(J(),jQuery(".lightbox-container .dmc-i-nav").bind("scroll",function(){jQuery(this).scrollTop()+jQuery(this).innerHeight()>=jQuery(this)[0].scrollHeight?jQuery(".overflow-overlay").remove():jQuery(".lightbox-container .overflow-overlay").length===0&&J()}))},J=function(){jQuery(".lightbox-container .dmc-i-nav").append('<div class="overflow-overlay"></div>'),jQuery(".lightbox-container .overflow-overlay").css("bottom",jQuery(".lightbox-container ul.cta").outerHeight());let H=jQuery('html[dir="rtl"]').length>0?"right":"left";jQuery(".lightbox-container .overflow-overlay").width(jQuery(".lightbox-container .dmc-i-nav").outerWidth()-parseInt(jQuery(".lightbox-container .dmc-i-nav").css("padding-"+H))).css("margin-"+H,-(parseInt(jQuery(".lightbox-container.iconnav .icon-navigation .dmc-i-nav").css("padding-"+H))-parseInt(jQuery(".lightbox-media.iconnav").css("padding-"+H))))},Y=function(){if(w.find("#"+s).remove(),d==="video"){w.find(".vjs-social-overlay.vjs-modal-dialog").hasClass("vjs-hidden")||w.find(".vjs-social-overlay.vjs-modal-dialog .vjs-close-button.vjs-control").click();let H=videojs(w.find("#lightbox").find("video").parent().attr("id"));H.ended()||(H.pause(),H.autoplay(!1),H.currentTime(0))}w.find("#lightbox").closest("div[data-ltbox-version='v2']").css("display","none"),w.closest(".dmc-bld").css("overflow","").css("position",""),w.closest(".dmc-bld .bl-cnt").css("position",""),w.find(".lightbox-media.image > [style='display: block;']").css("display","none"),w.find(".video-container").removeAttr("id"),w.attr("aria-hidden",!0),w.find("#lightbox").removeAttr("id"),w.find("#lb_title").removeAttr("id"),w.find("#lb_desc").removeAttr("id"),D(),typeof cdc.marqueeEmbeddedVid<"u"&&cdc.marqueeEmbeddedVid!==null&&cdc.marqueeEmbeddedVid(),e.focus(),e.tabIndex=0},G=function(){let H=w.find("#"+t).outerHeight(),K=document.documentElement.clientHeight*.8;H>K?h=!0:h=!1},Z=function(H){jQuery(window).scrollTop(H),f=0},se=function(){let H=d==="video"&&z?-5:50;jQuery(window).height()>w.find(".lightbox-container").outerHeight()+H?(B(),w.find("#lightbox").css("position","fixed")):(D(),f=w.find("#"+t).offset().top,w.find("#lightbox").css("position","absolute"),jQuery(window).scrollTop(0))},te=function(){let H=parseInt(w.find(".lightbox-container").css("margin-top")),K=(jQuery(window).height()-w.find("#"+t).outerHeight())/2,ee=cdc.breakpoint.getScreenSize()==="short"||cdc.breakpoint.getScreenSize()==="xsmall"?50:20;K>20&&cdc.breakpoint.getScreenSize()!=="short"&cdc.breakpoint.getScreenSize()!=="xsmall"&&(ee=K),w.find("#"+t).css("top",ee+"px")},ie=function(){if(cdc.breakpoint.getScreenSize()!=="short"&&cdc.breakpoint.getScreenSize()!=="xsmall"&&!u&&!S){let K=document.documentElement.clientHeight*.8;if(h)if(d==="parsys"){let ee=K-w.find(".lightbox-title").outerHeight();v.height(ee).addClass("overflow")}else{let ee=K-(w.find(".lightbox-title").outerHeight()+w.find(".lightbox-media").outerHeight());ee<=20&&(ee=45),typeof p<"u"&&p.height(ee).addClass("overflow")}else x(d==="parsys"?"content":"desc");he()}else x("desc"),p&&p.css("height",""),y.css("top",g+"px"),x("content"),w.find("#lightbox").css("position")==="fixed"&&d==="image"&&w.find("#lightbox").css("position","absolute");let H=ae();H<I&&H>M?(w.find("#"+t).removeClass("small"),w.find("#"+t).hasClass("medium")||w.find("#"+t).addClass("medium")):H>M?(w.find("#"+t).removeClass("medium"),w.find("#"+t).hasClass("small")||w.find("#"+t).addClass("small")):w.find("#"+t).removeClass("medium").removeClass("small"),H<P&&z&&w.find("#lightbox.chromeless .close-button").html("<span></span><span></span>")},ce=function(){let H=document.documentElement.clientHeight,K=ae();if(z&&K<P){let ee=H*16/9;w.find(".lightbox-container").height(H),w.find(".lightbox-container").width(ee),w.find("#lightbox.chromeless").css("background-color","#000")}else w.find("#lightbox.chromeless").css("background-color","transparent")},ae=function(){return document.documentElement.clientHeight/document.documentElement.clientWidth},ue=function(H){let K=0;return window.pageYOffset!==void 0?K=window.pageYOffset:H.documentElement!==void 0&&H.documentElement.scrollTop?K=H.documentElement.scrollTop:H.body!==void 0&&(K=H.body.scrollTop),K},he=function(){let H=w.find("#"+t).outerHeight(),K=document.documentElement.clientHeight,ee=(K-H)/2*100/K;w[0].querySelector(".lightbox-media .video")&&(ee=ee-1),ee=ee<0?0:ee,ee!==0&&w.find("#"+t).css("top",ee+"%")},q=function(){$(document).on("click","#lightbox-overlay, #lightbox, #lightbox div:not(.lightbox-container), #lightbox .close-button",function(H){($("#"+t).has(H.target).length===0||H.target.classList.contains("close-button")||H.target.closest(".close-button")!==null||$(H.target).is("a[target='_blank']")||$(H.target).parents().is("a[target='_blank']"))&&w[0].querySelector("#lightbox")!==null&&(cdc.responsiveLightboxNew.hideAndStop(),l>100&&l>jQuery(window).height()&&Z(l)),H.stopPropagation()}),jQuery(document).keyup(function(H){H.which===27&&w[0].querySelector("#lightbox")!==null&&(m||cdc.responsiveLightboxNew.hideAndStop(),m=!1)}),jQuery("#slider").length>0&&w.find("#lightbox .image img").on("click",function(){jQuery(".lightbox.image").toggleClass("zoomin"),jQuery(".close-button").toggleClass("zoomin"),jQuery(this).toggleClass("zoomin")})},W=function(H){b=H;let K="[id='"+b+"']",ee=jQuery(K).attr("data-ltbox-version");d=jQuery(K).attr("data-ltbox-type"),C=jQuery(K).attr("data-ltbox-style"),d&&typeof ee<"u"&&(o=jQuery(K).attr("data-ltbox-title"),c=jQuery(K).attr("data-ltbox-description"),a=jQuery(K).attr("data-ltbox-content"),d=="image"&&(a=jQuery("#lightbox-"+b+"-image img").attr("src")),d==="video"&&(T=jQuery(K).attr("data-ltbox-account-id"),E=jQuery(K).attr("data-ltbox-player-type-id"),Q=jQuery(K).attr("data-ltbox-component-id"),R=jQuery(K).attr("data-ltbox-interactivity"),L=jQuery(K).attr("data-ltbox-interactivity-override-id")),N())},F=function(H){g=jQuery(window).scrollTop()+50,W(H)},ne=function(){let H='a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type="text"]:not([disabled]), input[type="email"]:not([disabled]), input[type="radio"]:not([disabled]), input[type="checkbox"]:not([disabled]), select:not([disabled])',K=w[0].querySelector("#"+t),ee=jQuery(K).find(H).filter(":visible"),re=ee[0],U=9;$(ee).off("keydown").on("keydown",X),re.focus();function X(oe){let le=w[0].querySelector("#"+t),pe=jQuery(le).find(H).filter(":visible"),ge=pe[0],ye=pe[pe.length-1];(oe.key==="Tab"||oe.keyCode===U)&&(d=="video"&&w.find(".video-js").hasClass("vjs-user-active")&&w.find(".video-js").removeClass("vjs-user-active"),oe.shiftKey&&document.activeElement===ge?(ye.focus(),oe.preventDefault()):document.activeElement===ye&&(ge.focus(),oe.preventDefault()))}};return jQuery(document).ready(function(){jQuery(document).on("click",".lightbox-link",function(H){let K=jQuery(this),ee=K.text();g=ue(this)+50,l=K.position().top,b=K.attr("data-lightbox-id"),W(b),cdc.ut.trackEvent.event("link",{lpos:b,linktext:ee,lid:o,ntpagetag:{parentID:"responsive-lightbox",variationID:d}})})}),window.onresize=function(){w!==void 0&&w[0].querySelector("#"+t)!=null&&!u&&(d==="iconnav"?(te(),se()):(ie(),d=="video"&&ce()))},{hideAndStop:function(){Y()},html5Player:function(){O()},display:function(H){F(H)}}}();cdc.lightbox=function(){let e=function(r){let a="";if(typeof r!="object")return a="configuration JSON object input is expected.",{success:!1,message:a};if(typeof r.type>"u")return a="lightbox type is required.",{success:!1,message:a};let d=r.type;if(d!=="video"&&d!=="image"&&d!=="text"&&(a=" *lightbox type can ONLY be one of: video/image/text* "),d==="video"&&r.content.length===0&&(a+=" *OVP video ID (content) is required* "),a.length>0)return{success:!1,message:a};let h={type:"",id:"",linkText:"",title:"",desc:"",content:"",video:{style:"normal",accountId:"1384193102001",playerId:"NJgI8K0ie",interactivity:"interactivityenable",overrideId:""}},u=jQuery.extend(h,r);u.id.length===0||jQuery("#"+u.id).length>0?a="lightbox_"+Math.floor(Math.random()*1e5):a=u.id;let l='<div id="'+a+'" data-ltbox-type="text" data-ltbox-title="'+u.title+'" data-ltbox-description="'+u.desc+'"   data-ltbox-version="v2" data-ltbox-content="'+u.content+'"></div>';return d==="image"?l='<div id="'+a+'" data-ltbox-type="image" data-ltbox-title="'+u.title+'" data-ltbox-description="'+u.desc+'" data-ltbox-content="image" data-ltbox-version="v2"> <div id="lightbox-'+a+'-image" style="display: none;"><img src="'+u.content+'"></div></div>':d==="video"&&(l='<div id="'+a+'" data-ltbox-type="video" data-ltbox-title="'+u.title+'" data-ltbox-description="'+u.desc+'" data-ltbox-content="'+u.content+'" data-ltbox-style="'+u.video.style+'" data-ltbox-version="v2" data-ltbox-component-id="'+a+'-comp" data-ltbox-player-type-id="'+u.video.playerId+'" data-ltbox-account-id="'+u.video.accountId+'" data-ltbox-interactivity="'+u.video.interactivity+'" data-ltbox-interactivity-override-id="'+u.video.overrideId+'"></div>'),jQuery("body").append(l),{success:!0,message:a}},t=function(r){cdc.responsiveLightboxNew.display(r)},s=function(){return JSON.stringify({type:"video/image/text",id:"your specific assigned unique Id or blank (auto-generated Id will be assigned)",linkText:"for metrics or blank",title:"your Lightbox Title or blank",desc:"your Lightbox Description or blank",content:"video OVP Id, image path, or text content. section below required for video type ONLY",video:{style:"normal or chromeless",accountId:"1384193102001",playerId:"NJgI8K0ie",interactivity:"interactivityenable/interactivitydisable/interactivityoverride",overrideId:"required if interactivityoverride"},comment1:"cdc.lightbox.create(jsonConfigObj) will instantiate a lightbox object and inject it into page source",comment2:"the create method above will return: {success: true/false, message: 'unique ID OR error message'}",comment3:"cdc.lightbox.show(ID) will display the lightbox with that particular ID",videoDefault:"style: normal, accountId: 1384193102001, playerId: NJgI8K0ie, interactivity: interactivityenable","Full Documenttion":"https://wiki.cisco.com/display/DMSE/Lightbox+API+Documentation"})};return{create:function(r){return e(r)},show:function(r){return t(r)},sampleConfig:function(){return s()}}}();window.cdc==null&&(cdc={});cdc.responsiveVideoViewer=function(){var e=jQuery(".videoViewerBlock"),t=function(){for(var r=0,a=e.length;r<a;r++){var d=e[r];d.parentNode.style.height=jQuery(d).height()+"px"}},s=function(r){e.length>0&&document.body.appendChild(r)};jQuery(document).ready(function(){t();var r=null,a=document.createElement("script");a.src="//www.cisco.com/assets/swa/flash/cisco-html5-analytics.js",a.setAttribute("async","true"),s(a)}),jQuery(window).resize(function(){t()})}();cdc.util.ensureNamespace("cdc.resListingAz");cdc.resListingAz=function(){var e=0,t=0,s=0,r=0,a=300,d=0,h=function(m){if(jQuery("#section_"+m).find("a.anchor").attr("name","anchor_muted"),jQuery(".nav-indicator").removeClass("arrow"),m==="all")d=1,u(m,".list-section");else{d++;var y=jQuery("#res-listing-az").height();if(jQuery("#res-listing-az").css("min-height",y),jQuery(".list-section").hide(),jQuery("#section_"+m).length)u(m,"#section_"+m);else{var p=jQuery("#res-listing-az .list-section").first().attr("id").replace("section_","");u(p,"#section_"+p)}}},u=function(m,y){jQuery(y).slideDown(a,l(m))},l=function(m){d===1&&(jQuery(".nav-indicator").removeClass("arrow"),jQuery("#nav_"+m).find(".nav-indicator").addClass("arrow"),jQuery("#res-listing-az").css("min-height","0"),jQuery("#res-listing-az").css("height","auto"),location.hash=m,setTimeout(function(){window.scrollTo(0,0)},10),jQuery("#section_"+m).find("a.anchor").attr("name",m)),d--},o=function(){if(jQuery("#res-listing-az").length>0)if(jQuery("#res-listing-az .navigator").removeClass("pinned-top"),jQuery("#res-listing-az .navigator").removeClass("pinned-bot"),jQuery(".navigator li").unbind("click"),jQuery(".navigator li").click(function(y){jQuery(this).find("a").length&&(y.preventDefault?(y.preventDefault(),h(jQuery(this).attr("id").replace("nav_",""))):(y.returnValue=!1,h(jQuery(this).attr("id").replace("nav_",""))))}),location.hash)h(location.hash.slice(1));else{var m=jQuery("#res-listing-az .list-section").first().attr("id").replace("section_","");h(m)}},c=function(){if(jQuery("#res-listing-az").length>0){jQuery(".navigator li").unbind("click");var m=location.hash;location.hash="",jQuery(".list-section").addClass("active"),setTimeout(function(){location.hash=m},100)}},f=function(){jQuery("#res-listing-az .navigator").css("position")!=="relative"&&(e=document.getElementById("res-listing-az").getBoundingClientRect().top,e<0?(jQuery("#res-listing-az .navigator").addClass("pinned-top"),t=document.getElementById("res-listing-az").getBoundingClientRect().bottom,s=jQuery("#res-listing-az .navigator").height(),r===0&&t<s&&(r=s,jQuery("#res-listing-az .navigator").addClass("pinned-bot")),r!==0&&t>r&&(r=0,jQuery("#res-listing-az .navigator").removeClass("pinned-bot"))):(jQuery("#res-listing-az .navigator").removeClass("pinned-top"),jQuery("#res-listing-az .navigator").removeClass("pinned-bot"),r=0))},g=function(){jQuery("#res-listing-az").length>0&&(cdc.breakpoint.onEnter(o,cdc.breakpoint.breakpoints.tall),cdc.breakpoint.onExit(function(){c()},cdc.breakpoint.breakpoints.tall),jQuery(document).ready(function(){jQuery(".list-section[style]").length===0&&(jQuery.inArray(cdc.breakpoint.getScreenSize(),["base","short"])>-1?c():o())}),jQuery(window).scroll(function(){f()}),jQuery(window).on("touchend",function(m){f()}))};return{init:g}}();cdc.resListingAz.init();cdc.rc.previewLink={storeAs:"previewReturnJumplink",intercept:function(){jQuery("#eot-preview-content a").on("click",function(e){if(e.target.hash.indexOf("#")===0){e.preventDefault();var t=new Date().getTime(),s={time:t,jumpto:e.target.hash};cdc.util.ls.setConfigInfo(cdc.rc.previewLink.storeAs,s),document.location.href="/c/login/index.html?referer="+document.location.pathname+document.location.search}})},replay:function(){var e=cdc.util.ls.getConfigInfo(cdc.rc.previewLink.storeAs);if(e&&e.time&&e.time>0&&e.jumpto&&e.jumpto.indexOf("#")==0){var t=new Date().getTime(),s=1e3*60*5;t-e.time<s&&jQuery(e.jumpto+", [name="+e.jumpto.substr(1)+"]").length>0&&(document.location.href+=e.jumpto)}cdc.util.ls.deleteConfigInfo(cdc.rc.previewLink.storeAs)}};cdc.rc.previewLinkdo==="replay"?cdc.rc.previewLink.replay():cdc.rc.previewLinkdo==="intercept"&&cdc.rc.previewLink.intercept();document.body.className&&document.body.className.indexOf("cdc-eot")>-1&&jQuery("#eot-doc-wrapper img").each(function(){if(!jQuery(this).parent().is("a")){let e="Related image, diagram or screenshot.";this.alt!==null&&this.alt!==""&&(e=this.alt),jQuery(this).wrap('<a href="'+this.src+'" class="show-image-alone" title="'+e+'"></a>')}});jQuery("body.cdc-eot").length&&!jQuery("body.cdc-eot-toc").length&&!(window.location.href.indexOf("/products/collateral")>-1||window.location.href.indexOf("/solutions/collateral")>-1)&&new cdc.widget.backToTop().create(jQuery("#eot-doc-wrapper"),jQuery(".docHeaderComponent"),{button:{targetSelector:"body"}});window.cdc==null&&(cdc={});cdc.languageSelector=function(){var e=cdc.util.locale.getLocale(window.location.href).getLocale;jQuery("#langSelector ul li").each(function(){jQuery(this).attr("data-label")==e&&jQuery(this).addClass("first").find("a").attr("href","javascript:void(0)").append("<span class='arrow'></span>")}),jQuery("#langSelector ul .first").show();var t=jQuery("#langSelector ul li");t.click(function(s){jQuery(this).find("a").focus().parent().addClass("selected"),jQuery("#langSelector ul").toggleClass("lang-list"),jQuery("#langSelector ul li span").toggleClass("arrow")}),jQuery(document).on("click touchstart",function(s){var r=jQuery(s.target);r.parents().hasClass("lang-list")||(jQuery("#langSelector ul").removeClass("lang-list"),t.removeClass("selected"),jQuery("#langSelector ul li span").addClass("arrow"))}),t.keydown(function(s){switch(s.keyCode){case 38:var r=jQuery(".selected");t.removeClass("selected"),r.prev().length==0?(r.next("li").removeClass("selected"),r.siblings().last().addClass("selected")):r.prev().addClass("selected"),s.preventDefault();break;case 40:jQuery("#langSelector ul").addClass("lang-list");var r=jQuery(".selected");jQuery("#langSelector ul li span").removeClass("arrow"),jQuery("#langSelector .selected").length==0&&jQuery("#langSelector li.first").addClass("selected"),r.next().length>0?(r.removeClass("selected"),r.next("li").addClass("selected")):(r.removeClass("selected"),r.siblings().first().addClass("selected")),s.preventDefault();break;case 13:jQuery("#langSelector ul").hasClass("lang-list")&&jQuery(".selected a")[0].click();break;case 27:jQuery("#langSelector ul").removeClass("lang-list"),jQuery("#langSelector ul li span").addClass("arrow");break}})};jQuery(document).ready(function(){cdc.languageSelector(),document.querySelector("#fw-content #langSelector .first a")&&document.querySelector("#fw-content #langSelector .first a").addEventListener("keydown",function(e){if(e.keyCode===9&&e.shiftKey){var t=cdc.wcUtil.getObj("masthead");e.preventDefault(),t.querySelector("#fwt-language-button").focus()}})});document.getElementById("shp-product-listing")&&(typeof cdc.shp>"u"&&(cdc.shp={}),cdc.shp.productCategories=new function(){var e="",t="setme";function s(p){return jQuery(p).hasClass("open")}function r(){t==="setme"&&(t=jQuery("#shp-prodoverlay .close").css("right")),cdc.breakpoint.getScreenSize()==="grande"||cdc.breakpoint.getScreenSize()==="venti"?jQuery("#shp-prodoverlay .close").css("right",document.getElementById("shp-prodoverlay").offsetLeft+35):jQuery("#shp-prodoverlay .close").css("right",t)}function a(){jQuery("#shp-prodoverlay").scrollTop(0),jQuery("#shp-bgoverlay").removeClass("open"),jQuery("#shp-prodoverlay").removeClass("open"),jQuery("#shp-product-listing .product-overlay").removeClass("open"),jQuery("#shp-product-listing .pane").removeClass("open"),e!==""&&e.focus(),jQuery("html.ie").length&&window.removeEventListener("resize",r)}function d(p,v){var b=jQuery(p),Q=cdc.breakpoint.getScreenSize();if(Q==="medium"||Q==="large"||Q==="grande"||Q==="venti"){jQuery("#shp-bgoverlay").addClass("open"),jQuery("#shp-prodoverlay").addClass("open"),jQuery("#shp-prodoverlay .close").on("click",a);var T=$("#shp-overlay-content").find("select, input, textarea, button, a").filter(":visible"),E=T.first(),R=T.last(),L=jQuery("#shp-prodoverlay .close");L.focus(),L.on("keydown",function(C){C.shiftKey&&C.which===9&&(C.preventDefault(),R.focus())}),R.on("keydown",function(C){C.which===9&&!C.shiftKey&&(C.preventDefault(),L.focus())}),E.on("keydown",function(C){C.which===9&&C.shiftKey&&(C.preventDefault(),L.focus())}),jQuery("html.ie").length&&(r(),window.addEventListener("resize",r))}v.addClass("open"),b.addClass("open"),Q==="tall"||Q==="xsmall"||Q==="short"?(jQuery("html,body").animate({scrollTop:p.offsetTop+jQuery("#shp-product-listing .pane").innerHeight()},1e3),e=""):(e=p,jQuery("a, button","#shp-prodoverlay")[0].focus())}function h(p){var v=cdc.breakpoint.getScreenSize();(v==="medium"||v==="large"||v==="grande"||v==="venti")&&p.hasClass("product-overlay")?jQuery("#shp-overlay-content").html(p.html()):jQuery("#shp-overlay-content").html("")}function u(p,v){jQuery(p).addClass("open"),v.addClass("open")}function l(p,v){jQuery(p).removeClass("open"),jQuery(v).removeClass("open")}function o(p,v){var b={},Q=cdc.breakpoint.getScreenSize(),T={short:2,xsmall:3,tall:4,medium:4,large:4,grande:4,venti:4};for(b.columns=T[Q],b.topCategoryLabel=v.attr("data-toplabel"),b.psalinkurl=v.attr("data-psaurl"),b.psalinktitle=v.attr("data-psatitle"),b.categories=[],i=0;i<p.subCats.length;i++)for(subcat=p.subCats[i],b.categories[i]={},b.categories[i].title=subcat.subcategory,b.categories[i].anchor=subcat.subcategory.replace(" ",""),b.categories[i].percolumn=subcat.series.length/b.columns>3?Math.ceil(subcat.series.length/b.columns):3,b.categories[i].series=[],j=0;j<subcat.series.length;j++)b.categories[i].series[j]={},b.categories[i].series[j].url=subcat.series[j].url,b.categories[i].series[j].title=subcat.series[j].title;var E=jQuery("#productCategoryOverlayTemplate").html(),R=new cdc.util.JsTemplate(E);return R.process({mydata:b})}function c(){var p=jQuery("#msmDownloadErrorTemplate").html(),v=new cdc.util.JsTemplate(p);v.process({})}function f(p,v){var b=jQuery(p),Q=b.attr("data-url"),T;if(jQuery(".listing",v).length===0&&Q!=""){var E=setTimeout(c,1e4);jQuery.ajax({type:"GET",url:Q,dataType:"json",success:function(R){clearTimeout(E),T=o(R,b),v.append(T),b.hasClass("multi")||h(v)},error:function(){clearTimeout(E),T=c(),v.append(T),b.hasClass("multi")||h(v)}})}else b.hasClass("multi")||h(v)}function g(){var p=window.location.search,v=/overlay=([^&^#]+)/;if(v.exec(p))var b=v.exec(p)[1];if(b&&b!=""){var Q=jQuery("[data-nickname='"+b+"']");Q.length>0&&(Q.hasClass("multi")&&(Q.closest(".more").find(".pane").click(),Q=jQuery("[data-nickname='"+b+"']")),Q.click())}}function m(){var p="<button id='shp-bgoverlay'></button><div id='shp-prodoverlay'><button class='close'> <span/><span/> </button><div id='shp-overlay-content'><div></div>";jQuery("body").prepend(p),jQuery("#shp-bgoverlay").on("click",a),jQuery("#shp-prodoverlay .close").on("click",a),jQuery("#shp-product-listing .pane").on("click",function(){var v=this,b=jQuery("+ .product-overlay",v);s(v)?a():(f(v,b),d(v,b))}),jQuery(".product-overlay .categories, #shp-prodoverlay").each(function(){jQuery(this).on("click","h4 button",function(){var v=this,b=jQuery(v).closest("li");s(v)?l(v,b):(f(v,b),u(v,b))})}),g()}function y(p){var v=jQuery("#productCategoryMainTemplate").html(),b=new cdc.util.JsTemplate(v);return b.process({data:p})}jQuery().ready(function(){var p=cdc.util.locale.getLocale(location.href);if(p.getCountry!=null&&p.getLanguage!=null){var v=p.getLanguage,b=p.getCountry.toLowerCase(),Q;v==="en"&&b==="us"?Q="/c/dam/en/us/support/home/json/overlays/panes.json":Q="/c/dam/global/"+v+"_"+b+"/support/home/json/overlays/panes.json"}var T=cdc.rc.shpkeys.ProductCategoryTechnicalError1,E=cdc.rc.shpkeys.View_All_Product_Categories,R=cdc.rc.shpkeys.devices_url,L=setTimeout(c,1e4);jQuery.ajax({type:"GET",url:Q,dataType:"json",success:function(C){clearTimeout(L),myHtml=y(C),jQuery("#shp-product-listing .categories").html(myHtml),m()},error:function(){clearTimeout(L),myHtml=T+"<a href='http:"+R+"'>"+E+"</a> ",jQuery("#shp-product-listing .categories").html(myHtml)}})})});cdc.includer.loadJs("/etc/designs/cdc/fw/j/psa_typeahead_common.js");cdc.isSHP=jQuery("body").hasClass("cdc-support-home-page");var De="",Te="";typeof cdc.util<"u"&&(Te=cdc.util.findEnvironment());De=Te=="dev"||Te=="stage"?"-stage":"";var Ue=De=="-stage"?"vwhfk9jn9w38z8emvg7wxfmr":"23c3t93q6e7ffbtg3e42ahj9";document.getElementById("shp_psa")&&typeof document.getElementById("shp_psa").psaPrefsObj>"u"&&(document.getElementById("shp_psa").psaPrefsObj={psa_searchType:"support",psa_autosuggest_service_root:"https://tools.cisco.com",psa_autosuggest_service_prefix:"/support/cwsx/pscore/service/psc/",psa_autosuggest_entitlement:"guest",psa_autosuggest_task_name:"default",psa_autosuggest_service_environment:"env=active",psa_autosuggest_languagecode:cdc.page.localeString,psa_autosuggest_metrics_lpos:"shp_tab_products",psa_autosuggest_metrics_lid:"shp_tab_products_find"});document.getElementById("shp_dsa")&&typeof document.getElementById("shp_dsa").psaPrefsObj>"u"&&(document.getElementById("shp_dsa").psaPrefsObj={psa_searchType:"download",autosuggest_service_url:"https://api"+De+".cisco.com/software/services/public/catalog/v1/suggestions",autosuggest_max_results_count:"251",apikey:Ue,autosuggest_max_results_error_message:cdc.shp.dlm.maxResults,autosuggest_zero_results_error_message:cdc.shp.dlm.noResults,accessLevel:"4",softwareTypeUrl:"/cisco/software/",isPSAPortlet:!0,newWin_Prop:"toolbar=yes,menubar=no,location=yes,scrollbars=yes,resizable=yes,width=800,height=600",autoappendmetrics:"&appid=101",psa_autosuggest_metrics_lpos:"shp_tab_downloads",psa_autosuggest_metrics_lid:"shp_tab_downloads_find"});jQuery("#shp").hasClass("entitled")?(cdc.includer.loadJs("/etc/designs/cdc/fw/lib/jquery.tablesorter.min.js"),cdc.includer.loadJs("/etc/designs/cdc/fw/lib/jquery.tools.min.js"),cdc.includer.loadJs("/etc/designs/cdc/fw/lib/jquery_tache.js"),cdc.includer.loadJs("/etc/designs/cdc/fw/w/cl/c22/c22v2.js"),setTimeout(function(){cdc.includer.loadJs("/etc/designs/cdc/fw/w/cl/id30/id30v2.js")},1e3),cdc.includer.loadJs("/etc/designs/cdc/fw/softwareportal/js/download.js"),cdc.includer.loadJs("/etc/designs/cdc/fw/softwareportal/js/sapopup.js"),cdc.includer.loadJs("/etc/designs/cdc/fw/softwareportal/js/eulacontent.js"),cdc.includer.loadJs("/etc/designs/cdc/fw/softwareportal/js/K9Form.js"),cdc.includer.loadJs("/web/fw/softwareportal/js/jquery.simplemodal.js"),cdc.includer.loadCss("/web/fw/softwareportal/css/sdpsupport.css")):cdc.includer.loadJs("/etc/designs/cdc/fw/w/cl/id30/id30v4.js");cdc.rc.downloadsFind={screenSize:"",DomEventDispatcherObj:{moveSearchBoxTop:function(){(cdc.rc.downloadsFind.screenSize=="short"||cdc.rc.downloadsFind.screenSize=="xsmall")&&window.scrollTo(0,$("#shp-support-download-searchstring").offset().top)}},init:function(){var e=!!jQuery("#ie8").length,t=jQuery(".downloadsFind"),s=jQuery("#shp-support-download-searchstring",t),r=s.val();s.focus(function(){s.css("color","#525252").select(),e||(cdc.rc.downloadsFind.screenSize=cdc.breakpoint.getScreenSize(),cdc.rc.downloadsFind.DomEventDispatcherObj.moveSearchBoxTop())}),s.blur(function(){s.val()==""&&(s.css("color","#767676"),s.val(r))}),jQuery("#mm-support-download-submitbutton",t).click(function(a){var d=s.val();if(d==""||d==r)return a.preventDefault(),!1})}};cdc.rc.downloadsFind.init();jQuery().ready(function(){typeof cdc>"u"&&(cdc={}),typeof cdc.rc>"u"&&(cdc.rc={}),cdc.rc.pagination=function(e){var t,s,r,a,d=".cdc-rc-paginationWidget",h="",u=5,l=1,o="medium",c,f;function g(Q){var T=(Q-1)*u,E=Q*u;c.hide(),c.slice(T,E).show();var R=a+" .pageControl button";jQuery(R).removeClass("inactive"),l===1?jQuery(R+":first").addClass("inactive"):l===t&&jQuery(R+":last").addClass("inactive"),jQuery(R).eq(l).addClass("inactive")}if(typeof e=="string"?a=e:(a=e.myId,e.listClass&&(d=e.listClass),r=a+" "+d,e.type&&(h=e.type),e.numPerPage&&(u=e.numPerPage),e.showPagesAt&&(o=e.showPagesAt)),c=jQuery("li",r),s=c.length,s>u){for(t=Math.ceil(s/u),t>8&&(t=8),f='<button data-ind="<" aria-label="Previous page"><span/></button>',i=1;i<=t;i++)f+='<button data-ind="'+i+'" aria-label="Page '+i+'">'+i+"</button>";f+='<button data-ind=">" aria-label="Next page"><span/></button>';var m=cdc.rc.shpkeys.showmore.replace("[#N]",s-u).replace("[type]",h),y=cdc.rc.shpkeys.showonly.replace("[#N]",u).replace("[type]",h);controlsTemplate='<div class="cdc-rc-widget-pagination-control"><button class="showmore">+ '+m+" </button>",controlsTemplate+='<button class="showless">- '+y+" </button>",controlsTemplate+='<div class="pageControl">'+f+"</div></div>",jQuery(r).append(controlsTemplate);var p=cdc.breakpoint.getScreenSize();cdc.breakpoint.breakpoints[p]>=cdc.breakpoint.breakpoints[o]?v():b(),jQuery(a+" .cdc-rc-widget-pagination-control button").on("click",function(Q){var T=jQuery(this);if(T.hasClass("showmore"))c.show(),T.hide(),jQuery(a+" .showless").show();else if(T.hasClass("showless"))g(1),T.hide(),jQuery(a+" .showmore").show();else{if(T.hasClass("inactive")){Q.preventDefault();return}var E=T.attr("data-ind");E==="<"?l--:E===">"?l++:l=parseInt(E),g(l),cdc.shp.setY()}})}function v(){jQuery(a+" .showless").hide(),jQuery(a+" .showmore").hide(),g(l),jQuery(a+" .pageControl").show()}function b(){jQuery(a+" .pageControl").hide(),jQuery(a+" .showless").hide(),g(1),jQuery(a+" .showmore").show()}jQuery(".lt-ie9").length?v():(cdc.breakpoint.onEnter(v,cdc.breakpoint.breakpoints[o]),cdc.breakpoint.onExit(b,cdc.breakpoint.breakpoints[o])),jQuery(a+" .showless").hide(),g(l)}});window.cdc||(window.cdc={});window.cdc.shp||(window.cdc.shp={});window.cdc.shp.mySupport||(window.cdc.shp.mySupport={});window.cdc.shp.mySupport.events||(window.cdc.shp.mySupport.events={});(function(){if(jQuery(".cdc-support-home-page").length){let r=function(d){d==="MSOpenCases"&&!jQuery("#"+d).hasClass("needLogin")?(cdc.shp.mySupport.events.initCases&&(cdc.shp.mySupport.events.initCases(),cdc.shp.mySupport.events.initCases=null),cdc.shp.mySupport.events.showCases&&cdc.shp.mySupport.events.showCases()):d==="MSDownloadHistory"&&!jQuery("#"+d).hasClass("needLogin")?(cdc.shp.mySupport.events.initDownloads&&(cdc.shp.mySupport.events.initDownloads(),cdc.shp.mySupport.events.initDownloads=null),cdc.shp.mySupport.events.showDownloads&&cdc.shp.mySupport.events.showDownloads()):d==="MSRVProducts"&&!jQuery("#"+d).hasClass("needLogin")?(cdc.shp.mySupport.events.initProducts&&(cdc.shp.mySupport.events.initProducts(),cdc.shp.mySupport.events.initProducts=null),cdc.shp.mySupport.events.showProducts&&cdc.shp.mySupport.events.showProducts()):d==="MSRVDocuments"&&!jQuery("#"+d).hasClass("needLogin")?(cdc.shp.mySupport.events.initDocuments&&(cdc.shp.mySupport.events.initDocuments(),cdc.shp.mySupport.events.initDocuments=null),cdc.shp.mySupport.events.showDocuments&&cdc.shp.mySupport.events.showDocuments()):d==="MSDevices"&&!jQuery("#"+d).hasClass("needLogin")&&(cdc.shp.mySupport.events.initDevices&&(cdc.shp.mySupport.events.initDevices(),cdc.shp.mySupport.events.initDevices=null),cdc.shp.mySupport.events.showDevices&&cdc.shp.mySupport.events.showDevices())},a=function(){var d=jQuery("#shpMySupport > .borderWrapper > .accordion"),h=d.find("> li > button"),u=cdc.util.getParameter("shpMySupport"),l={cases:"MSOpenCases",downloads:"MSDownloadHistory",products:"MSRVProducts",documents:"MSRVDocuments",devices:"MSDevices"};if(u!==""&&l[u]&&cdc.util.ls.setConfigInfo(e,l[u]),cdc.util.ls.getConfigInfo(e)!=="false"){var o=cdc.util.ls.getConfigInfo(e);jQuery("#shpMySupport ul li button").removeClass("open"),jQuery("#"+o).addClass("open"),r(o)}function c(f){var g=jQuery(f.target);if(g.hasClass("caret")?g.parent().toggleClass("open"):g.toggleClass("open"),g.hasClass("open")){cdc.util.ls.setConfigInfo(e,g.attr("id"));for(var m=0;m<h.length;m++){var y=h[m];if(y!==f.target){var p=jQuery(y);p.removeClass("open")}}r(g.attr("id"))}else cdc.util.ls.setConfigInfo(e)}jQuery("#shpMySupport > .borderWrapper > .accordion > li > button").on("click",c)};var t=r,s=a,e="shp-accordion-drawer";jQuery(document).ready(a)}})();cdc.shp.mySupport={events:{initCases:null,initDownloads:null,initProducts:null,initDocuments:null,initDevices:null,showCases:null,showDownloads:null,showProducts:null,showDocuments:null,showDevices:null},loginClick:function(e){var t="/c/login/index.html",s=cdc.util.findEnvironment();t+="?referer="+window.location.pathname+encodeURIComponent(window.location.search),window.location.href=t},init:function(){jQuery("#shpMySupport").on("click",".loginButton",cdc.shp.mySupport.loginClick)}};jQuery(document).ready(cdc.shp.mySupport.init);jQuery(document).ready(function(){if(cdc.shp.isUserLoggedIn==!1){var e=cdc.rc.shpkeys.loginRequired;jQuery("#services-smartnet .needLock").append("<img src='/etc/designs/cdc/fw/i/icon_lock_small.png' alt='"+e+"'/>")}});jQuery(document).ready(function(){if(cdc.shp.isUserLoggedIn==!1){var e=cdc.rc.shpkeys.loginRequired;jQuery("#support-cases .need-lock-white").append("<img src='/etc/designs/cdc/fw/i/lock-white.png' alt='"+e+"'/>"),jQuery("#support-cases .need-lock").append("<img src='/etc/designs/cdc/fw/i/icon_lock_small.png' alt='"+e+"'/>")}});document.getElementById("shp-msm-downloads")&&(cdc.util.ensureNamespace("cdc.shp.msmDownloads"),cdc.shp.msmDownloads=new function(){this.selector="#shp-msm-downloads",this.myLabel="Download History",this.myToken="";var e=!1,t=cdc.util.matchEnvironment(window.location.host);t=t=="prod"?"":"-stage";var s="https://apix"+t+".cisco.com",r="https://software"+t+".cisco.com",a=s+"/software/services/personalization/v1/mydownloads";this.sdsAssetsUrl="//www"+t+".cisco.com",this.needSdsAssets=!0;function d(h){var u=jQuery("#msmDownloadErrorTemplate").html(),l=new cdc.util.JsTemplate(u),o=l.process({});jQuery(cdc.shp.msmDownloads.selector).html(o)}this.init=function(){var h=setTimeout(d,1e4);jQuery.ajax({type:"GET",beforeSend:function(f){f.setRequestHeader("Authorization","Bearer "+cdc.shp.msmDownloads.myToken)},url:a,success:function(f){clearTimeout(h),c(f)},error:function(f){clearTimeout(h),d(f)}});function u(f){return r+"/download/type.html?mdfid="+f}function l(f){return s+"/software/services/image/v1/details/"+f}function o(f,g){return r+"/download/release.html?mdfid="+f.MdfId+"&softwareid="+f.SoftwareId+"&release="+g}function c(f){if(f.error||!f.response){d(f);return}var g=f.response,m=[];if(g.length===0){var y=jQuery("#msmNoDownloadsTemplate").html(),p=new cdc.util.JsTemplate(y),v=p.process({});jQuery(cdc.shp.msmDownloads.selector).html(v)}else{for(var b=0;g[b];b++)m[b]={},m[b].mdfName=g[b].MdfName,m[b].sdsUrl=u(g[b].MdfId),m[b].description=g[b].SoftwareType,m[b].latestRelease=g[b].LatestRelVer,m[b].lastDownload=g[b].PrevRelVer,g[b].ltstimagestatus==="N"?(m[b].urlTypeLatest="release",m[b].infoUrlLatest=o(g[b],g[b].latestRelVer)):(m[b].urlTypeLatest="details",m[b].infoUrlLatest=l(g[b].LatestImageGuId)),g[b].previmagestatus==="N"?(m[b].urlTypeLast="unavailable",m[b].infoUrlLast=o(g[b],g[b].prevRelVer)):(m[b].urlTypeLast="details",m[b].infoUrlLast=l(g[b].PrevImageId));var Q=jQuery("#msmDownloadsRow").html(),T=new cdc.util.JsTemplate(Q),E=jQuery("#msmDownloadsTemplate").html(),R=new cdc.util.JsTemplate(E),L=R.process(m);jQuery(cdc.shp.msmDownloads.selector).html(L);var C=new cdc.rc.pagination({myId:cdc.shp.msmDownloads.selector,type:"Downloads"}),z=jQuery("#myrecentdownloads button.details"),I=jQuery("#myrecentdownloads .detailpanel");I.each(function(){cdc.expandPanel(jQuery(this),"make")}),z.on("click",function(){var M=this,P=jQuery(M),w=P.parents("tr").next("tr").find(".detailpanel"),S=jQuery("#shp-msm-downloads .cdc-expandPanel-visible");if(S.length&&S.attr("data-panelid")!==w.attr("data-panelid")&&cdc.expandPanel(S,"toggle"),cdc.expandPanel(w,"toggle"),w.toggleClass("active"),P.attr("data-called")!="true")if(P.attr("data-called","true"),P.attr("data-show")==="release"){var A={};A.releaseUrl=P.attr("data-url"),A.productName=P.attr("data-productname"),A.softwaretype=P.attr("data-softwaretype"),A.release=P.attr("data-release"),_(A,M,"#msmDownloadInsertReleaseTemplate")}else P.attr("data-show")==="unavailable"?_({},M,"#msmDownloadInsertUnavailableTemplate"):jQuery("div",w).length<1&&jQuery.ajax({type:"GET",beforeSend:function(k){k.setRequestHeader("Authorization","Bearer "+cdc.shp.msmDownloads.myToken)},url:P.attr("data-url"),success:function(k){_(k,M,"#msmDownloadInsertDetailsTemplate")},error:function(k){_(f,M,"#msmDownloadErrorTemplate")}});function _(k,x,B){var D=jQuery(B).html(),N=new cdc.util.JsTemplate(D),O=N.process(k);if(jQuery(x).parents("tr").next("tr").find(".detailpanel").append(O),jQuery("div.detailpanel").parent().css({width:"100%","margin-left":"0","padding-right":"0"}),B=="#msmDownloadInsertDetailsTemplate"&&cdc.shp.msmDownloads.needSdsAssets){jQuery.getScript(cdc.shp.msmDownloads.sdsAssetsUrl+"/web/fw/softwareportal/js/K9Form.js"),jQuery.getScript(cdc.shp.msmDownloads.sdsAssetsUrl+"/web/fw/softwareportal/js/sapopup.js"),jQuery.getScript(cdc.shp.msmDownloads.sdsAssetsUrl+"/web/fw/softwareportal/js/eulacontent.js"),jQuery.getScript(cdc.shp.msmDownloads.sdsAssetsUrl+"/web/fw/softwareportal/js/download.js");var V=cdc.shp.msmDownloads.sdsAssetsUrl+"/web/fw/softwareportal/css/swcdownloadplugin.css";jQuery("head").append('<link type="text/css" rel="stylesheet" href="'+V+'" />'),cdc.shp.msmDownloads.needSdsAssets=!1}}})}}}},typeof cdc>"u"&&(cdc={}),typeof cdc.shp>"u"&&(cdc.shp={}),typeof cdc.shp.mySupport>"u"&&(cdc.shp.mySupport={}),typeof cdc.shp.mySupport.events>"u"&&(cdc.shp.mySupport.events={}),Ve=cdc.shp.msmDownloads.selector,We=cdc.shp.msmDownloads.myLabel,Qe=document.URL,we="",Oe="https://"+window.location.host+"/c/contentReuse/en/us/framework/Oauth/WEMRedirectURL.html",Qe.indexOf("-devint")!=-1||Qe.indexOf("-stage")!=-1||Qe.indexOf("-pstage")!=-1?we="655ehwgg3z6msenkcx3hgcmc":we="kp2w4s2z9kqc8sfc2ebfxvb3",cdc.oauth.getToken(function(e){cdc.shp.msmDownloads.myToken=e,cdc.shp.mySupport.events.initDownloads=cdc.shp.msmDownloads.init},we,Oe));var Ve,We,Qe,we,Oe;document.getElementById("shp-msmDevices")&&(shpMsmDevicesLinkUpdate=function(){var e=jQuery("#shp-msmDevices a"),t=cdc.rc.shpkeys.stageDevicesUrl,s=cdc.util.findEnvironment();s!=="prod"&&e.attr("href",t)},shpMsmDevicesLinkUpdate());typeof cdc>"u"&&(cdc={});typeof cdc.shp>"u"&&(cdc.shp={});cdc.shp.recentlyViewed={documentStoreName:"cdc-shp-visiteddoclinks",productStoreName:"cdc-shp-visitedproductlinks",arrayMaxSize:40,getDocLinks:function(){return cdc.util.ls.getConfigInfo(cdc.shp.recentlyViewed.documentStoreName)||[]},getProductLinks:function(){return cdc.util.ls.getConfigInfo(cdc.shp.recentlyViewed.productStoreName)||[]},setDocLink:function(e){var t=cdc.shp.recentlyViewed.getDocLinks();delete e.mdfId;for(var s=0;s<t.length;s++)if(t[s].href===e.href){t.splice(s,1);break}t.unshift(e),t=t.slice(0,cdc.shp.recentlyViewed.arrayMaxSize),cdc.util.ls.setConfigInfo(cdc.shp.recentlyViewed.documentStoreName,t)},setProductLink:function(e){for(var t=cdc.shp.recentlyViewed.getProductLinks(),s=0;s<t.length;s++)if(t[s].href===e.href){t.splice(s,1);break}t.unshift(e),t=t.slice(0,cdc.shp.recentlyViewed.arrayMaxSize),cdc.util.ls.setConfigInfo(cdc.shp.recentlyViewed.productStoreName,t)},setSupportSeriesView:function(){if(jQuery(".cdc-support-series").length){var e=window.location.pathname+window.location.search,t=jQuery("#fw-pagetitle,#fw-pagetitle2").text();if(t.length<1&&(t=jQuery("#mb-title-nav-bar .title-page").text()),t.length>0){var s={viewDate:new Date().getTime(),href:e,text:t};cdc.shp.recentlyViewed.setProductLink(s)}}},setSupportModelView:function(){if(jQuery(".cdc-support-model").length){var e=window.location.pathname+window.location.search,t=jQuery("#fw-pagetitle,#fw-pagetitle2").text();if(t.length>0){var s={viewDate:new Date().getTime(),href:e,text:t};cdc.shp.recentlyViewed.setProductLink(s)}}},initDocuments:function(){var e=cdc.shp.recentlyViewed.getDocLinks(),t=jQuery("#shpRVDocumentList").html(),s=new cdc.util.JsTemplate(t),r=jQuery("#recentlyViewedDocuments");r.empty(),r.append(s.process({listData:e}))},initProducts:function(){var e=cdc.shp.recentlyViewed.getProductLinks(),t;e.length>0?t=jQuery("#shpRVProductList").html():t=jQuery("#shpRVProductList-noData").html();var s=new cdc.util.JsTemplate(t),r=jQuery("#recentlyViewedProducts");if(r.empty(),r.append(s.process({listData:e})),e.length>0)var a=new cdc.rc.pagination({myId:"#recentlyViewedProducts",type:"Products",numPerPage:10})},init:function(){jQuery(".cdc-support-home-page").length&&cdc.shp.recentlyViewed.initProducts(),cdc.shp.recentlyViewed.setSupportSeriesView(),cdc.shp.recentlyViewed.setSupportModelView()}};jQuery(document).ready(cdc.shp.recentlyViewed.init);jQuery("#shp-msm-openSupportCases").length>0&&(cdc.shp.msmOpenSupportCases={init:function(){var e=cdc.util.matchEnvironment(window.location.host);e=e=="prod"?"":"1-stage";var t="https://mycase"+e+".cloudapps.cisco.com/sr/decca/opensrs",s=setTimeout(h,1e4);jQuery.ajax({type:"GET",url:t,dataType:"jsonp",success:function(c){var f=c;clearTimeout(s),typeof c<"u"&&f.statusCode=="SUCCESS"?f.responseDetails.cases.length!=0?r(c.responseDetails):l({}):typeof c<"u"&&f.statusCode=="FAILURE"?o("error"):h(c)},error:function(c){clearTimeout(s),h(c)}});function r(c){var f=c.cases,g=[];if(f.constructor===Array){f.sort(d);for(var m=0;m<5&&f[m];m++)g.push(a(f[m]))}else g.push(a(f));u({modelData:g})}function a(c){var f="https://mycase"+e+".cloudapps.cisco.com/",g={};g.title=c.summary,g.title.length>75&&(g.title=g.title.substring(0,75),g.title+="..."),g.caseID=c.caseNumber,g.url=f+g.caseID,g.severity=c.priority,g.statusName=c.status;var m=new Date(c.lastModifiedDate),y=m.toLocaleString({year:"numeric",month:"short",day:"numeric"});return g.dateTime=y.replace(/:\d\d( |$)/," "),g.dateTimeMed=g.dateTime.replace("AM","").replace("PM",""),g}function d(c,f){var g=new Date(c.lastModifiedDate.split("-")),m=new Date(f.lastModifiedDate.split("-"));return m-g}function h(c){c||(c={});var f=jQuery("#openSupportCasesErrorTemplate").html(),g=new cdc.util.JsTemplate(f),m=jQuery("#shp-msm-openSupportCases");m.html(g.process(c))}function u(c){var f=jQuery("#openSupportCasesTemplate").html(),g=new cdc.util.JsTemplate(f),m=jQuery("#shp-msm-openSupportCases");if(m.html(g.process(c)),e=="-stage"){var y=cdc.rc.shpkeys.stageUploadUrl,p=jQuery(".uploadurl"),v;if(p.length>0)for(var b=0;b<p.length;b++)v=p[b].search,jQuery(p[b]).attr("href",y+v)}}function l(){var c=jQuery("#noOpenSupportCasesTemplate").html(),f=new cdc.util.JsTemplate(c),g=jQuery("#shp-msm-openSupportCases");g.html(f.process({}))}function o(c){var f=jQuery("#openSupportCasesNoDataTemplate").html(),g=new cdc.util.JsTemplate(f),m=jQuery("#shp-msm-openSupportCases");m.html(g.process(c))}}},typeof cdc>"u"&&(cdc={}),typeof cdc.shp>"u"&&(cdc.shp={}),typeof cdc.shp.mySupport>"u"&&(cdc.shp.mySupport={}),typeof cdc.shp.mySupport.events>"u"&&(cdc.shp.mySupport.events={}),cdc.shp.mySupport.events.initCases=cdc.shp.msmOpenSupportCases.init);var Ft=Re(qe(),1);(function(e){var t=function(r){this.origHtmlMargin=parseFloat(e("html").css("margin-top")),this.options=e.extend({},e.smartbanner.defaults,r);var a=navigator.standalone,d=navigator.userAgent;if(this.options.force?this.type=this.options.force:d.match(/Windows Phone 8/i)!=null&&d.match(/Touch/i)!==null?this.type="windows":d.match(/iPhone|iPod/i)!=null||d.match(/iPad/)&&this.options.iOSUniversalApp?d.match(/Safari/i)!=null&&(d.match(/CriOS/i)!=null||window.Number(d.substr(d.indexOf("OS ")+3,3).replace("_","."))<6)&&(this.type="ios"):d.match(/\bSilk\/(.*\bMobile Safari\b)?/)||d.match(/\bKF\w/)||d.match("Kindle Fire")?this.type="kindle":d.match(/Android/i)!=null&&(this.type="android"),!(!this.type||a||this.getCookie("sb-closed")||this.getCookie("sb-installed"))){this.scale=this.options.scale=="auto"?e(window).width()/window.screen.width:this.options.scale,this.scale<1&&(this.scale=1);var h=e(this.type=="android"?'meta[name="google-play-app"]':this.type=="ios"?'meta[name="apple-itunes-app"]':this.type=="kindle"?'meta[name="kindle-fire-app"]':'meta[name="msApplication-ID"]');if(h.length!=0){if(this.type=="windows")this.appId=e('meta[name="msApplication-PackageFamilyName"]').attr("content");else{var u=/app-id=([^\s,]+)/.exec(h.attr("content"));if(u)this.appId=u[1];else return}this.title=this.options.title?this.options.title:h.data("title")||e("title").text().replace(/\s*[|\-].*$/,""),this.author=this.options.author?this.options.author:h.data("author")||(e('meta[name="author"]').length?e('meta[name="author"]').attr("content"):window.location.hostname),this.iconUrl=h.data("icon-url"),this.price=h.data("price"),this.create(),this.show(),this.listen()}}};t.prototype={constructor:t,create:function(){var r,a=this.options.url?this.options.url:(this.type=="windows"?"ms-windows-store:navigate?appid=":this.type=="android"?"market://details?id=":this.type=="kindle"?"amzn://apps/android?asin=":"https://itunes.apple.com/"+this.options.appStoreLanguage+"/app/id")+this.appId,d=this.price||this.options.price,h=d?d+" - "+(this.type=="android"?this.options.inGooglePlay:this.type=="kindle"?this.options.inAmazonAppStore:this.type=="ios"?this.options.inAppStore:this.options.inWindowsStore):"",u=this.options.iconGloss===null?this.type=="ios":this.options.iconGloss;this.type=="android"&&this.options.GooglePlayParams&&(a=a+"&referrer="+this.options.GooglePlayParams);var l='<div id="smartbanner" class="'+this.type+'"><div class="sb-container"><a href="#" class="sb-close">&times;</a><span class="sb-icon"></span><div class="sb-info"><strong>'+this.title+"</strong><span>"+this.author+"</span><span>"+h+'</span></div><a href="'+a+'" class="sb-button"><span>'+this.options.button+"</span></a></div></div>";this.options.layer?e(this.options.appendToSelector).append(l):e(this.options.appendToSelector).prepend(l),this.options.icon?r=this.options.icon:this.iconUrl?r=this.iconUrl:e('link[rel="apple-touch-icon-precomposed"]').length>0?(r=e('link[rel="apple-touch-icon-precomposed"]').attr("href"),this.options.iconGloss===null&&(u=!1)):e('link[rel="apple-touch-icon"]').length>0?r=e('link[rel="apple-touch-icon"]').attr("href"):e('meta[name="msApplication-TileImage"]').length>0?r=e('meta[name="msApplication-TileImage"]').attr("content"):e('meta[name="msapplication-TileImage"]').length>0&&(r=e('meta[name="msapplication-TileImage"]').attr("content")),r?(e("#smartbanner .sb-icon").css("background-image","url("+r+")"),u&&e("#smartbanner .sb-icon").addClass("gloss")):e("#smartbanner").addClass("no-icon"),this.bannerHeight=e("#smartbanner").outerHeight()+2,this.scale>1&&(e("#smartbanner").css("top",parseFloat(e("#smartbanner").css("top"))*this.scale).css("height",parseFloat(e("#smartbanner").css("height"))*this.scale).hide(),e("#smartbanner .sb-container").css("-webkit-transform","scale("+this.scale+")").css("-msie-transform","scale("+this.scale+")").css("-moz-transform","scale("+this.scale+")").css("width",e(window).width()/this.scale)),e("#smartbanner").css("position",this.options.layer?"absolute":"static")},listen:function(){e("#smartbanner .sb-close").on("click",e.proxy(this.close,this)),e("#smartbanner .sb-button").on("click",e.proxy(this.install,this))},show:function(r){var a=e("#smartbanner");if(a.stop(),this.options.layer)a.animate({top:0,display:"block"},this.options.speedIn).addClass("shown").show(),e(this.pushSelector).animate({paddingTop:this.origHtmlMargin+this.bannerHeight*this.scale},this.options.speedIn,"swing",r);else if(e.support.transition){a.animate({top:0},this.options.speedIn).addClass("shown");var d=function(){e("html").removeClass("sb-animation"),r&&r()};e(this.pushSelector).addClass("sb-animation").one(e.support.transition.end,d).emulateTransitionEnd(this.options.speedIn).css("margin-top",this.origHtmlMargin+this.bannerHeight*this.scale)}else a.slideDown(this.options.speedIn).addClass("shown")},hide:function(r){var a=e("#smartbanner");if(a.stop(),this.options.layer)a.animate({top:-1*this.bannerHeight*this.scale,display:"block"},this.options.speedIn).removeClass("shown"),e(this.pushSelector).animate({paddingTop:this.origHtmlMargin},this.options.speedIn,"swing",r);else if(e.support.transition){this.type!=="android"?a.css("top",-1*this.bannerHeight*this.scale).removeClass("shown"):a.css({display:"none"}).removeClass("shown");var d=function(){e("html").removeClass("sb-animation"),r&&r()};e(this.pushSelector).addClass("sb-animation").one(e.support.transition.end,d).emulateTransitionEnd(this.options.speedOut).css("margin-top",this.origHtmlMargin)}else a.slideUp(this.options.speedOut).removeClass("shown")},close:function(r){r.preventDefault(),this.hide(),this.setCookie("sb-closed","true",this.options.daysHidden)},install:function(r){this.options.hideOnInstall&&this.hide(),this.setCookie("sb-installed","true",this.options.daysReminder)},setCookie:function(r,a,d){var h=new Date;h.setDate(h.getDate()+d),a=encodeURI(a)+(d==null?"":"; expires="+h.toUTCString()),document.cookie=r+"="+a+"; path=/;"},getCookie:function(r){var a,d,h,u=document.cookie.split(";");for(a=0;a<u.length;a++)if(d=u[a].substr(0,u[a].indexOf("=")),h=u[a].substr(u[a].indexOf("=")+1),d=d.replace(/^\s+|\s+$/g,""),d==r)return decodeURI(h);return null},switchType:function(){var r=this;this.hide(function(){r.type=r.type=="android"?"ios":"android";var a=e(r.type=="android"?'meta[name="google-play-app"]':'meta[name="apple-itunes-app"]').attr("content");r.appId=/app-id=([^\s,]+)/.exec(a)[1],e("#smartbanner").detach(),r.create(),r.show()})}},e.smartbanner=function(r){var a=e(window),d=a.data("smartbanner"),h=typeof r=="object"&&r;d||a.data("smartbanner",d=new t(h)),typeof r=="string"&&d[r]()},e.smartbanner.defaults={title:null,author:null,price:"FREE",appStoreLanguage:"us",inAppStore:"On the App Store",inGooglePlay:"In Google Play",inAmazonAppStore:"In the Amazon Appstore",inWindowsStore:"In the Windows Store",GooglePlayParams:null,icon:null,iconGloss:null,button:"VIEW",url:null,scale:"auto",speedIn:300,speedOut:400,daysHidden:15,daysReminder:90,force:null,hideOnInstall:!0,layer:!1,iOSUniversalApp:!0,appendToSelector:"body",pushSelector:"html"},e.smartbanner.Constructor=t;function s(){var r=document.createElement("smartbanner"),a={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var d in a)if(r.style[d]!==void 0)return{end:a[d]};return!1}e.support.transition===void 0&&(e.fn.emulateTransitionEnd=function(r){var a=!1,d=this;e(this).one(e.support.transition.end,function(){a=!0});var h=function(){a||e(d).trigger(e.support.transition.end)};return setTimeout(h,r),this},e(function(){e.support.transition=s()}))})(window.jQuery);jQuery(document).ready(function(){jQuery("#nn11v1 span").on("click",function(e){e.preventDefault(),e.stopPropagation(),jQuery(this).hasClass("open")?(jQuery(this).removeClass("open").addClass("close"),jQuery(this).closest("li").removeClass("open").addClass("close")):(jQuery(this).removeClass("close").addClass("open"),jQuery(this).closest("li").removeClass("close").addClass("open"))}),jQuery("#nn11v1 ul li a").on("click",function(e){jQuery(this).find("span").hasClass("open")&&jQuery(window).width()<=600?(e.preventDefault(),e.stopPropagation(),jQuery(this).children("span").removeClass("open").addClass("close"),jQuery(this).closest("li").removeClass("open").addClass("close")):jQuery(this).find("span").hasClass("close")&&jQuery(window).width()<=600&&(e.preventDefault(),e.stopPropagation(),jQuery(this).children("span").removeClass("close").addClass("open"),jQuery(this).closest("li").removeClass("close").addClass("open"))}),jQuery(".expander").on("click",function(){jQuery(this).children("div").hasClass("caret-up")?(jQuery("#nn11v1>ul").slideUp(100),$("#nn11v11").css("display","block"),jQuery(this).children("div").removeClass("caret-up").addClass("caret-down")):jQuery(this).children("div").hasClass("caret-down")&&(jQuery("#nn11v1>ul").slideDown(100),$("#nn11v11").css("display","none"),jQuery(this).children("div").removeClass("caret-down").addClass("caret-up"))})});var xe=xe||{};xe.util=xe.util||{};xe.util.addCorners=function(){};window.cdc||(window.cdc={});window.cdc.widget||(window.cdc.widget={});window.cdc.widget.imageViewer=function(){var e={controlId:0,embeddedId:0,isEmbedded:!1,deepLinkIndex:0,index:0,oldIndex:0,length:0,isZoomed:!1,thumbPageIndex:0,magicBoxWidth:0,thumbDisplayMax:1,noDataJSON:[{altText:"No Images",src:"/etc/designs/cdc/fw/i/responsive/void.png"}]},t={};function s(){return"#imageViewerLightBox"+e.controlId+(e.isEmbedded?"embedded":"")}function r(w,S,A){e.isEmbedded=!!A,e.index=0,e.oldIndex=0,e.controlId=w,e.deepLinkIndex=S||0,e.deepLinkIndex--;var _=jQuery("#imageViewerTemplate").html(),k=new cdc.util.JsTemplate(_);t.$body=jQuery("body"),A?(e.embeddedId=A,e.isEmbedded=!0,jQuery("#imageViewer_"+A).append(k.process({controlId:e.controlId,embedded:"embedded"}))):t.$body.append(k.process({controlId:e.controlId,embedded:""})),t.$viewBox=jQuery(s()),t.$window=jQuery(window),t.$document=jQuery(document),t.$theImageContainer=t.$viewBox.find(".theImageContainer"),t.$viewBox.on("click",".magicBox .thumbBox",v),t.$viewBox.on("click",".btnPrevious",b),t.$viewBox.on("click",".btnNext",Q),t.$viewBox.on("click",".btnPreviousThumbs",y),t.$viewBox.on("click",".btnNextThumbs",m),e.isEmbedded===!1&&(t.$viewBox.on("click",".btnClose-outside, .btnClose-inside",E),t.$theImageContainer.on("click",".btnZoomOut",C),t.$theImageContainer.on("click",".btnZoomIn",L),t.$document.on("keydown",g)),e.debouncedResizeFunction=cdc.util.debounce(o,300),t.$window.on("resize",e.debouncedResizeFunction),t.$window.on("orientationchange",o),d(),o(),C(),a()}function a(){e.imgElt=t.$viewBox.find(".theImg"),e.wrapper=t.$theImageContainer;var w=new I;e.imgElt[0].ondragstart=function(){return!1},e.imgElt.on("touchstart mousedown",w.mouseDown),t.$body.on("touchmove mousemove",w.mouseMove),t.$body.on("touchend mouseup",w.mouseUp)}function d(){var w=cdc_widget_imageViewer_data[e.controlId]||e.noDataJSON,S=t.$viewBox;t.$jsWidthBox=S.find(".jsWidthBox"),t.$scrollBox=S.find(".scrollBox"),t.$scrollBoxArrow=S.find(".scrollBoxArrow"),t.$theImageTable=S.find(".theImageTable"),t.$theImageTableTd=t.$theImageTable.find("td"),t.$previewBox=S.find(".previewBox"),t.$theImg=S.find(".theImg"),t.$zoomIt=S.find(".zoomIt"),t.$imageBox=S.find(".imageBox"),t.$navBox=S.find(".navBox"),t.$thumbnailArrows=S.find(".scrollBoxArrow"),t.$thumbnailArrowButtons=t.$thumbnailArrows.find("button"),t.$thumbnailArrowButtonSpans=t.$thumbnailArrowButtons.find("span"),e.isEmbedded===!1&&t.$theImg.on("touchstart",P),e.length=w.length,e.length<2&&e.isEmbedded&&(t.$previewBox.hide(),t.$imageBox.css("padding-bottom","20px")),t.$jsWidthBox.empty();for(var A=jQuery("#imageViewerThumbTemplate").html(),_=new cdc.util.JsTemplate(A),k=0;k<w.length;k++){var x=_.process({data:w[k],index:k});t.$jsWidthBox.append(x)}t.$magicBox=S.find(".magicBox");var B=t.$magicBox.eq(e.length-1).position().left+t.$magicBox.outerWidth();t.$jsWidthBox.width(B+10+"px"),cdc.touch.swipe(t.$theImg[0],u),cdc.touch.swipe(t.$previewBox[0],l),e.deepLinkIndex>-1&&e.deepLinkIndex<w.length&&(e.index=e.deepLinkIndex),T(),S.find("div.thumbBox").one("click",function(){trackEvent.event("link",{element_type:"flash",element_name:$(this).parent().siblings("input").attr("id"),content_container:$(this).parents("div.imageViewerLightBox").attr("data-config-metrics-group"),campaign_page:$(this).parents("div.imageViewerLightBox").attr("data-config-metrics-title")})}),e.isEmbedded&&(t.$theImg.on("click",h),t.$zoomIt.on("click",h))}function h(){var w=new cdc.widget.imageViewer;w.init(e.controlId,e.index+1)}function u(w){e.isZoomed||(w==="toleft"?Q():w==="toright"&&b())}function l(w){e.isZoomed||(w==="toleft"?m():w==="toright"&&y())}function o(){var w=t.$jsWidthBox.height();t.$jsWidthBox.css("padding-top",w*.1+"px").css("padding-bottom",w*.1+"px");var S=t.$magicBox;w=S.height();var A=w/2*3;S.width(A);var _=S.length;t.$jsWidthBox.width(S.outerWidth()*S.length+S.length*5);var k=12,x=t.$thumbnailArrows.width()/2-k/2;t.$thumbnailArrowButtonSpans.css("left",x+"px");var B=t.$theImageTable,D=B.width(),N=B.height(),O=120,V=D-O*2,J=N/2*3;J>V&&(J=V);var Y=t.$theImageTableTd;Y.eq(1).width(J),t.$viewBox.height()-t.$previewBox.height()<t.$theImg.height()?t.$theImg.css("height",t.$viewBox.height()-t.$previewBox.height()+"px"):t.$theImg.css("height","auto"),t.$theImageContainer.height(t.$imageBox.height()),p()}function c(w){var S=t.$viewBox;S.find(".btnPrevious").prop("disabled",w===0),S.find(".btnNext").prop("disabled",w===e.length-1),S.find(".indexDisplay").text(w+1+" / "+e.length)}function f(){var w=t.$previewBox;w.find(".btnPrevious-scrollBox").prop("disabled",e.thumbPageIndex===0),w.find(".btnNext-scrollBox").prop("disabled",e.thumbPageIndex===e.maxPages-1)}function g(w){w.keyCode===37?(b(),w.preventDefault()):w.keyCode===39?(Q(),w.preventDefault()):w.keyCode===9?w.shiftKey?(b(),w.preventDefault()):(Q(),w.preventDefault()):w.keyCode===27&&(E(),w.preventDefault())}function m(){e.thumbPageIndex+1<e.maxPages&&p(e.thumbPageIndex+1)}function y(){e.thumbPageIndex-1>=0&&p(e.thumbPageIndex-1)}function p(w){var S=cdc_widget_imageViewer_data[e.controlId]||e.noDataJSON,A=.9;if(e.magicBoxWidth=t.$magicBox.outerWidth()+4,e.thumbDisplayMax=Math.floor(t.$previewBox.width()*A/e.magicBoxWidth),t.$scrollBox.width(e.thumbDisplayMax*e.magicBoxWidth),S.length<=e.thumbDisplayMax)t.$viewBox.find(".scrollBoxArrow").hide();else{var _=cdc.breakpoint.getScreenSize();(_==="short"||_==="xsmall")&&e.isEmbedded===!1?t.$scrollBoxArrow.hide():t.$scrollBoxArrow.show()}e.maxPages=Math.ceil(e.length/e.thumbDisplayMax),typeof w>"u"&&(w=Math.floor(e.index/e.thumbDisplayMax)),w>=0&&w<e.maxPages&&(t.$jsWidthBox.css("left",w*e.thumbDisplayMax*e.magicBoxWidth*-1+"px"),e.thumbPageIndex=w,f());var k=!1,x=0;S.length<e.thumbDisplayMax?(k=!0,x=S.length):w===e.maxPages-1&&(k=!0,x=S.length-(e.maxPages-1)*e.thumbDisplayMax),k&&t.$scrollBox.width(x*e.magicBoxWidth);var B=(t.$previewBox.width()-t.$scrollBox.width())/2;e.maxPages===1&&e.isEmbedded===!0&&(B=5),t.$scrollBox.css("left",B+"px")}function v(){var w=jQuery(this),S=parseInt(w.attr("data-index"),10);e.oldIndex=e.index,e.index=S,T()}function b(){e.index>0&&(e.oldIndex=e.index,e.index--,T())}function Q(){e.index<e.length-1&&(e.oldIndex=e.index,e.index++,T())}function T(){var w=cdc_widget_imageViewer_data[e.controlId]||e.noDataJSON;t.$theImg.attr("src",w[e.index].src),t.$theImg.attr("title",w[e.index].titleText),t.$theImg.attr("alt",w[e.index].altText),t.$viewBox.find(".bgThumbImage-"+e.oldIndex).css("background-image","linear-gradient(rgba(0, 0, 0, 0.25), rgba(0, 0, 0, 0.25)), url("+w[e.oldIndex].src+")").removeClass("selected"),t.$viewBox.find(".bgThumbImage-"+e.index).css("background-image","url("+w[e.index].src+")").addClass("selected");var S=t.$viewBox.find(".bgThumbImage-"+e.index);c(e.index);var A=t.$scrollBox,_=t.$jsWidthBox;R()&&C(),p()}function E(){t.$document.off("keydown",g),t.$window.off("resize",e.debouncedResizeFunction),t.$window.off("orientationchange",o),jQuery(".imageViewer").remove()}function R(){var w=t.$viewBox.find(".bgThumbImage-"+e.index).next()[0];return w.naturalWidth<=t.$theImageContainer.width()&&w.naturalHeight<=t.$theImageContainer.height()?(t.$viewBox.find(".theImageContainer .btnZoomOut").prop("disabled",!0),t.$viewBox.find(".theImageContainer .btnZoomIn").prop("disabled",!0),!1):!0}function L(){if(e.isZoomed=!0,t.$theImageContainer.addClass("isZoomed"),t.$viewBox.find(".theImageContainer .btnZoomOut").prop("disabled",!1),t.$viewBox.find(".theImageContainer .btnZoomIn").prop("disabled",!0),t.$viewBox.find(".theImageContainer .fix").css("display","none"),t.$theImg.width()>t.$theImageContainer.width()?t.$theImg.css("left",t.$theImg.width()/4*-1+"px"):t.$theImg.css("left","0px"),t.$theImg.height()>t.$theImageContainer.height())t.$theImg.css("top",t.$theImg.height()/4*-1+"px");else{var w=(t.$theImageContainer.height()-t.$theImg.height())/2;t.$theImg.css("top",w+"px")}return!1}function C(){return e.isZoomed=!1,t.$viewBox.find(".theImageContainer").removeClass("isZoomed"),t.$viewBox.find(".theImageContainer .btnZoomOut").prop("disabled",!0),t.$viewBox.find(".theImageContainer .btnZoomIn").prop("disabled",!1),t.$viewBox.find(".theImageContainer .fix").css("display","inline-block"),t.$theImg.css("left","0").css("top","0"),!1}function z(w){return w.originalEvent.targetTouches?w.originalEvent.targetTouches[0]:w}function I(){var w=!1,S=0,A=0,_=0,k=0,x,B,D,N;this.mouseDown=function(O){if(e.isZoomed){var V=z(O);w=!0,S=V.clientX,A=V.clientY,_=parseInt(e.imgElt.css("left"),10)||0,k=parseInt(e.imgElt.css("top"),10)||0,x=Math.min(e.wrapper.width()-e.imgElt.width(),0),B=Math.max(e.wrapper.width()-e.imgElt.width(),0),D=Math.min(e.wrapper.height()-e.imgElt.height(),0),N=Math.max(e.wrapper.height()-e.imgElt.height(),0)}},this.mouseMove=function(O){if(w&&e.isZoomed){var V=z(O),J=V.clientX-S,Y=V.clientY-A,G=J+_;G=Math.max(Math.min(G,B),x);var Z=Y+k;Z=Math.max(Math.min(Z,N),D);var se={left:G+"px",top:Z+"px"};e.imgElt.css(se),O.preventDefault()}},this.mouseUp=function(){w=!1}}var M=!1;function P(w){if(!M)return M=!0,setTimeout(function(){M=!1},300),!1;w.preventDefault(),R()&&(e.isZoomed?C():L())}return{init:function(w,S,A){r(w,S,A)},checkUrlParams:function(){if(window.cdc_widget_imageViewer_checkUrlParams_flag!==!0){window.cdc_widget_imageViewer_checkUrlParams_flag=!0;var w=cdc.util.getParameter("imageViewerId"),S=cdc.util.getParameter("imageViewerIndex");if(w!==""&&S!==""){S=parseInt(S,10);var A=new cdc.widget.imageViewer;A.init(w,S)}}}}};jQuery(document).ready(function(){var e=new cdc.widget.imageViewer;e.checkUrlParams()});var Je=jQuery("#fw-breadcrumb ul li").length;Je>5&&(jQuery("#fw-breadcrumb ul").addClass("is-ellipsed"),jQuery("#fw-breadcrumb ul li:first-child").after('<li class="lipse" title="Show All Breadcrumbs"><a href="#" tabindex="0">...</a><span class="caret"></span></li>'));var Ae=function(e){jQuery(e).parent().removeClass("is-ellipsed").addClass("de-ellipsed"),jQuery(e).css("display","none")};jQuery("#fw-breadcrumb li.lipse").on("click",function(e){e.preventDefault(),Ae(this)});jQuery("#fw-breadcrumb li.lipse").on("keydown",function(e){e.keyCode===13&&(e.preventDefault(),Ae(this))});jQuery(window).load(function(){if(cdc.resourcePath!=null&&cdc.resourcePath.indexOf("/lll")!=-1){let c=function(m){(jQuery("#drawertab-drawer-documentation").hasClass("active")&&jQuery("#info-documentation").hasClass("active")||jQuery("#drawertab-drawer-englishDocumentation").hasClass("active")&&jQuery("#info-englishDocumentation").hasClass("active"))&&(m=="short"||m=="xsmall"||m=="small")&&(jQuery("#drawertab-drawer-documentation,#drawertab-drawer-englishDocumentation").removeClass("active"),jQuery("#info-documentation,#info-englishDocumentation").removeClass("active"))},f=function(m,y){m.hide(),jQuery(".lll_dropdown_wrapper",jQuery(y)).length>0&&jQuery(".lll_dropdown_wrapper",jQuery(y)).remove();var p="";if($.each(m.children("option"),function(){p+="<li data-target="+jQuery(this).attr("value")+">"+jQuery(this).text()+"</li>"}),r!="EDIT"||r=="EDIT"&&y=="#info-englishDocumentation"){var v=jQuery(".heading",y),b=[];p="";for(var Q=0;Q<v.length;Q++)jQuery(v[Q]).next("ul.group").find("li").find("a").attr("href")!=""&&jQuery(v[Q]).next("ul.group").find("li").find("a").attr("href")!=null&&(jQuery(v[Q]).closest("div.GroupContainer").length>0?p+="<li data-target=#"+jQuery(v[Q]).closest("div.GroupContainer").prev().attr("name")+">"+jQuery(v[Q]).text()+"</li>":jQuery(v[Q]).prev().attr("name")!=null?p+="<li data-target=#"+jQuery(v[Q]).prev().attr("name")+">"+jQuery(v[Q]).text()+"</li>":p+="<li data-target=#"+jQuery(v[Q]).closest("ul").prev().attr("name")+">"+jQuery(v[Q]).text()+"</li>");var T=jQuery(m.children()[0]);p="<li data-target="+T.attr("value")+">"+T.text()+"</li>"+p}var E=m.parent("div.selectWrapper");E.append('<div class="lll_dropdown_wrapper"><div class="lll_dropdown_container"><a href="javascript:void(0)" class="lll_dropdown_anchor"><span>'+m.children("option:selected").text()+'</span><div class="arrow_down"></div></a><div class="lll_dropdown_options"><ul></ul></div></div></div>'),E.find(".lll_dropdown_options ul").html(p);var R=E.find(".lll_dropdown_options"),L=R.find("ul"),C=E.find(".lll_dropdown_anchor");R.css("display","none"),R.find("li").length>1&&jQuery(E).closest(".llldropmenu").show(),E.on("click",".lll_dropdown_anchor",function(){R.toggle(),C.children("div").toggleClass("arrow_up").toggleClass("arrow_down")}),L.on("click","li",function(){var x=jQuery(this).index();m.children("option").eq(x).prop("selected",!0),C.find("span").html(m.children("option:selected").text()),R.toggle(),C.children("div").toggleClass("arrow_up").toggleClass("arrow_down");var B={lpos:"lll_pg_topic",lid:"lll_pg_topic_selection",linktext:jQuery(this).text(),ev:"link",link:"topicdropdown"};trackEvent?.event("link",B),g(jQuery(this).attr("data-target"))}),jQuery("body").on("click",function(x){jQuery(x.target).closest("a").attr("class")!="lll_dropdown_anchor"&&(R.hide(),C.children("div").removeClass("arrow_up").addClass("arrow_down"))});var z=document.getElementsByClassName("lll_dropdown_options")[0];if(z){let x=function(V){M[V].classList.add("selected")},B=function(V){M[V].classList.remove("selected")},D=function(V){M[V].focus()},N=function(V){M[V].parentNode.scrollTop=M[V].offsetTop-M[V].parentNode.offsetTop},O=function(){R.hide(),C.children("div").removeClass("arrow_up").addClass("arrow_down")};var w=x,S=B,A=D,_=N,k=O,I=z.childNodes[0],M=I.childNodes,P=0;window.addEventListener("keydown",function(V){V.keyCode==13?(P!==0&&g(M[P].getAttribute("data-target")),P=0,O()):V.keyCode==40?(V.preventDefault(),P>=0&&B(P),P+=1,P>M.length-1&&(P=0),x(P),N(P),D(P)):V.keyCode==38?(V.preventDefault(),P>=0&&B(P),P-=1,P<0&&(P=M.length-1),x(P),N(P),D(P)):V.keyCode==27&&(P=0,O())})}},g=function(m){location.href=m};var u=c,l=f,o=g,e=cdc.breakpoint.getScreenSize(),t=cdc.currentPagePath+"/jcr:content/lll",s,r=wcmMode,a;c(e),jQuery("#info-documentation").length>0?(f(jQuery("#info-documentation .lll-cq .llldropmenu select"),"#info-documentation"),f(jQuery("#info-englishDocumentation .lll-cq .llldropmenu select"),"#info-englishDocumentation")):f(jQuery(".lll-cq .llldropmenu select"),".lll-cq"),jQuery("#drawertab-tab-englishDocumentation").on("click",function(){f(jQuery("#info-englishDocumentation .lll-cq .llldropmenu select"),"#info-englishDocumentation")}),jQuery("#drawertab-tab-documentation").on("click",function(){f(jQuery("#info-documentation .lll-cq .llldropmenu select"),"#info-documentation")}),jQuery(document).ajaxComplete(function(){cdc.breakpoint.getScreenSize()=="short"||cdc.breakpoint.getScreenSize()=="xsmall"||cdc.breakpoint.getScreenSize()=="small"||(jQuery("#drawertab-tab-englishDocumentation").length>0?f(jQuery("#info-englishDocumentation .lll-cq .llldropmenu select"),"#info-englishDocumentation"):f(jQuery(".lll-cq .llldropmenu select"),".lll-cq"))}),r=="EDIT"&&(s=CQ.WCM.getEditable(t),cdc.breakpoint.getScreenSize()=="short"||cdc.breakpoint.getScreenSize()=="xsmall"||cdc.breakpoint.getScreenSize()=="small"?(jQuery("#drawertab dt.dtname button#drawertab-drawer-documentation").on("click",function(){clearInterval(a),jQuery(this).hasClass("active")?(t=cdc.currentPagePath+"/jcr:content/lll",s=CQ.WCM.getEditable(t),s.show()):(t=cdc.currentPagePath+"/jcr:content/lll",s=CQ.WCM.getEditable(t),s.hide())}),clearInterval(a),a=setInterval(function(){t=cdc.currentPagePath+"/jcr:content/lll",s=CQ.WCM.getEditable(t),s!="undefined"&&s!=null&&(clearInterval(a),s.hide())},500)):(jQuery("#drawertab ul li button#drawertab-tab-englishDocumentation").on("click",function(){t=cdc.currentPagePath+"/jcr:content/lll",s=CQ.WCM.getEditable(t),s.hide()}),jQuery("#drawertab ul li button#drawertab-tab-documentation").on("click",function(){t=cdc.currentPagePath+"/jcr:content/lll",s=CQ.WCM.getEditable(t),s.show()}),jQuery(".3lm #info-englishDocumentation").hasClass("active")&&(clearInterval(a),a=setInterval(function(){t=cdc.currentPagePath+"/jcr:content/lll",s=CQ.WCM.getEditable(t),s!="undefined"&&s!=null&&(clearInterval(a),s.hide())},500))));var d=jQuery("#info-documentation .lll-cq .low-level .listing").find("li").length;if(d==0){var h=Granite.I18n.get("Cisco_No_Locale_Documents_are_Available")["sling:message"]===void 0?"":Granite.I18n.get("Cisco_No_Locale_Documents_are_Available")["sling:message"];jQuery("#info-documentation").html("<span>"+h+"</span>")}}});jQuery(window).on("load resize",function(){Ge()});function Ge(){jQuery(".moduleDisplayResponsive").css("height",jQuery(".moduleDisplayResponsive img").css("height"))}window.cdc||(window.cdc={});cdc.translationSelector=function(){function e(){if(typeof cdc>"u"&&(cdc={}),typeof cdc.translations>"u"&&(cdc.translations={}),cdc.translations.locale=="en_us"||cdc.translations.locale=="en_US"){var t={};if(cdc.translations.smp=="SMP"){jQuery.getJSON("/c/dam/assets/json/rootLocales.json",function(r){for(text=cdc.translations.map.replace(/[{}]/g,""),info=text.split(","),cdc.translations.locale.replace("_","-"),i=0;i<info.length;i++)info[i]=info[i].trim(),t[info[i].split("=")[0]]=info[i].split("=")[1];jQuery("ul#smplangselector").empty();for(var a in r)if(r.hasOwnProperty(a)&&t.hasOwnProperty(a)){var d=t[a];a.substring(0,3)!="en-"&&r[a]!=null&&jQuery("ul#smplangselector").append('<li data-label="'+a.replace("-","_")+'" tabindex="0" aria-labelledby="'+r[a]+'" title="'+r[a]+'"><a  href="'+d+'" title="'+r[a]+'" tabindex="-1" aria-label="'+r[a]+'">'+r[a]+"</a></li>")}}),jQuery("#smplangselector").hide();var s=jQuery("#smplangbutton");s.off("click"),s.on("click",function(r){jQuery("#smplangselector").toggle()}),jQuery(document).on("click touchstart",function(r){var a=jQuery(r.target);!a.parents().hasClass("lang-list")&&!a.closest("div").hasClass("smplangdropdown")&&jQuery("#smplangselector").hide()}),jQuery(document).on("keydown",function(r){r.keyCode===27?(r.preventDefault(),jQuery("#smplangselector").hide(),jQuery("#smplangbutton").focus()):r.keyCode===9&&jQuery("#smplangselector").hide()}),jQuery("#smplangbutton").on("click",function(){jQuery("div#smptranslations").focus(),jQuery("#smptranslations").on("focus","li",function(){$this=jQuery(this)}).on("keydown","li",function(r){if($this=jQuery(this),r.keyCode==40)return $this.next().focus(),!1;if(r.keyCode==38)return $this.prev().focus(),!1}).find("li").first().focus()})}else jQuery.getJSON("/c/dam/assets/json/rootLocales.json",function(r){for(text=cdc.translations.map.replace(/[{}]/g,""),info=text.split(","),cdc.translations.locale.replace("_","-"),i=0;i<info.length;i++)info[i]=info[i].trim(),t[info[i].split("=")[0]]=info[i].split("=")[1];var a=Object.keys(t).length;a>11&&jQuery("ul#translationsList").addClass("twoColumn"),jQuery(".close-button").click(function(){jQuery(".language").removeClass("active")}),jQuery("ul#translationsList").empty();for(var d in r)if(r.hasOwnProperty(d)&&t.hasOwnProperty(d)){var h=t[d];d.substring(0,3)!="en-"&&r[d]!=null&&jQuery("ul#translationsList").append('<li  ><a  href="'+h+'" aria-label="'+r[d]+'">'+r[d]+"</a></li>")}})}}return{create:function(){e()}}};cdc.translations&&cdc.translations.map&&cdc.translationSelector().create();cdc.util.ensureNamespace("cdc.rc.fieldnotice");cdc.rc.fieldnotice.displayFNSearchResults=function(e,t,s){var r,a,d,h=cdc.util.locale.getLocale(location.href).getLanguage;r="<div id='fn-results-listing'>";for(let u=s;u<e.hits.hits.length&&u<s+t;u++){r=r+"<ul class='fn-results-ul'>";let l=e.hits.hits[parseInt(s)+u];u===0?r=r+"<li id='fn-results-title-first'>":r=r+"<li class='fn-results-title'>";let o=l.highlight["description."+h]?l.highlight["description."+h]:l.highlight["content."+h],c="";o&&o.length>0&&o.forEach(f=>c+=f),a=c.length>270?cdc.rc.boundedSearch.shortDesc(270,c):c,d=c.length>130?cdc.rc.boundedSearch.shortDesc(130,c):c,date=new Date(l._source.date).toLocaleDateString(),r=r+"<a href='"+l._source.url+"'>"+l.highlight["title."+h]+"</a></li><li class='fn-results-description'><span class='fn-desc-mobile'>"+d+"</span><span class='fn-desc-desktop'>"+a+"</span> </li><li class='fn-results-dt'>"+date+"</b></li>",r=r+"</ul>"}r=r+"</div>",jQuery("#fn-results-listing").html(r)};if(jQuery(".cdc-fieldnotice").length>0){let e=cdc.util.locale.getLocale(location.href).getLanguage,t=cdc.util.locale.getLocale(location.href).getCountry,s={metricsPrefix:"cfn",searchForm:"#field-notice-srch-section",searchClear:"#field-notice-clear-btn",resultPanel:".fn-expand-panel",resultSpinner:"#field-notice-spinner",resultTitle:"#field-notice-top-search-results",resultList:"#fn-results-listing",extraClose:"#field-notice-closeresults-btn",loadMore:"#field-notice-loadmore-btn",resultAltTitle:"#field-notice-eng-search-results",enResultLink:"#field-notice-alteresults-btn",locResultLink:"#field-notice-altlresults-btn",searchBoth:!0,appName:"cdc_boundsearch_fn_template"},r=[{items:[],last:!0}],a=[{items:[],last:!0}],d={filterQueryAlt:a,filterQuery:r,appName:"cdc_boundsearch_fn_template"},h={results:cdc.rc.fieldnotice.displayFNSearchResults};cdc.rc.boundedSearch.init(s,d,h)}cdc.util.ensureNamespace("cdc.fieldNotice");cdc.fieldNotice.mostRecent={init:function(){if(cdc&&cdc.widget&&cdc.widget.backToTop){var e=jQuery("#info-most-recent"),t={hasDataSelector:".most-recent-container",button:{targetSelector:"#drawertab"}};new cdc.widget.backToTop().create(e,null,t)}}};jQuery(document).ready(function(){jQuery(".cdc-fieldnotice").length&&cdc.fieldNotice.mostRecent.init()});cdc.util.ensureNamespace("cdc.fieldNotice");cdc.fieldNotice.productCategories={ui:{showMoreCategories:function(){jQuery(this).toggleClass("open");var e=jQuery(".more-categories-panel");cdc.expandPanel(e,"toggle")},toggleLink:function(){var e=jQuery(".show-more-categories");e.toggleClass("open")}},init:function(){var e=jQuery(".documents-container"),t=jQuery(".show-more-categories",e);t.click(cdc.fieldNotice.productCategories.ui.showMoreCategories);var s=jQuery(".expand-panel:not(.fn-expand-panel)",e);if(cdc.expandPanel(s,"make",cdc.supportdocuments.ui.toggleLink),cdc&&cdc.widget&&cdc.widget.backToTop){var r=jQuery("#info-product-categories"),a={hasDataSelector:".documents-container .more-documents .group .doc-sublist",button:{targetSelector:"#drawertab"}};new cdc.widget.backToTop().create(r,null,a)}}};jQuery(document).ready(function(){jQuery(".cdc-fieldnotice").length&&cdc.fieldNotice.productCategories.init()});cdc.util.ensureNamespace("cdc.rc");cdc.util.ensureNamespace("cdc.rc.toc");isSearchClicked=!1;jQuery("#navWrapper").length>0&&(cdc.rc.toc=new function(){var e=jQuery("#eotListWrapper");function t(){cdc.breakpoint.getScreenSize()=="short"||cdc.breakpoint.getScreenSize()=="xsmall"?(jQuery("#eotTocToc").find("button").removeClass("up-arrow-btn").addClass("down-arrow-btn"),jQuery("#eotListWrapper").hide()):jQuery("#eotListWrapper").show()}this.init=function(s){var r=jQuery('<div id="eotTocToc"><h4>'+cdc.rc.tableOfContents.label+'</h4><button id="upDownArrow" class="up-arrow-btn"></button></div>').prependTo(jQuery(navWrapper));t(),jQuery("#eotTocToc").on("click",function(){jQuery("#upDownArrow").hasClass("down-arrow-btn")?jQuery("#navWrapper").removeClass("closed"):jQuery("#navWrapper").addClass("closed")});function a(c){let f=new XRegExp("[^\\pL0-9]","gimu");for(i=0;i<c.length;i++){let m=jQuery(c[i]),y=m.text()||"";m.attr("id",y.trim().replace("<[^>]*?>","").replace(f,""))}let g=window.location.hash;g&&(window.location=g)}var d=jQuery("> ul > li",e);if(d.length){let c=jQuery(s),f=jQuery("#eot-doc-wrapper .pToC_Subhead2, #eot-doc-wrapper .pToC_Subhead3");a(c),f.length&&a(f);let g=jQuery(".DocumentHistory");g.hasClass("pToC_Subhead1")||(g.addClass("pToC_Subhead1"),jQuery(g).attr("id","Document-History"));let m=jQuery("ul",d);m.closest("li").addClass("subs"),m.prev("a").after('<button title="expand/collapse" aria-expanded="false"> </button>'),jQuery(".subs > button, .subs .head2").on("click",function(y){if(jQuery(y.target).parent("li:not(.tocSelected)")){let p=jQuery(y.target),v=p.closest("li");v.toggleClass("open"),p.attr("aria-expanded",v.hasClass("open")),y.stopPropagation()}}),jQuery("> ul > li:nth-child(1)",e).addClass("tocSelected");var h=jQuery(".DocumentHistory").parent().find("table:last"),u=h.find("tr:nth-child(n+4)"),l="Show more history >",o="< Show less history";h.attr("id","docHistory"),h.find("tr").length>4&&(u.css("display","none"),h.append('<tr><td colspan="3"><a id="showHideHistory" style="cursor:pointer">'+l+"</a></td></tr>"),jQuery("body").on("click","a#showHideHistory",function(){var y=jQuery(this);y.text()===l?(jQuery(".DocumentHistory").parent().find("table:last").find("tr:nth-child(n+4)").css("display","table-row"),y.text(o)):(jQuery(".DocumentHistory").parent().find("table:last").find("tr:nth-child(n+4)").css("display","none"),y.text(l)),y.closest("tr").css("display","table-row")})),jQuery("#eotListWrapper > ul > li > a").on("click",function(y){var p=jQuery(this).attr("href"),v=jQuery(p);v!==""&&(y.preventDefault(),jQuery("html").animate({scrollTop:jQuery(v).offset().top},1e3,function(){window.location.hash=v[0].id,(cdc.breakpoint.getScreenSize()=="short"||cdc.breakpoint.getScreenSize()=="xsmall")&&jQuery("html,body").animate({scrollTop:jQuery(v).offset().top-55},0)})),(cdc.breakpoint.getScreenSize()=="short"||cdc.breakpoint.getScreenSize()=="xsmall")&&(jQuery("#eotListWrapper").hide(),jQuery("#eotTocToc button").toggleClass("up-arrow-btn").toggleClass("down-arrow-btn"),jQuery(".cdc-eot-toc #fw-content div.row.narrow-wide").addClass("collapsed"))}),jQuery("#eotListWrapper  ul  ul  li  a").on("click",function(y){var p=jQuery(this).attr("href"),v=jQuery(p);v!==""&&(y.preventDefault(),jQuery("html").animate({scrollTop:jQuery(v).offset().top},1e3,function(){window.location.hash=v[0].id,(cdc.breakpoint.getScreenSize()=="short"||cdc.breakpoint.getScreenSize()=="xsmall")&&jQuery("html,body").animate({scrollTop:jQuery(v).offset().top-55},0)}))}),jQuery("#eotTocToc").on("click",function(){jQuery("#eotListWrapper").toggle(),jQuery("#eotTocToc button").toggleClass("up-arrow-btn").toggleClass("down-arrow-btn"),jQuery(".cdc-eot-toc #fw-content div.row.narrow-wide").toggleClass("collapsed")}),jQuery("#eotListWrapper ul li").on("click",function(){(cdc.breakpoint.getScreenSize()=="short"||cdc.breakpoint.getScreenSize()=="xsmall")&&(jQuery("#eotListWrapper").hide(),jQuery("#eotTocToc button").toggleClass("up-arrow-btn").toggleClass("down-arrow-btn"),jQuery(".cdc-eot-toc #fw-content div.row.narrow-wide").addClass("collapsed"))}),jQuery(window).scroll(function(){var y=window.scrollY+20,p=jQuery("#eotListWrapper > ul  li");($(window).scrollTop()==0||$(window).scrollTop()==$(document).height()-$(window).height())&&history.replaceState({},document.title,window.location.href.split("#")[0]),(cdc.breakpoint.getScreenSize()=="short"||cdc.breakpoint.getScreenSize()=="xsmall")&&(y=window.scrollY+70),jQuery(s).each(function(){var v=jQuery(this).offset().top,b=jQuery(this).attr("id"),Q=jQuery("a[href='#"+b+"']").parent("li");y>=v&&(p.removeClass("subSelected"),p.removeClass("tocSelected"),jQuery(Q).addClass("tocSelected"),jQuery("#eotTocToc h4").addClass("selected"),p.first()!==Q&&Q.text()&&Q.text()!==""&&jQuery("#eotTocToc h4").text(jQuery("a[href='#"+b+"']").text()))}),jQuery("#eot-doc-wrapper .pToC_Subhead2, #eot-doc-wrapper .pToC_Subhead3").each(function(){var v=jQuery(this),b=v.offset().top,Q=v.attr("id"),T=jQuery("a[href='#"+Q+"']").parent("li");y>=b&&(this.classList.contains("pToC_Subhead2")||this.classList.contains("pToC_Subhead3"))&&T.parents("li").hasClass("tocSelected")&&(p.removeClass("subSelected"),jQuery(T).addClass("subSelected"),jQuery("#eotTocToc h4").text(jQuery("a[href='#"+Q+"']").text()))}),jQuery("body").hasClass("cdc-eot-toc")&&jQuery("#eot-doc-wrapper .head2").each(function(){var v=jQuery(this).offset().top,b=jQuery(this).attr("id"),Q=jQuery("a[href='#"+b+"']").parent("li");y>=v&&(p.removeClass("open"),jQuery(Q).addClass("open"),jQuery("#eotTocToc h4").addClass("selected"),p.first()!==Q&&Q.text()&&Q.text()!==""&&jQuery("#eotTocToc h4").text(Q.text()))}),!$("#fwt-masthead").hasClass("hide")&&$("#eotTocNav").hasClass("scrollable")&&$("#eotTocNav").css("top",$("#fwt-banner").height())})}}},jQuery(document).ready(function(){var e=setInterval(function(){var t=cdc.rc.tableOfContents.headingSelector?cdc.rc.tableOfContents.headingSelector:"#eot-doc-wrapper .pToC_Subhead1";if(typeof XRegExp<"u"){clearInterval(e),cdc.rc.toc.init(t);var s=window.location.hash;s!==""&&jQuery("#eotListWrapper ul li").find("a[href='"+s+"']").parent().trigger("click")}},200);cdc.rc.eotToc&&cdc.rc.eotToc.tocResized&&typeof cdc.rc.eotToc.tocResized=="function"&&cdc.rc.eotToc.tocResized()}));cdc.rc.eotToc=new function(){if(jQuery(".cdc-eot-toc #eotTocNav, .cdc-ic-ebook #eotTocNav").length>0){var e=jQuery(window),t=jQuery("#eotTocNav"),s=jQuery("#eotListWrapper"),r=jQuery("#tocTop")[0].offsetTop,a=jQuery("#tocSearch");jQuery(".cdc-ic-ebook").length&&(s.css("display","none"),s.css("width",jQuery(".col.narrow.sticky").css("width")).css("display","block")),searchSticky=function(){if(jQuery(".page-search-fld",a).length){var d=parseInt(e.scrollTop()),h=jQuery(".page-search-fld",a).val().length;d>r&&h?(a.addClass("fixed"),$(".page-search-field").css({width:"90%",margin:"auto"}),$(".page-search-btn-navs").css("margin-right","5%")):(a.removeClass("fixed"),$(".page-search-field").css({width:"100%",margin:"unset"}),$(".page-search-btn-navs").css("margin-right","unset"))}},maxScrollPos=function(){var d=jQuery(".col.wide.document")[0],h=parseInt(d.offsetTop),u=parseInt(d.offsetHeight),l=parseInt(s[0].offsetHeight),o=parseInt(window.innerHeight),c;return s.css("max-height","100%"),c=parseInt(s[0].offsetHeight),h+u-o},this.stickIt=function(){var d=parseInt(e.scrollTop()),h=!1;d>r?(t.addClass("fixed"),h=!0,jQuery(".col.narrow.sticky").css("max-height","unset")):t.hasClass("fixed")&&(t.removeClass("fixed"),cdc.breakpoint.getScreenSize()!=="short"&&cdc.breakpoint.getScreenSize()!=="xsmall"?jQuery(".col.narrow.sticky").css("max-height",jQuery("#overDocWrapper").css("height")):jQuery(".col.narrow.sticky").css("max-height","unset"),h=!0),this.tocResized(h)},this.tocResized=function(d){t.css("width",jQuery(".col.narrow.sticky").css("width")),s.css("width",jQuery(".col.narrow.sticky").css("width")),d=d||!1,r=jQuery("#tocTop")[0].offsetTop;var h=t[0].offsetTop,u=parseInt(jQuery("#tocSearch")[0].offsetHeight),l=parseInt(e.scrollTop()),o=parseInt(window.innerHeight),c=e.height()-h-100,f=jQuery("#overDocWrapper")[0].offsetHeight,g,m=s.hasClass("scrollable"),y=t.hasClass("fixed"),p=maxScrollPos();p<l&&(c=o-u-(l-p)),$(".page-search-field").css({width:"100%",margin:"unset"}),$(".page-search-btn-navs").css("margin-right","unset"),(m||d)&&(y?s.css("max-height","100%"):s.css("max-height","none")),g=s[0].offsetHeight,g>=c&&y?cdc.breakpoint.getScreenSize()!=="short"&&cdc.breakpoint.getScreenSize()!=="xsmall"&&(s.css("min-height",c+"px"),s.css("max-height",c+"px"),m||s.addClass("scrollable")):m&&s.removeClass("scrollable")},fixForMobile=function(){s.css("min-height","unset"),s.css("max-height","100%"),t.removeClass("fixed"),jQuery(".col.narrow.sticky").css("max-height","100%"),searchSticky()},fixForDT=function(){jQuery("#tocSearch").removeClass("fixed"),s.css("max-height",jQuery("#overDocWrapper")[0].offsetHeight),cdc.rc.eotToc.stickIt()},cdc.breakpoint.onEnter(fixForDT,cdc.breakpoint.breakpoints.tall),cdc.breakpoint.onExit(fixForMobile,cdc.breakpoint.breakpoints.tall),e.bind("resize",function(){cdc.rc.eotToc.tocResized()}),e.bind("scroll",function(){cdc.rc.eotToc.stickIt()})}jQuery(document).ready(function(){window.location.href.indexOf("/products/collateral")>-1||window.location.href.indexOf("/solutions/collateral")>-1||new cdc.widget.backToTop().create(jQuery(".col.wide.document"),jQuery("#fwt-masthead"),{button:{targetSelector:"#fwt-masthead"}}),jQuery(".eot-tdatp .eot-tdatp-list li").length<=0&&jQuery(".eot-vav ul li").length<=0&&jQuery("#learnMore").hide()})};jQuery("body").hasClass("cdc-eot-toc")&&jQuery(document).ready(function(){var e=jQuery(".doctool"),t=e.find(".sharelinks"),s=t.clone();e.find(".sharelinks").remove();var r=e.find(".docHeaderComponent .linksRow .toolbar");r.prepend(s),r.find(".sharelinks").css("visibility","visible")});cdc.util.ensureNamespace("cdc.rc");cdc.rc.stickynav=function(){if(jQuery("body.cdc-support-category #stickynav").length>0){if(this.switchActive=function(t){var s=t.target?t.target:t,r=jQuery(s.hash).offset().top,a=r-jQuery("#stickynav").height();setTimeout(function(){jQuery(window).scrollTop(a)},100),jQuery("#stickynav li").removeClass("active"),jQuery(s).closest("li").toggleClass("active"),jQuery("#stickynav button .label").html(jQuery("#stickynav li.active a").html()),jQuery("#stickynav ul").removeClass("open"),jQuery("#stickynav button .caret").removeClass("open")},jQuery("#stickynav button").on("click",function(){jQuery("#stickynav ul").toggleClass("open"),jQuery("#stickynav button .caret").toggleClass("open"),jQuery("#stickynav ul.open").length?jQuery("#stickynav button").attr("aria-expanded","true"):jQuery("#stickynav button").attr("aria-expanded","false")}),jQuery("#stickynav li a").on("click",switchActive),window.location.hash.length){let t=0;for(let s=1;s<jQuery("#stickynav li a").length;s++)if(jQuery("#stickynav li a")[s].href==window.location.href){t=s;break}jQuery("#stickynav li").removeClass("active"),jQuery(jQuery("#stickynav li a")[t].closest("li")).addClass("active")}else jQuery(jQuery("#stickynav li a")[0].closest("li")).addClass("active");var e=document.getElementById("stickynav").offsetTop+(document.getElementById("fwt-banner")!=null?document.getElementById("fwt-banner").offsetHeight:document.querySelector("cdc-header")!=null?document.querySelector("cdc-header").offsetHeight:0);jQuery(window).scroll(function(){jQuery(window).scrollTop()>e&&document.getElementById("productsanchor").offsetTop>0?jQuery("#stickynav").addClass("fixed"):jQuery("#stickynav").removeClass("fixed")})}}();jQuery("body").hasClass("cdc-support-category")&&jQuery(document).ready(function(){cdc.translationSelector().create()});window.cdc===void 0&&(window.cdc={});cdc.supportFinder===void 0&&(cdc.supportFinder={});cdc.cdcSearch===void 0&&(cdc.cdcSearch={});cdc.supportFinder.methods=[{key:"finderInit",value:function(t,s){var r=["en_US","pt_BR","fr_CA","zh_CN","zh_TW","de_DE","it_IT","ja_JP","ko_KR","es_MX","nl_NL","ar_AE"];s=s||document.querySelector("#"+t+".supportFind"),s.tagName!=="CDC-NAV-SUPPORT"&&cdc.supportFinder.preinit(s),s.selector="#"+t,s.el=s.shadowRoot||s,s.sfForm=s.el.querySelector(".support-finder-form"),s.queryField=s.el.querySelector("input[type='search']"),s.resultList=s.el.querySelector(".results"),s.clearButton=s.el.querySelector("button.clear"),s.locale=cdc.supportFinder.locale||"en_US",s.searchLocale=s.locale.replace("_",""),s.psaLocale=r.indexOf(s.locale)>-1?s.locale:"en_US",s.resultListMouseDown=!1,s.currentQuery="",s.queryField.addEventListener("click",function(a){dataObj={action:"search start",lid:"PDFIND_box_focus_click",lpos:"PDFIND_box_focus",searchphrase:s.currentQuery||"n/a",charcount:s.currentQuery?s.currentQuery.length:0,task:"one search"},trackEvent.event("link",dataObj)}),s.queryField.value.length>0&&(s.currentQuery=s.queryField.value,s.clearButton.classList.add("show")),s.queryField.addEventListener("touchend",function(a){function d(u){var l=0;if(u.offsetParent){do l+=u.offsetTop;while(u=u.offsetParent);return l}}a.target.focus();var h=d(s.queryField)-25;window.scrollTo(0,h)}),s.queryField.addEventListener("keyup",function(a){function d(){s.clearResults(s)}function h(l){var o=/["'?><\\]/gim,c=s.queryField.value.replace(o," ").toLowerCase().replace("cisco","").replace(/^cisc/,"").replace(/^cis/,"").trim();s.dataP=!1,s.errP=!1,c.length>0?s.clearButton.classList.add("show"):s.clearButton.classList.remove("show"),c.length>2?(s.currentQuery=c,s.timeout=setTimeout(function(){s.generateResults(s)},s.maxWait),s.requestProductList(s)):l==="del"&&s.closeResults(s,!0)}function u(){h("del")}s.wcTypeAheadKeyup(a,d,u,h)}),s.queryField.addEventListener("keydown",function(a){if((a.keyCode==13||a.keycode==10)&&a.target==document.querySelector(".searchtermholder input")){let o=s.resultList.querySelectorAll(".supportFind .links li:not(.head)");o.length===1&&(window.location.href=o[0].querySelector("a").href),s.resultList.classList.add("expanded");return}function d(){s.resultListMouseDown=!0,a.preventDefault(),s.resultList.querySelector("li a").focus(),setTimeout(function(){s.resultList.scrollTop=0},5)}function h(){s.resultListMouseDown=!0,a.preventDefault();let o=s.resultList.querySelectorAll("li a");o[o.length-1].focus()}function u(){}function l(){return s.closeResults(s),!0}s.wcTypeAheadKeydown(a,l,u,h,d)}),s.clearButton.addEventListener("click",function(a){s.clearResults(s)}),s.querySelector(".results .helpful button").addEventListener("click",function(a){s.clearResults(s)}),s.queryField.addEventListener("focus",function(){s.resultListMouseDown=!1,this.value!==""&&s.showResults(s)}),s.queryField.addEventListener("blur",function(){!s.resultListMouseDown&&s.resultList.classList.contains("open")?s.closeResults(s):s.resultListMouseDown=!1}),s.queryField.addEventListener("mousedown",function(){(s.shadowRoot||document).activeElement!==s.queryField&&(s.resultListMouseDown=!0)}),s.resultList.addEventListener("mousedown",function(){s.resultListMouseDown=!0}),window.addEventListener("mousedown",function(){let a=s.shadowRoot||document,d=a.activeElement;!s.resultListMouseDown&&s.resultList.classList.contains("open")&&d!==s.queryField&&s.closeResults(s)})}},{key:"requestProductList",value:function(t){var s=cdc.context.findEnvironment(),r,a;s=s=="dev"||s=="stage"?"-"+s:"",window.location.href.indexOf("-pstage.")>-1&&(s="-pstage"),r="https://psc"+s+".cloudapps.cisco.com",a=r+"/support/cwsx/pscore/service/psc/autosuggest/default/guest/"+t.currentQuery+"?locale="+t.psaLocale+"&sortParam=oneSearch",d(a,t);function d(h,u){var l=new XMLHttpRequest;l.onload=function(){l.status>=200&&l.status<400?(u.dataP=JSON.parse(l.responseText),clearTimeout(u.timeout),u.dataP.SearchResult&&u.dataP.SearchResult.status==="SUCCESS"?u.generateResults(u):u.dataP="error"):u.dataP="error"},l.onerror=function(){u.dataP="error"},l.open("GET",h,!0),l.send()}}},{key:"generateResults",value:function(t){function s(g,m){for(var y=m.length,p=0;p<y;p++)if(m[p].title==g)return p;return-1}function r(g,m,y,p,v){return'<a href="'+g+'" data-type="'+m+'" data-pos="'+y+'" aria-label="'+p+" "+v+'" >'+v+"</a>"}var a,d="",h="//www.cisco.com",u=0,l=!1;for(t.dataP&&t.dataP.SearchResult&&(u=t.dataP.SearchResult.totalSearchResultsCount,l=t.dataP.SearchResult.results),d=t.resultList.querySelectorAll("li a"),a=0;a<d.length;a++)d[a].removeEventListener("keydown",function(g){t.resultListKeyDown(g,t)});if(t.showResults(t),u>t.maxResults)t.showError(t,"max");else if(!u)t.showError(t,"zero");else if(u){let g=!0,m=l,y=l,p=cdc.supportFinder.messages.selectOne,v=cdc.supportFinder.messages.technologySupport,b=cdc.supportFinder.messages.productSupport,Q=cdc.supportFinder.messages.downloads,T=g||!Q?h:"",E="<ul>";for(E+="<li class='head'>"+p+"</li>",a=0;y[a];a++){let R="";if(m[a]&&m[a].title&&(m[a].url||m[a].softwareDownloadUrl)){let L=m[a].nodeMdfMetaClass&&m[a].nodeMdfMetaClass=="Technologies Protocol Group"?v:b;if(E+="<li><p>"+m[a].title+"</p>",m[a].url&&m[a].url.length&&(E+=r(T+m[a].url,"products",a+1,m[a].title,L)),m[a].url&&m[a].url.length&&m[a].softwareDownloadUrl&&m[a].softwareDownloadUrl.length&&(E+='<span class="separator"> | </span>'),m[a].softwareDownloadUrl&&m[a].softwareDownloadUrl.length&&(E+=r(m[a].softwareDownloadUrl,"downloads",a+1,m[a].title,Q)),m[a].displayLifeCycle&&m[a].displayLifeCycle.length){let C="";m[a].displayLifeCycle=="End of Life"?C=cdc.supportFinder.messages.eol:m[a].displayLifeCycle=="End of Support"&&(C=cdc.supportFinder.messages.eos),C.length&&(E+='<span class="info"><img src="/etc/designs/cdc/fw/i/ExclamationIcon_grey.png"></span><span class="lifecycle">'+C+"</span>")}}else m[a]&&m[a].title&&(R="<li><p>"+m[a].title+"</p>");E+="</li>"}E+="</ul>",t.resultList.querySelector(".links").innerHTML=E,t.resultList.querySelector(".error").innerHTML="",t.resultList.querySelector(".links").style.display="block",t.resultList.querySelector(".error").style.display="none"}else t.showError(t,"zero");let o=cdc.supportFinder.messages.resultInstr,c=t.resultList.querySelectorAll("a"),f=t.el.querySelector("#finder-instructions");for(c.length?(o!==void 0&&o.indexOf("$RESULTSLENGTH$")>0&&(o=o.replace("$RESULTSLENGTH$",c.length)),f.innerHTML=o):f.innerHTML=cdc.supportFinder.messages.defaultInstr,t.resultList.addEventListener("keyup",function(g){function m(){t.clearResults(t)}t.wcTypeAheadKeyup(g,m,function(){},function(){})}),d=t.resultList.querySelectorAll("li a"),a=0;a<d.length;a++)d[a].addEventListener("keydown",function(g){t.resultListKeyDown(g,t)}),d[a].addEventListener("click",function(g){var m=g.target,y=m.getAttribute("data-type"),p=m.getAttribute("data-pos"),v=m.getAttribute("aria-label"),b={action:y,lid:"PDFIND_box_search_result_click",lpos:"PDFIND_box_search",link:m.href,linktext:v,searchphrase:t.currentQuery,charcount:t.currentQuery.length,results:t.resultList.querySelectorAll("li").length,selectpos:p,task:"one search"};trackEvent.event("link",b,function(){window.location.href=m.href})})}},{key:"showError",value:function(t,s){var r=cdc.supportFinder.messages,a;switch(clearTimeout(t.timeout),s){case"max":a=r.maxResults;break;case"zero":a=r.noResults;break;case"tech":a=r.techError;break}let d="";for(let h=1;h<=5;h++){let u="cat"+h,l=u+"url",o=r[u],c=r[l];o&&o.length>3&&c&&c.length>3&&(d+="<a href='"+c+"'>"+o+"</a>")}a=a.replace("$QUERY$",t.currentQuery).replace("$MAX$",t.maxResults),a='<ul><li class="error">'+a+"</li>",a+='<li class="error allproducts">'+d+'<a href="'+r.allProductsUrl+'">'+r.allProducts+" </a></li>",a+='<li class="error alldownloads"><a href="'+r.allDownloadsUrl+'">'+r.allDownloads+" </a></li>",a+='<li class="error allsearch"><a href="https://search.cisco.com/search?locale='+t.searchLocale+"&query="+t.currentQuery+'">'+r.searchAllCiscoCom+" </a></li></ul>",t.resultList.querySelector(".links").innerHTML="",t.resultList.querySelector(".error").innerHTML=a,t.resultList.querySelector(".error").style.display="block",t.resultList.querySelector(".links").style.display="none",list=t.resultList.querySelectorAll(".error a");for(let h=0;h<list.length;h++)list[h].addEventListener("click",function(u){u.preventDefault();var l=u.target,o=s==="max"?"more":"0",c={action:"search links click",lid:"PDFIND_box_search_link_click",lpos:"PDFIND_box_search",link:l.href,linktext:l.innerHTML,searchphrase:t.currentQuery,charcount:t.currentQuery.length,results:o};trackEvent.event("link",c,function(){window.location.href=l.href})})}},{key:"resultListKeyDown",value:function(t,s){s.wcTypeAheadKeydown(t,function(r){r.preventDefault(),r.shiftKey?s.queryField.focus():s.clearButton.focus()},function(r){r.target.click()},function(r){var a=r.target,d=Array.from(s.resultList.querySelectorAll("li a")),h=d.indexOf(a),u=d[h-1];u?u.focus():s.queryField.focus()},function(r){var a=r.target,d=Array.from(s.resultList.querySelectorAll("li a")),h=d.indexOf(a),u=d[h+1];r.preventDefault(),u?u.focus():s.queryField.focus()})}},{key:"clearResults",value:function(t){var s={action:"search clear",lid:"PDFIND_box_search_clear",lpos:"PDFIND_box_search",link:"clear button",linktext:"remove search text",searchphrase:t.currentQuery||"n/a",charcount:t.currentQuery.length||"n/a",results:t.resultList.querySelectorAll("li").length,task:"one search"};trackEvent.event("link",s),t.currentQuery="",t.queryField.value="",t.queryField.focus(),t.clearButton.classList.remove("show"),t.closeResults(t,!0),t.sfForm.setAttribute("aria-expanded","false")}},{key:"showResults",value:function(t){t.resultList.classList.contains("open")||(t.resultList.classList.add("open"),t.sfForm.setAttribute("aria-expanded","true"))}},{key:"closeResults",value:function(t,s){s||(dataObj={action:"search exit",lid:"PDFIND_box_focus_out",lpos:"PDFIND_box_focus",searchphrase:t.currentQuery||"n/a",charcount:t.currentQuery?t.currentQuery.length:0,results:t.resultList.querySelectorAll("li").length,task:"one search"},trackEvent.event("link",dataObj)),t.resultList.classList.remove("open"),t.resultList.classList.remove("expanded")}}];cdc.supportFinder.properties={maxResults:{type:String,value:"250"},maxWait:{type:Number,value:3e3}};cdc.supportFinder.methods=cdc.supportFinder.methods.concat(cdc.cdcGeneric.methods);cdc.supportFinder.methods=cdc.supportFinder.methods.concat(cdc.wcUtil.methods);cdc.supportFinder.methods=cdc.supportFinder.methods.concat(cdc.wcTypeAhead.methods);cdc.supportFinder.preinit=e=>{let t=cdc.supportFinder.methods,s=cdc.supportFinder.properties;for(let r in t)t.hasOwnProperty(r)&&t[r]&&(e.hasOwnProperty(t[r].key)||Object.defineProperty(e,t[r].key,{enumberable:!0,value:t[r].value}));for(let r in s)if(s.hasOwnProperty(r)&&!e.hasOwnProperty(r)){let a=s[r].type||s[r],d=s[r].value;if(d===void 0)switch(a){case Boolean:d=!1;break;case Number:d=0;break;case Array:d=[];break;case String:d="";break;case Object:default:d={};break}Object.defineProperty(e,r,{get:function(){return d},set:function(h){d=h},configureable:!0,enumberable:!0,writeable:!0})}};cdc.util.ensureNamespace("cdc.extrev");cdc.extrev.fetchUrlG2="https://data.g2crowd.com/api/2018-01-01/syndication/reviews";cdc.extrev.trLogo="https://www.cisco.com/c/dam/assets/ratings-reviews/img/trust-radius-wordmark-blue-x64.png";cdc.extrev.g2Logo="https://www.cisco.com/c/dam/assets/ratings-reviews/img/G2C-logo-blue-RGB.png";cdc.extrev.stars={10:{class:"five-star",text:"5/5"},9:{class:"four-star half-star",text:"4.5/5"},8:{class:"four-star",text:"4/5"},7:{class:"three-star half-star",text:"3.5/5"},6:{class:"three-star",text:"3/5"},5:{class:"two-star half-star",text:"2.5/5"},4:{class:"two-star",text:"2/5"},3:{class:"one-star half-star",text:"1.5/5"},2:{class:"one-star",text:"1/5"}};cdc.externalRatings=function(e){var t=3,s=!1,r=null,a=!1,d=!1,h=null,u=!1,l=null,o=Date.now(),c="",f=null;cdc.extrev.trUrl=e.trLink?e.trLink:"";function g(){return jQuery.ajax({url:e.fetchUrlTR,type:"GET",success:T,error:Q});function Q(){a=!0}function T(E){var R,L;if(R=E.data,L={},L.avgRating=E.config.products[0].rating.avg,L.numReviews=E.config.products[0].rating.count,L.trUrl=cdc.extrev.trUrl,L.reviews=[],E.data.length)for(let C=0;C<R.length&&C<t;C++)L.reviews[C]={},L.reviews[C].sourceClass="tr",L.reviews[C].shortSeriesName=e.shortName,L.reviews[C].companyName="TrustRadius",L.reviews[C].companyLogo=cdc.extrev.trLogo,L.reviews[C].logoLink=e.trLink,L.reviews[C].ratingNumber=R[C].quotes[0].rating/2,L.reviews[C].ratingImage=cdc.extrev.stars[R[C].quotes[0].rating],L.reviews[C].date=new Date(R[C].quotes[0].review.editedDate),L.reviews[C].author=R[C].name.first+" "+R[C].name.last,L.reviews[C].authorJob=R[C].position.title?R[C].position.title:R[C].position.jobType,L.reviews[C].authorCompany=R[C].company.name?R[C].company.name:"",L.reviews[C].title=R[C].quotes[0].review.heading,L.reviews[C].fullReview="https://www.trustradius.com/reviews/"+R[C].quotes[0].review.slug,L.reviews[C].reviewQuotes="<p>"+R[C].quotes[0].text+"</p>";r=L}}function m(){var Q="3e8becace44b51d7b69de47ff305c69c4971f0d969de94398fb813a58ac491a2",T={Authorization:"Token token="+Q},E=e.g2EditionId.trim().length?"&filter[edition_ids][]="+e.g2EditionId:"";return jQuery.ajax({url:cdc.extrev.fetchUrlG2+"?filter[product_id]="+e.g2ProdId+E+"&filter[nps_score]=4&filter[nps_score]=5&filter[nps_score]=3.5&filter[nps_score]=4.5",type:"GET",headers:T,success:L,error:R});function R(){u=!0}function L(C){function z(P,w){var S=P.collection[4]?P.collection:!1,A=0;if(S){let _=0;for(let k=0;k<5;k++)_+=S[k].id*S[k].count;A=2*_/w}return A}var I,M;if(!C||!C.data||!C.meta||!C.meta.record_count){h=!1,u=!0;return}if(cdc.extrev.g2WriteRevLink=C.meta.product.write_review_url,cdc.extrev.g2Url=C.meta.product.g2crowd_url?C.meta.product.g2crowd_url:"",I=C.data,M={},M.numReviews=C.meta.record_count,M.avgRating=z(C.meta.aggregates[0],M.numReviews),M.g2Url=cdc.extrev.g2Url,M.reviews=[],C.data.length)for(let P=0;P<I.length&&P<t;P++)M.reviews[P]={},M.reviews[P].sourceClass="g2",M.reviews[P].shortSeriesName=e.shortName,M.reviews[P].companyName="G2 Crowd",M.reviews[P].companyLogo=cdc.extrev.g2Logo,M.reviews[P].logoLink=C.meta.product.g2crowd_url,M.reviews[P].ratingNumber=I[P].attributes.star_rating,M.reviews[P].ratingImage=cdc.extrev.stars[I[P].attributes.star_rating*2],M.reviews[P].date=new Date(I[P].attributes.published_at),M.reviews[P].author=I[P].attributes.user.name,M.reviews[P].authorJob=I[P].attributes.user.title?I[P].attributes.user.title:"",M.reviews[P].authorCompany=I[P].attributes.user.company?I[P].attributes.user.company:"",M.reviews[P].title=I[P].attributes.title,M.reviews[P].fullReview=I[P].attributes.url,M.reviews[P].subtitle=I[P].attributes.answers.love.text,M.reviews[P].reviewQuotes="<p>"+I[P].attributes.answers.love.value+"</p>";h=M}}function y(){cdc.lightbox.create({type:"text",id:"writeExtReview",title:cdc.extrev.writeReviewTitle,content:"."})}function p(){if(cdc.extrev.g2WriteRevLink&&cdc.extrev.myInfo[0].trWriteRevLink)y(),c="<br/>"+cdc.extrev.writeReviewTextCTA+"<br/><br/>",c+='<a href="'+cdc.extrev.myInfo[0].trWriteRevLink+'" class="writeReviewLink" data-config-metrics-group="'+cdc.extrev.metricsGroup+'" data-config-metrics-item="Write a review for TrustRadius">'+cdc.extrev.writeReviewFor.replace("$EXTSITE","TrustRadius")+' <span class="caret"></span> </a>',c+='<br/><a href="'+cdc.extrev.g2WriteRevLink+'" class="writeReviewLink" data-config-metrics-group="'+cdc.extrev.metricsGroup+'" data-config-metrics-item="Write a review for G2">'+cdc.extrev.writeReviewFor.replace("$EXTSITE","G2 Crowd")+' <span class="caret"></span> </a>',jQuery(".writeReview").on("click",function(){cdc.lightbox.show("writeExtReview"),document.querySelector("#lightbox .text").innerHTML=c});else{let Q=cdc.extrev.g2WriteRevLink?cdc.extrev.g2WriteRevLink:cdc.extrev.myInfo[0].trWriteRevLink;jQuery("a.writeReview").attr("href",Q),jQuery("button.writeReview").css("display","none"),jQuery("a.writeReview").css("display","inline-block")}}function v(Q){let T=jQuery("#"+e.myID+"-location");if(T.length){let E=jQuery("#"+e.myID);E.length&&jQuery.inArray(T,E.parents())===-1&&(T.html(E[0].outerHTML),E.remove())}Q.avgStars&&jQuery("#"+e.myID).length?(jQuery("#"+e.myID+" svg").attr("class",Q.avgStars.class),jQuery("#"+e.myID+" svg").attr("aria-label",Q.avgStars.text),jQuery("#"+e.myID+" svg title").html(Q.avgStars.text),jQuery("#"+e.myID).append(" "+Q.numReviews),e.linktext&&jQuery("#"+e.myID).append("<br />"+e.linktext)):jQuery("#"+e.myID).length&&jQuery("#"+e.myID).html(cdc.extrev.noReviewMessage)}function b(Q){if(v(cdc.extrev.noReviewMessage),jQuery("#externalReviewMessage").length){var T=new cdc.util.JsTemplate(jQuery("#externalReviewMessage").html());jQuery("#externalRatingsList").append(T.process({message:""})),p()}}this.checkRequests=function(){function Q(){var C={},z=0,I=0,M=0,P=0,w=0,S=h.reviews[0]?new Date(h.reviews[0].date):0,A=r.reviews[0]?new Date(r.reviews[0].date):0,_=h.numReviews?h.numReviews:0,k=r.numReviews?r.numReviews:0,x=h.avgRating?h.avgRating:0,B=r.avgRating?r.avgRating:0;for(C.numReviews=_+k,C.avgRating=C.numReviews?(x*_+B*k)/C.numReviews:!1,C.avgStars=cdc.extrev.stars[Math.round(C.avgRating)],C.trUrl=r.trUrl,C.g2Url=h.g2Url,C.reviews=[];M<t;)S>A&&!(w===0&&P===2)&&h.reviews[z]||w===2&&P===0&&h.reviews[z]?(C.reviews[M]=h.reviews[z],P++,z++,S=h.reviews[z]?new Date(h.reviews[z].date):0):r.reviews[I]?(C.reviews[M]=r.reviews[I],w++,I++,A=r.reviews[I]?new Date(r.reviews[I].date):0):M=t,M++;return C}function T(C){if(v(C),jQuery("#externalRatingResults").length){var z=new cdc.util.JsTemplate(jQuery("#externalRatingResults").html());jQuery("#externalRatingsList").append(z.process(C)),p(),jQuery(".ratingInfo span").on("focus",function(){jQuery("#externalRatingsList .tip").addClass("click").removeClass("hover")}),jQuery(".ratingInfo span").on("keydown",function(){jQuery("#externalRatingsList .tip").addClass("click").removeClass("hover")}),jQuery(".ratingInfo").on("click",function(){jQuery("#externalRatingsList .tip").toggleClass("click").removeClass("hover")}),jQuery(".ratingInfo").mouseenter(function(){f=setTimeout(function(){jQuery("#externalRatingsList .tip").addClass("hover")},700)}),jQuery(".ratingInfo").mouseleave(function(){f&&clearTimeout(f),jQuery("#externalRatingsList .tip").removeClass("hover")}),jQuery("#externalRatingsList .tip .close").on("click",function(I){I.stopPropagation(),jQuery("#externalRatingsList .tip").removeClass("click").removeClass("hover")})}}var E=5e3,R=Date.now(),L;(h||u||!d)&&(r||a||!s)?(clearInterval(l),h&&h.reviews.length&&r&&r.reviews.length?(L=Q(),L.avgRating=L.avgRating/2,T(L),jQuery("#externalRatingsList .seeAll.g2").css("display","inline-block"),jQuery("#externalRatingsList .seeAll.tr").css("display","inline-block")):h&&h.reviews.length?(h.avgStars=cdc.extrev.stars[Math.round(h.avgRating)],h.avgRating=h.avgRating/2,h.trUrl=!1,T(h),jQuery("#externalRatingsList .seeAll.g2").css("display","inline-block"),jQuery("#externalRatingsList .info").css("visibility","hidden")):r&&r.reviews.length?(r.avgStars=cdc.extrev.stars[Math.round(r.avgRating)],r.avgRating=r.avgRating/2,r.g2Url=!1,T(r),jQuery("#externalRatingsList .seeAll.tr").css("display","inline-block"),jQuery("#externalRatingsList .info").css("visibility","hidden")):h&&!h.reviews.length||r&&!r.reviews.length?b("noResults"):b("techError")):R>o+E&&(clearInterval(l),b("techError"))},this.doRequests=function(){e.g2ProdId&&(m(),d=!0),e.fetchUrlTR&&e.fetchUrlTR!=""&&(g(),s=!0),!e.g2ProdId&&!e.fetchUrlTR&&e.fetchUrlTR==""?b("noResults"):(this.origTime=Date.now(),l=setInterval(this.checkRequests,300))}};cdc.util.ensureNamespace("cdc.rc.communityComponent");document.querySelector(".communityComponent")&&cdc.rc.communityComponent.params&&cdc.rc.communityComponent.params.length&&(cdc.rc.communityComponent.init=function(e){var t={},s,r,a,d,h=["ja","es","pt","ru"],u=cdc.util.findEnvironment(),l=cdc.cookie.getCookie("CP_GUTC"),o=e.quantity,c="",f=e.tags,g,m=[{items:[{fieldname:"csclanguage",value:"en",lastval:"true"}],last:"true"}];for(f.length>1&&(c="OR("),i=0;i<f.length;i++)c+=i>0?",":"",c+='query("'+f[i].substring(f[i].lastIndexOf("/")+1)+'",qlang="simple")';f.length>1&&(c+=")"),typeof cdc.rc.locale_info<"u"?(a=cdc.rc.locale_info.substring(0,2),d=h.indexOf(a)>-1?',csclanguage:EQUALS("'+a+'")':""):d="",o===""&&(o=e.display==="compact"?3:10),s=e.path.substring(e.path.lastIndexOf("/")+1),s&&e.path.indexOf("ct-p")>-1?r='csccategoryid:EQUALS("'+s+'")':s&&(r='cscboardid:EQUALS("'+s+'")'),g=["AND("+r+d+")"];let y=document.querySelector("meta[name=language]")?document.querySelector("meta[name=language]").getAttribute("content"):"",p=document.querySelector("meta[name=concept]")?document.querySelector("meta[name=concept]").getAttribute("content"):"";(!p||p&&p==="")&&(p=document.querySelector("meta[name=title]")?document.querySelector("meta[name=title]").getAttribute("content"):"",y!=="en"&&(p=p.replace(/[^\x00-\x7F]/g,"").trim())),p!=null&&(p=p.replace(/(^|[^\/])\/(?!\/)/g,"$1//")),t={id:"cdc_boundsearch_comm_template",params:{queryString:p,size:11,from:0,language:y,filters:[{items:[{fieldname:"csclanguage",value:y,lastval:"true"}],last:"true"}]}},!u||u==="unknown"||u==="prod"?u="":u==="dev"||u==="stage"?u="-stage":window.location.href.indexOf("-pstage.cisco")>-1&&(u="-pstage");var v="https://crs"+u+".cloudapps.cisco.com/support/cwsx/crs/pub/esps?v=1.0";jQuery.ajax({url:v,type:"POST",beforeSend:function(T){T.setRequestHeader("Content-type","text/plain;charset=utf-8")},dataType:"json",data:JSON.stringify(t),success:Q,error:b});function b(){let T=cdc.rc.communityComponent.msgs,E="<p>"+T.techError.replace("$URL",T.communityHome)+"</p>";jQuery("#"+e.id+" .results").html(E)}function Q(T){function E(R){var L=cdc.rc.communityComponent.msgs,C=1e3*60*60*24,z=C*7,I=C*30.5,M=C*365,P=new Date,w=new Date(R),S=Math.floor((P-w)/M),A;return S>0?A=S>1?L.years.replace("$#",S):L.year:(S=Math.floor((P-w)/I),S>0?A=S>1?L.months.replace("$#",S):L.month:(S=Math.floor((P-w)/z),S>0?A=S>1?L.weeks.replace("$#",S):L.week:(S=Math.floor((P-w)/C),A=S>1?L.days.replace("$#",S):L.day,S==0&&(S="&lt;1")))),A}if(T.hits!==void 0&&T.hits.hits!==void 0&&T.hits.hits.length>0){let R,L,C=Math.min(o,T.hits.hits.length),z=new cdc.util.JsTemplate(jQuery("#"+e.id+"communityTemplate")[0].innerHTML),I=jQuery("#"+e.id);for(R="<ul>",i=0;i<C;i++){"cscauthor"in T.hits.hits[i]._source||(T.hits.hits[i]._source.cscauthor=""),L=T.hits.hits[i]._source,aresulthighlight=T.hits.hits[i].highlight,L.display=e.display,L.csccreateddate?L.created=E(L.csccreateddate):L.created="",L.csclastmodified?L.updated=E(L.csclastmodified):L.updated=E(L.csccreateddate),L.icon_type="",L.cscboardhref=L.cscboardhref?L.cscboardhref:"",L.cscboardtitle=L.cscboardtitle?L.cscboardtitle:"",L.cscauthor=L.cscauthor?L.cscauthor:"",L.url=L.url?L.url:"";let M=document.querySelector("meta[name=language]")?document.querySelector("meta[name=language]").getAttribute("content"):"";L.title=L["title."+M]?L["title."+M]:"",L.teaser=aresulthighlight&&aresulthighlight["content."+M]?aresulthighlight["content."+M]:"",R+=z.process(L)}R+="</ul>",jQuery("#"+e.id+" .results").html(R),I.closest("dd").length&&!I.closest("dd").hasClass("active")&&(I.closest("dd").css("visibility","hidden").addClass("active"),setTimeout(function(){I.closest("dd").removeClass("active").css("visibility","visible")},1)),I.width()>jQuery(window).width()&&I.closest(".col").addClass("fixoverflow")}else{let R=cdc.rc.communityComponent.msgs,L="<p>"+R.noResults.replace("$URL",R.communityHome)+"</p>";jQuery("#"+e.id+" .results").html(L)}}});jQuery(document).ready(function(){function e(){var r=jQuery(".contactUs"),a=document.querySelector("#contact-button"),d=document.querySelectorAll(".contactUs ul a");if(r.toggleClass("open"),r.hasClass("open")?(a.setAttribute("aria-expanded","true"),d[0].focus()):(a.setAttribute("aria-expanded","false"),a.focus()),jQuery(".cdc-eot-toc .disclaimers:not(.marketing)").length){let o=jQuery(".disclaimers .panel.cdc-expandPanel-visible");o.length&&(cdc.expandPanel(o,"toggle"),jQuery(".disclaimers button[aria-expanded=true]").attr("aria-expanded","false"))}if(r.hasClass("open")){var h=$("ul#contactList").find("select, input, textarea, button, a").filter(":visible"),u=h.first(),l=h.last();u.on("keydown",function(o){o.which===9&&o.shiftKey&&(o.preventDefault(),r.removeClass("open"),a.setAttribute("aria-expanded","false"),a.focus())}),l.on("keydown",function(o){o.which===9&&!o.shiftKey&&(o.preventDefault(),r.removeClass("open"),a.setAttribute("aria-expanded","false"),jQuery("#smplangbutton").length?jQuery("#smplangbutton").focus():jQuery(".smplangdropdown").length?jQuery(".smplangdropdown").focus():jQuery("#drawertab ul li:first button").focus())})}}function t(r){var a=r.target,d=jQuery(".contactUs");d.hasClass("open")&&!jQuery(a).parent(".contactUs, #contact-button").length&&d.removeClass("open")}function s(r){var a=r.keyCode;a==27&&(r.preventDefault(),e())}jQuery(".contactUs button").on("click",e),jQuery(".contactUs ul").on("keydown",function(r){s(r)}),jQuery("body").on("click",t),jQuery("#feedback > a").on("click",function(r){r.preventDefault();var a=this.href;return window.open(a,"feedback","width=550, height=460, scrollbars=1, menubar=1, resizable=1"),!1})});cdc.util.ensureNamespace("cdc.rc.series.community");jQuery("#community-results h2>button").length>0&&(cdc.rc.series.community=new function(){let e=!1,t={},s={},r={};var a={latest:!0,solved:!0,documents:!0},d=2e3,h=1e4,u,l;let o=["en","ja","zh","es","ru","pt","fr","ko"];var c=jQuery(".start-a-discussion");c.hide();function f(v){fileLoaded=!0,jQuery(".community-"+v+" .spinner").hide()}function g(v){fileLoaded=!0,f(v),clearTimeout(u),clearTimeout(l);let b=jQuery(".community-"+v+" h2 button"),Q=b&&b.hasClass("open")?' open">':"",T=jQuery(".community-"+v+" ul li:visible"),E=jQuery(".community-"+v+" .nocontentboard");if(!E||E.length==0){jQuery(".community-"+v+" .nocontent").hide();let L='<span class="nocontentboard">'+(cdc.rc.models?cdc.rc.models.communitymsgs.noResultsBoard:cdc.rc.series.communitymsgs.noResultsBoard)+"</span>";jQuery(".community-"+v)&&jQuery(".community-"+v).append(L)}else b&&b.length>0&&b[0].classList&&b[0].classList.contains("open")&&(!T||T.length==0)?E.addClass("open"):E.removeClass("open")}this.getCommunityData=function(v){var b=v.parents("div").eq(0),Q=b.attr("class").replace("community-","");let T=!1;a[Q]&&(y(Q),a[Q]=!1,T=!0),v.toggleClass("open"),jQuery(">ul",b).toggleClass("open"),jQuery(">a",b).toggleClass("open"),jQuery(">div",b).toggleClass("open"),!T&&!a[Q]&&g(Q)};function m(){if(jQuery("#community-results h2>button").each(function(){jQuery(this).prepend("<span class='openicon'></span>"),jQuery(this).on("click",function(){var Q=jQuery(this);cdc.rc.series.community.getCommunityData(Q)})}),jQuery("#community").parents("#drawertab").length>0)for(var v=cdc.rc.drawertab.getDrawerTabIdsFromContent(jQuery("#community")),b=0;b<v.length;b++)jQuery("#"+v[b]).on("click",function(){a.latest&&cdc.rc.series.community.getCommunityData(jQuery("#community-results h2>button").eq(0))})}function y(v){var b,Q="en",T,E,R=cdc.util.findEnvironment(),L={},C=cdc.cookie.getCookie("CP_GUTC");let z=document.querySelector("meta[name=language]")?document.querySelector("meta[name=language]").getAttribute("content"):"";o.includes(z)||(z="en"),typeof cdc.rc.locale_info<"u"&&(T=cdc.rc.locale_info.substring(0,2),Q=T.length>1?'csclanguage:EQUALS("'+T+'")':""),v==="latest"?b=[{items:[{fieldname:"csclanguage",value:z,lastval:"true"}],last:"true"}]:v==="solved"?b=[{items:[{fieldname:"csclanguage",value:z,lastval:"true"}]},{items:[{fieldname:"issolved",value:"true",lastval:"true"}],last:"true"}]:v==="documents"&&(b=[{items:[{fieldname:"csclanguage",value:z,lastval:"true"}]},{items:[{fieldname:"csctype",value:"tkb",lastval:"tkb"}],last:"true"}]);let I=document.querySelector("meta[name=concept]")?document.querySelector("meta[name=concept]").getAttribute("content"):"";(!I||I&&I==="")&&(I=document.querySelector("meta[name=title]")?document.querySelector("meta[name=title]").getAttribute("content"):"",z!=="en"&&(I=I.replace(/[^\x00-\x7F]/g,"").trim())),I!=null&&(I=I.replace(/(^|[^\/])\/(?!\/)/g,"$1//")),L={id:"cdc_boundsearch_comm_template",params:{queryString:I,size:350,from:0,language:z,filters:[{items:[{fieldname:"csclanguage",value:z,lastval:"true"}],last:"true"}]}},L.params.filters=b,!R||R==="unknown"||R==="prod"?R="":R==="dev"?R="-dev":window.location.href.indexOf("-pstage.cisco")>-1?R="-pstage":R="-stage";var M="https://crs"+R+".cloudapps.cisco.com/support/cwsx/crs/pub/esps?v=1.0",P='<div><div class="spinner"><img src="/etc/designs/cdc/fw/i/spinner.gif" alt="..." />Loading Content...</div></div>',w=!1;jQuery.ajax({url:M,type:"POST",beforeSend:function(B){w=!1,u=setTimeout(S,d),l=setTimeout(_,h),B.setRequestHeader("Content-type","text/plain;charset=utf-8")},dataType:"json",data:JSON.stringify(L),success:A,error:_});function S(){w||(jQuery(".community-"+v).append(P),jQuery(".community-"+v+" .spinner").show())}function A(B){jQuery(".community-"+v+" .nocontent").hide(),jQuery(".community-"+v+" .techerror").hide(),x(B),g(v),w=!0,f()}function _(){w=!0,f(),clearTimeout(u),clearTimeout(l),jQuery(".community-"+v+" .nocontent").hide();let B=cdc.rc.series.communitymsgs.techError.replace("$URL",cdc.rc.series.communitymsgs.communityHome);jQuery(".community-"+v+" h2").after('<div class="techerror open">'+B+"</div>")}function k(){w=!0,f(),clearTimeout(u),clearTimeout(l);let D='<div class="nocontent open">'+cdc.rc.series.communitymsgs.noResults.replace("$URL",cdc.rc.series.communitymsgs.communityHome)+"</div>";jQuery(".community-"+v).append(D)}function x(B){r[v]||(r[v]={}),clearTimeout(u),clearTimeout(l),jQuery(".community-"+v+" .nocontent").hide();function D(q){var W=cdc.rc.series.communitymsgs,F=W.day,ne=W.days,H=1e3*60*60*24,K=W.week,ee=W.weeks,re=H*7,U=W.month,X=W.months,oe=H*30,le=W.year,pe=W.years,ge=H*365,ye=new Date,fe=new Date(q),de,je;return de=Math.floor((ye-fe)/ge),de>0?je=de>1?pe:le:(de=Math.floor((ye-fe)/oe),de>0?je=de>1?X:U:(de=Math.floor((ye-fe)/re),de>0?je=de>1?ee:K:(de=Math.floor((ye-fe)/H),je=de>1?ne:F,de==0&&(de="&lt;1")))),je.replace("$#",de)}function N(q,W,F){q.csccreateddate?q.created_in=D(q.csccreateddate):q.created_in="",q.csclastmodified?q.modified_in=D(q.csclastmodified):q.modified_in=D(q.csccreateddate),q.icon_type="",q.section=v,q.cscboardhref=q.cscboardhref?q.cscboardhref:"",q.cscboardtitle=q.cscboardtitle?q.cscboardtitle:"",q.cscauthor=q.cscauthor?q.cscauthor:"",q.url=q.url?q.url:"";let ne=!1;q.cscboardtitle.trim()in t&&(ne=!0),ne||(t[q.cscboardtitle.trim()]=[]),q.cscboardtitle.trim()in s[v]||(s[v][q.cscboardtitle.trim()]=[]),s[v][q.cscboardtitle.trim()].push(F),s[v]["All Boards"].push(F);let H=document.querySelector("meta[name=language]")?document.querySelector("meta[name=language]").getAttribute("content"):"";return o.includes(H)||(H="en"),q.title=q["title."+H]?q["title."+H]:"",q.teaser=W&&W["content."+H]?W["content."+H]:"",ie.process(q)}function O(q){let W=["latest","solved","documents"];for(let F=0;F<W.length;++F){jQuery(".community-"+W[F]+" ul li").remove();let ne="<ul";jQuery(".community-"+W[F]+" h2 .open")&&jQuery(".community-"+W[F]+" h2 .open").length>0?ne+=' class="open">':ne+=">";let H="</ul>",K=ne;if(W[F]in r)if(q in r[W[F]]){let ee=r[W[F]][q];jQuery(".community-"+W[F]+" .nocontentboard")&&jQuery(".community-"+W[F]+" .nocontentboard").removeClass("open");for(let re=0;re<Math.min(10,ee.length);++re)"cscauthor"in ee[re]._source||(ee[re]._source.cscauthor=""),K+=N(ee[re]._source,ee[re].highlight,re);K+=H,jQuery(".community-"+W[F]+" h2").after(K)}else jQuery(".community-"+W[F]+" .nocontentboard")&&!jQuery(".community-"+W[F]+" .nocontentboard").hasClass("open")&&jQuery(".community-"+W[F]+" .open")&&jQuery(".community-"+W[F]+" .open").length>0&&jQuery(".community-"+W[F]+" .nocontentboard").addClass("open")}}function V(q){let W=jQuery(".board_selector .selected button");if(W.length>0&&W[0])for(let F=0;F<q.length;++F){if(q[F]in s)if(W[0].value.trim()in s[q[F]]&&s[q[F]][W[0].value.trim()].length>0){jQuery(".community-"+q[F]+" .nocontentboard")&&jQuery(".community-"+q[F]+" .nocontentboard").removeClass("open");let ne=s[q[F]][W[0].value.trim()],H=jQuery(".community-"+q[F]+" li");H&&H.length>0&&(H.filter(function(){return!ne.includes($(this).index())}).css("display","none"),H.filter(function(){return ne.includes($(this).index())}).css("display","block"))}else jQuery(".community-"+q[F]+" li").css("display","none");g(q[F])}}var J=jQuery("#jstemplatedata").html(),Y,G='<ul class="open">',Z="</ul>",se="";if(B.hits!==void 0&&B.hits.hits!==void 0&&B.hits.hits.length>0){let q=B.hits.hits;q.sort(function(F,ne){return new Date(ne._source.csclastmodified)-new Date(F._source.csclastmodified)}),r[v]["All Boards"]=[];for(let F=0;F<q.length;++F)q[F]._source&&"cscboardtitle"in q[F]._source&&!r[v][q[F]._source.cscboardtitle.trim()]?r[v][q[F]._source.cscboardtitle.trim()]=[q[F]]:q[F]._source&&"cscboardtitle"in q[F]._source&&r[v][q[F]._source.cscboardtitle.trim()]&&r[v][q[F]._source.cscboardtitle.trim()].push(q[F]),r[v]["All Boards"].push(q[F]);var te=Math.min(10,B.hits.hits.length),ie=new cdc.util.JsTemplate(J);for(Y=G,s[v]={},s[v]["All Boards"]=[],t["All Boards"]=[],i=0;i<te;i++)"cscauthor"in B.hits.hits[i]._source||(B.hits.hits[i]._source.cscauthor=""),Y+=N(B.hits.hits[i]._source,B.hits.hits[i].highlight,i);let W="";jQuery(".board_selector .selected button")&&jQuery(".board_selector .selected button").length>0&&(W=jQuery(".board_selector .selected button")[0].innerText),jQuery(".board_selector li:not(.initial)")&&jQuery(".board_selector li:not(.initial)").remove();for(let[F,ne]of Object.entries(t).sort())jQuery(".board_selector")&&(W.trim()===F.trim()&&W.trim()!==""||F.trim()==="All Boards"&&W.trim()===""?jQuery(".board_selector").append('<li role="option" class="selected"><button value="'+F.trim()+'">'+F.trim()+"</button></li>"):jQuery(".board_selector").append('<li role="option"><button value="'+F.trim()+'">'+F.trim()+"</button></li>"));switch(Y+=Z,v){case"latest":view_all_text=cdc.rc.series.communitymsgs.viewLatest,add_filter="",se="latest";break;case"solved":view_all_text=cdc.rc.series.communitymsgs.viewSolved,add_filter="%7Cmetadata:issolved",se="solved";break;case"documents":view_all_text=cdc.rc.series.communitymsgs.viewAll,add_filter="%7Ctype:tkb",se="documentation"}B.totalHits>10&&(Y+='<a href="https://community.cisco.com/t5/custom/page/page-id/search?filter=location:technology-support'+add_filter+"&q="+encodeURI(cdc.rc.concept_name)+'&mode=" class="open">'+view_all_text+"</a>")}else w=!0,f(),k();if(jQuery(".community-"+v+" h2").after(Y),jQuery(".board_selector .selected")&&jQuery(".board_selector .selected").length>0){let q=jQuery(".board_selector .selected").text();O(q)}function ce(q){return q.scrollHeight>=q.clientHeight||q.scrollWidth>=q.clientWidth}function ae(){let q=jQuery(".community-"+v+" .open .description"),W=jQuery(".community-"+v+" .open .community_shortened"),F=jQuery(".community-"+v+" .open .community");if(jQuery(".board_selector .selected")&&V([v]),q)for(let H=0;H<q.length;++H)ce(q[H])?W[H]&&W[H].parentNode&&W[H].parentNode.removeChild(W[H]):(W[H]&&W[H].classList&&(W[H].classList.remove("community_shortened"),W[H].classList.add("community_shortened_on")),F[H]&&F[H].classList&&(F[H].classList.add("community_shortened"),F[H].classList.remove("community")))}jQuery(".board_selector li").keydown(function(q){var W=Array.from(document.querySelectorAll("ul.board_selector li:not(.initial)")),F=W[1];q.keyCode==13?jQuery(".board_selector li:nth-child(2)").css("display")=="none"?jQuery("li.initial button:nth-child(2)").css("display")=="none"&&jQuery(".communityseries ul").not(".open")&&setTimeout(()=>{F.children[0].focus()},0):jQuery(".board_selector li:nth-child(2)").focus():q.keyCode==27&&(jQuery(".communityseries ul").removeClass("open"),setTimeout(()=>{jQuery("ul.board_selector li.initial button").focus()},1))}),e||(jQuery(document).on("click",".board_selector li",function(q){q.preventDefault(),q.stopPropagation();var W=jQuery(q.target),F=jQuery("#info-community .board_selector"),ne=jQuery("li",F);W.hasClass("reset")||W.parent("li").hasClass("initial")?F.hasClass("open")?(F.removeClass("open"),F.attr("aria-expanded",!1)):(F.addClass("open"),F.attr("aria-expanded",!0)):(F.removeClass("open"),F.attr("aria-expanded",!1),ne.removeClass("selected"),W.parent("li").addClass("selected"),selected_board=W.text(),V(["latest","solved","documents"]),ae(),O(selected_board),p(),jQuery(".board_selector .initial button:nth-child(2)")&&jQuery(".board_selector .initial button:nth-child(2)").length>0&&jQuery(".board_selector .initial button:nth-child(2)").show())}),jQuery(document).on("click",".board_selector .initial button:nth-child(2)",function(q){jQuery(".board_selector li:nth-child(2)")&&(jQuery("li.initial button:nth-child(1)").focus(),jQuery(".board_selector li:nth-child(2)").click()),jQuery(".board_selector .initial button:nth-child(2)")&&jQuery(".board_selector .initial button:nth-child(2)").length>0&&jQuery(".board_selector .initial button:nth-child(2)").hide()}),e=!0);function ue(q,W){var F=Array.from(document.querySelectorAll("ul.board_selector li:not(.initial)")),ne=F[1],H=F[F.length-2],K=W.parentElement,ee=F.indexOf(K)==-1?0:F.indexOf(K),re=F[ee-1]||H,U=F[ee+1]||ne;q=="prev"?re.children[0].focus():U.children[0].focus()}function he(q){var W=q.keyCode,F=q.target;switch(W){case 38:q.preventDefault(),ue("prev",F);break;case 40:q.preventDefault();var ne=jQuery(".board_selector");ne.addClass("open"),ne.attr("aria-expanded",!0),ue("nxt",F);break}}jQuery("ul.board_selector").on("keydown",function(q){he(q)}),ae()}}function p(){let v=jQuery(".board_selector .selected").text();var b=jQuery("li .community a").attr("href");c.hide(),v&&v!=="All Boards"&&b&&(b=cdc.sso.isAuthenticated()?b:"/c/login/index.html?referer="+b,c.attr("href",b),c.show())}m(),jQuery(document).ready(function(){jQuery(".board_selector .initial button:nth-child(2)")&&jQuery(".board_selector .initial button:nth-child(2)").length>0&&jQuery(".board_selector .initial button:nth-child(2)").hide(),(jQuery("body").hasClass("cdc-support-series")||jQuery("body").hasClass("cdc-support-model")||jQuery("body").hasClass("cdc-support-technology-series"))&&(jQuery("#community").parents("#drawertab").length==0||cdc.rc.drawertab&&cdc.rc.drawertab.isMyTabOpen("#community"))&&cdc.rc.series.community.getCommunityData(jQuery("#community-results h2>button").eq(0))})});jQuery(document).ready(function(){if(cdc&&cdc.widget&&cdc.widget.backToTop){var e=jQuery("#info-documents"),t=jQuery(".top-categories"),s={hasDataSelector:"#actual-document-listings a[href]",button:{targetSelector:"#drawertab"}};new cdc.widget.backToTop().create(e,t,s)}});jQuery(".lll-link").prev(".doc-sublist").find("h4:first").after('<h4 class="mostrecent">'+cdc.rc.mostRecent+"</h4>");jQuery(".lll-link").prev(".doc-sublist").find("li").find(".most_recent_link_date").show();jQuery("#filterSearchSwitcher").length&&(cdc.util.ensureNamespace("cdc.rc"),cdc.rc.docFilters=new function(){let e=document.querySelector("#filterSearchSwitcher"),t=document.querySelector("#filterDocs"),s=t.querySelector(".showFilters"),r=document.querySelector("#filterDocsPanel"),a=document.querySelector("#resetFilters"),d=document.querySelector("#filterDocsResults"),h=document.querySelector("#filterDocsNoResults"),u=document.querySelector("#filterDocHasResults"),l=document.querySelector("#bsearch-wrapper"),o=document.querySelector("#decoy-search-form"),c=document.getElementById("decoySearch"),f=document.querySelector("#bsearch-form"),g=document.querySelectorAll(".model-releases-latest li a").length,m=JSON.parse(cdc.rc.docFiltersjsp.Json).DocumentFilterData.EotData,y={model:[],softwaretype:[],softwareversions:[],tasks:[]};this.getFilters=function(){return y},resetFilters=function(){t.classList.remove("filtered"),jQuery(".selected",r).removeClass("selected"),jQuery(".unavail",r).removeClass("unavail"),jQuery("input",r).prop("checked",!1),d.style.display!="none"&&cdc.expandPanel(jQuery(d),"toggle"),y={model:[],softwaretype:[],softwareversions:[],tasks:[],topics:[]};let T={lpos:"filter_reset_all",lid:"filter_reset_all",Model:y.model,SWType:y.softwaretype,SWVer:y.softwareversions,SWTopic:y.topics};cdc.ut.trackEvent.event("link",T)};function p(T,E,R){var L=E.querySelector("input").value,C,z=[],I={model:[],softwaretype:[],softwareversions:[],task:[]};function M(P,w){let S=[],A=[],_=[];S=P.length>w.length?P:w,A=P.length>w.length?w:P,typeof S=="string"?_[0]=S:_=S;for(let k=0;k<A.length;k++)_.indexOf(A[k])<0&&_.push(A[k]);return _}switch(R){case"model":C=y.model,jQuery("#data-filter-type li",r).addClass("unavail"),jQuery("#data-filter-version li",r).addClass("unavail"),jQuery("#data-filter-task li",r).addClass("unavail");break;case"type":C=y.softwaretype,jQuery("#data-filter-model li",r).addClass("unavail"),jQuery("#data-filter-version li",r).addClass("unavail"),jQuery("#data-filter-task li",r).addClass("unavail");break;case"version":C=y.softwareversions,jQuery("#data-filter-model li",r).addClass("unavail"),jQuery("#data-filter-type li",r).addClass("unavail"),jQuery("#data-filter-task li",r).addClass("unavail");break;case"task":C=y.tasks,jQuery("#data-filter-model li",r).addClass("unavail"),jQuery("#data-filter-type li",r).addClass("unavail"),jQuery("#data-filter-version li",r).addClass("unavail");break}if(T=="+"?C.push(L):C.splice(C.indexOf(L),1),y.model.length==0&&y.softwaretype.length==0&&y.softwareversions.length==0&&y.tasks.length==0)resetFilters();else{if(r.classList.add("filtered"),y.model.length==1&&g){let _=document.querySelector("#filterModelPageLink"),k=y.model[0],x=Array.from(document.querySelectorAll(".model-releases-latest li a")).find(B=>B.textContent=k).href;x&&_?(_.textContent=y.model[0],_.href=x,document.querySelector("#filterModelPageDiv").style.display="block"):document.querySelector("#filterModelPageDiv").style.display="none"}else document.querySelector("#filterModelPageDiv").style.display="none";for(let _=0;_<m.length;_++){let k=m[_],x=!1,B=!1,D=!0,N=!0;if(!x&&y.softwaretype&&y.softwaretype.length){D=!1;let O=!1;if(k.softwareTypesData&&k.softwareTypesData.length){let V=[];for(let J=0;J<y.softwaretype.length;J++){filtertype=y.softwaretype[J];for(let Y=0;Y<k.softwareTypesData.length;Y++){typeset=k.softwareTypesData[Y],softwaretypes=typeset.softwaretypes;for(let G=0;G<softwaretypes.length;G++)if(softwaretypes[G].softwaretype==filtertype){if(D=!0,y.softwareversions&&y.softwareversions.length){let Z=!1;N=!1;for(let se=0;se<y.softwareversions.length;se++)Z=softwaretypes[G].softwareversions.indexOf(y.softwareversions[se])>-1,Z&&(N=!0)}N&&(y.model&&y.model.length?(O=y.model.indexOf(typeset.model)>-1,O&&(B=!0,y.tasks&&y.tasks.length&&(x=y.tasks.indexOf(k.tasks[0])==-1))):y.tasks&&y.tasks.length?(B=!0,O=!0,x=y.tasks.indexOf(k.tasks[0])==-1):(O=!0,B=!0),V=M(V,typeset.model)),!x&&O&&N&&D&&(I.softwaretype=M(I.softwaretype,[softwaretypes[G].softwaretype]),I.softwareversions=M(I.softwareversions,softwaretypes[G].softwareversions)),!x&&B&&N&&D&&(I.model=M(I.model,V),I.task=M(I.task,k.tasks))}}}}}else if(!x&&y.softwareversions&&y.softwareversions.length)if(k.softwareTypesData){let O=[];for(let V=0;V<k.softwareTypesData.length;V++){typeset=k.softwareTypesData[V],softwaretypes=typeset.softwaretypes;let J=!1;for(let Y=0;Y<softwaretypes.length;Y++){let G=!1;N=!1;for(let Z=0;Z<y.softwareversions.length;Z++)G=softwaretypes[Y].softwareversions.indexOf(y.softwareversions[Z])>-1,G&&(N=!0);N&&(y.model&&y.model.length?J=y.model.indexOf(typeset.model)>-1:J=!0,O=M(O,typeset.model),J&&(B=!0),!x&&J&&y.tasks&&y.tasks.length&&(x=y.tasks.indexOf(k.tasks[0])==-1),!x&&J&&(I.softwaretype=M(I.softwaretype,[softwaretypes[Y].softwaretype]),I.softwareversions=M(I.softwareversions,softwaretypes[Y].softwareversions)),!x&&N&&B&&(I.model=M(I.model,O),I.task=M(I.task,k.tasks)))}}}else N=!1,x=!0;else if(y.model&&y.model.length){let O=0;for(let V=0;V<y.model.length;V++)if(k.ModelsOrReleases&&k.ModelsOrReleases.length?B=k.ModelsOrReleases.indexOf(y.model[V])>-1:B=!0,B&&(O++,y.tasks&&y.tasks.length&&(x=y.tasks.indexOf(k.tasks[0])==-1),!x)){if(I.task=M(I.task,k.tasks),k.ModelsOrReleases&&k.ModelsOrReleases.length)I.model=M(I.model,k.ModelsOrReleases);else if((!k.softwareTypesData||!k.softwareTypesData.length)&&cdc.rc.docFiltersjsp&&cdc.rc.docFiltersjsp.ModelsOrReleasesList){let J=cdc.rc.docFiltersjsp.ModelsOrReleasesList;J.length&&(showFl.model=M(I.model,J))}if(k.softwareTypesData&&k.softwareTypesData.length)for(let J=0;J<k.softwareTypesData.length;J++){let Y=k.softwareTypesData[J],G=Y.softwaretypes;if(Y.model==y.model[V])for(let Z=0;Z<G.length;Z++)I.softwaretype=M(I.softwaretype,[G[Z].softwaretype]),I.softwareversions=M(I.softwareversions,G[Z].softwareversions)}}O==0&&(x=!0)}else if(y.tasks&&y.tasks.length&&(x=y.tasks.indexOf(k.tasks[0])==-1),!x){if(B=!0,I.task=M(I.task,k.tasks),k.ModelsOrReleases&&k.ModelsOrReleases.length)I.model=M(I.model,k.ModelsOrReleases);else if((!k.softwareTypesData||!k.softwareTypesData.length)&&cdc.rc.docFiltersjsp&&cdc.rc.docFiltersjsp.ModelsOrReleasesList){let O=cdc.rc.docFiltersjsp.ModelsOrReleasesList;O.length&&(showFl.model=M(I.model,O))}if(k.softwareTypesData&&k.softwareTypesData.length)for(let O=0;O<k.softwareTypesData.length;O++){let V=k.softwareTypesData[O],J=V.softwaretypes;for(let Y=0;Y<J.length;Y++)I.softwaretype=M(I.softwaretype,[J[Y].softwaretype]),I.softwareversions=M(I.softwareversions,J[Y].softwareversions),(!k.ModelsOrReleases||!k.ModelsOrReleases.length)&&(I.model=M(I.model,V.model))}}!x&&D&&N&&B&&(k.url=k.url.replace("content/","c/"),z[z.length]=k)}if(z.length){let _="",k="firstTimeThrough";for(let x=0;x<z.length;x++){let B=z[x],D=B.LLLDoctype,N="",O=B.date?new Date(B.date):!1;O&&(N=O.toLocaleDateString()),D&&D!=k&&(k!="firstTimeThrough"&&(_+=` </ul></li>
`),k=D,_+="<li><h4>"+D+'</h4><ul class="doctypeList">'),_+=' <li><a href="'+B.url+'">'+B.title+"</a> "+N+" </li>"}jQuery("#filterDocHasResults ul.fullList").html(_)}let P=document.querySelectorAll("#data-filter-model li");for(let _=0;_<P.length;_++)I.model.indexOf(P[_].querySelector("label").innerText.trim())>-1&&P[_].classList.remove("unavail");let w=document.querySelectorAll("#data-filter-type li");for(let _=0;_<w.length;_++)I.softwaretype.indexOf(w[_].querySelector("label").innerText.trim())>-1&&w[_].classList.remove("unavail");let S=document.querySelectorAll("#data-filter-version li");for(let _=0;_<S.length;_++)I.softwareversions.indexOf(S[_].querySelector("label").innerText.trim())>-1&&S[_].classList.remove("unavail");let A=document.querySelectorAll("#data-filter-task li");for(let _=0;_<A.length;_++)I.task.indexOf(A[_].querySelector("label").innerText.trim())>-1&&A[_].classList.remove("unavail");return d.style.display=="none"&&cdc.expandPanel(jQuery(d),"toggle"),z&&z.length>0?(h.style.display="none",u.style.display="block",z&&z.length>50?document.querySelector("#filterTooManyRes").style.display="block":document.querySelector("#filterTooManyRes").style.display="none"):(h.style.display="block",u.style.display="none"),z}}l.style.display="none",e.querySelector(".showFilters").addEventListener("click",function(){e.classList.add("hide"),t.classList.remove("hide"),t.querySelector("button.showFilters").classList.add("open"),b()}),o.addEventListener("submit",function(T){return T.preventDefault(),T.stopPropagation(),f.querySelector("#search-field-srchstr").value=document.getElementById("decoySearch").value,document.querySelector("#filterSearchSwitcher").classList.add("hide"),document.querySelector("#bsearch-wrapper").style.display="block",cdc.rc.docFiltersjsp.details&&cdc.rc.boundedSearch.submitSearch(cdc.rc.docFiltersjsp.details),cdc.rc.boundedSearch.checkClear(),!1});let v=o.querySelector("button.clear");if(this.checkClear=function(){c.value?v.style.display="block":v.style.display="none"},this.checkClear(),c.addEventListener("keyup",this.checkClear),c.addEventListener("change",this.checkClear),this.clearSearch=function(){},v.addEventListener("click",function(T){T.preventDefault();var E="Filter",R=E+"_search",L=E+"_search_clear_kw";typeof sendMetrics=="function"&&sendMetrics(L,R),c.value="",c.focus(),v.style.display="none"}),l&&f){l.classList.add("filtersearch");let T=document.createElement("button");T.textContent=cdc.rc.docFiltersjsp.switchto,T.classList.add("switchSearchFilter"),f.after(T),l.querySelector(".switchSearchFilter").addEventListener("click",function(){l.style.display="none",t.classList.remove("hide")})}function b(){r.classList.remove("hide"),r.setAttribute("aria-expanded","true")}function Q(){r.classList.add("hide"),r.setAttribute("aria-expanded","false")}t.querySelector(".switchSearchFilter").addEventListener("click",function(){t.classList.add("hide"),l.style.display="block"}),s.addEventListener("click",function(){var T=s;T.classList.contains("open")?(T.classList.remove("open"),Q()):r.classList.contains("hide")&&(T.classList.add("open"),b())}),jQuery("input",r).on("change",function(T){let E=T.target.parentNode,R=E.querySelector("label");if(R.classList.contains("selected"))R.classList.remove("selected"),p("-",E,T.target.name);else{R.classList.add("selected"),p("+",E,T.target.name);let L={lpos:"filter_model",lid:"filter_model",linktext:T.target.value,Model:y.model,SWType:y.softwaretype,SWVer:y.softwareversions,SWTopic:y.topics,numrslts:jQuery("#filterDocsResults .doctypeList li").length};cdc.ut.trackEvent.event("link",L)}}),a.addEventListener("click",function(){resetFilters()}),cdc.expandPanel(jQuery(d),"make"),jQuery("#filterDocsResults .fullList a").on("mousedown",function(){let T={lpos:"filter_result_click",lid:"filter_result_click",Model:y.model,SWType:y.softwaretype,SWVer:y.softwareversions,SWTopic:y.topics,numrslts:jQuery("#filterDocsResults .doctypeList li").length};cdc.ut.trackEvent.event("link",T)})});jQuery(document).ready(function(){cdc.rc.supportDownloads.fetchedModels=!1;function e(r,a){(!cdc.rc.supportDownloads.fetchedModels||a)&&(jQuery.ajax({url:r,type:"GET",beforeSend:function(u){cdc.rc.supportDownloads.myToken&&u.setRequestHeader("Authorization","Bearer "+cdc.rc.supportDownloads.myToken),u.setRequestHeader("Content-type","text/plain")},success:d,error:h}),cdc.rc.supportDownloads.fetchedModels=!0);function d(u){if(cdc.rc.lifecycle=="eos"&&!cdc.rc.isLoggedIn&&(cdc.rc.supportDownloads.eosGuest=!0),!u.error)if(!jQuery.isEmptyObject(u)&&u.response.length>1&&!cdc.rc.supportDownloads.eosGuest){let l=jQuery("#modelReleaseSelector").html(),o=new cdc.util.JsTemplate(l),c=jQuery("#seriesDownloadSelector");c.prepend(o.process(u)),jQuery(".modelSelector li").on("click",function(f){var g=jQuery(f.target),m=jQuery(".modelSelector ul"),y=jQuery("li",m);if(g.parent("li").hasClass("initial"))m.hasClass("open")?(m.removeClass("open"),m.attr("aria-expanded",!1)):(m.addClass("open"),m.attr("aria-expanded",!0));else if(m.removeClass("open"),m.attr("aria-expanded",!1),y.removeClass("selected"),g.parent("li").addClass("selected"),g.hasClass("gotosds")){let p=jQuery("#goToSds").html(),v=g[0].value,b="//software"+t+".cisco.com/download/home/"+v;p=p.replace("$URL$",b);let Q=new cdc.util.JsTemplate(p);jQuery(".downloads-container").html(Q.process(""))}else cdc.rc.supportDownloads.init(g[0].value)}),jQuery(".modelSelector li").on("keydown",function(f){function g(b){let Q=v.length-1;b<0&&(b=Q),b>Q&&(b=0),v[b].querySelector("button").focus()}for(var m=f.keyCode,y=0,p=f.target.parentElement,v=document.querySelectorAll("li",c);v[y]&&p!=v[y];)y++;if(m==37||m==38){let b=y-1;g(b)}else if(m==39||m==40){let b=y+1;g(b)}else m==27&&(v[0].click(),v[0].focus())})}else!jQuery.isEmptyObject(u)&&u.response.length==1?cdc.rc.supportDownloads.init(u.response[0].mdfId):!jQuery.isEmptyObject(u)&&cdc.rc.supportDownloads.eosGuest?document.getElementsByClassName("downloads-login-prompt")[0].style.visibility="visible":document.querySelector(".nocontent.sdjs")&&document.querySelector(".nocontent.sdjs").style("display","block")}function h(){}}if(jQuery(".modelSelector").length&&!jQuery(".modelSelector").text().trim().length){var t=cdc.util.findEnvironment();t=!t||t=="prod"?"":"-stage";let r="";if(cdc.rc.isLoggedIn==!0){let a;document.URL.indexOf("-devint")!=-1||document.URL.indexOf("-stage")!=-1||document.URL.indexOf("-pstage")!=-1?a="655ehwgg3z6msenkcx3hgcmc":a="kp2w4s2z9kqc8sfc2ebfxvb3";var s="https://"+window.location.host+"/c/contentReuse/en/us/framework/Oauth/WEMRedirectURL.html";cdc.oauth.getToken(function(d){cdc.debug.log(d),cdc.rc.supportDownloads.myToken=d,d?(r="https://apix"+t+".cisco.com/software/services/catalog/v1/products?treeLevel=1&mdfid="+cdc.rc.mdfID,document.URL.indexOf("-pstage")!=-1&&(r="https://apix-pstage.cisco.com/software/services/catalog/v1/products?treeLevel=1&mdfid="+cdc.rc.mdfID+"&apikey="+apiKey),e(r)):fetch("/c/dam/assets/json/downloadconfig.json").then(function(h){return h.json()}).then(function(h){var u=t=="-stage"?h.stage:h.prod;r="https://apix"+t+".cisco.com/software/services/public/catalog/v1/products?treeLevel=1&mdfid="+cdc.rc.mdfID+"&apikey="+u,document.URL.indexOf("-pstage")!=-1&&(r="https://apix-pstage.cisco.com/software/services/public/catalog/v1/products?treeLevel=1&mdfid="+cdc.rc.mdfID+"&apikey="+a),e(r)}).catch(function(h){console.warn(h)})},a,s)}else fetch("/c/dam/assets/json/downloadconfig.json").then(function(a){return a.json()}).then(function(a){var d=t=="-stage"?a.stage:a.prod;r="https://apix"+t+".cisco.com/software/services/public/catalog/v1/products?treeLevel=1&mdfid="+cdc.rc.mdfID+"&apikey="+d,document.URL.indexOf("-pstage")!=-1&&(r="https://apix-pstage.cisco.com/software/services/public/catalog/v1/products?treeLevel=1&mdfid="+cdc.rc.mdfID+"&apikey="+d),e(r)}).catch(function(a){console.warn(a)})}});jQuery().ready(function(){if(jQuery(".cdc-support-technology-series #birthcert")){jQuery("#birthcert .readmore").on("click",function(){let s=jQuery("#birthcert .desc-more"),r=jQuery("#birthcert .desc-less"),a=jQuery("#birthcert button.readmore");s.toggleClass("hide"),r.toggleClass("hide"),a.text()==cdc.rc.techbc.morebutton?a.text(cdc.rc.techbc.lessbutton):a.text(cdc.rc.techbc.morebutton)});let e=jQuery("#subprotocols"),t=jQuery("#birthcert .subp");e.length&&t.length&&cdc.expandPanel(e,"make"),t.on("click",function(){cdc.expandPanel(e,"toggle")})}});jQuery(".cdc-support-technology-series").length&&(jQuery(".keyInformation").length||jQuery(".visitedlinks-component").closest(".row").removeClass("halves").addClass("full"),document.getElementById("smptranslations")&&cdc.translationSelector().create());jQuery(document).ready(function(){if(cdc&&cdc.widget&&cdc.widget.backToTop){var e=jQuery("#info-documents"),t=jQuery(".top-categories"),s={hasDataSelector:"#actual-document-listings a[href]",button:{targetSelector:"#drawertab"}};new cdc.widget.backToTop().create(e,t,s)}});jQuery(function(){var e,t,s,r,a=cdc.util.findEnvironment();a=!a||a=="prod"||a=="unknown"?"":"-stage",window.location.href.indexOf("-pstage.cisco")>-1&&(a="-pstage");var d=location.href.split("?")[0].replace(/^.*\/\/[^\/]+/,"");d=d.split("#")[0];let h="https://crs"+a+".cloudapps.cisco.com/support/cwsx/crs/service/csf/errs/Guest?eotPageUrl="+encodeURIComponent(d)+"&callback=?";function u(){let o=new XMLHttpRequest;o.onreadystatechange=function(){if(o.readyState==4&&o.status==200){let f=o.responseText.replace(";",""),g={};if(f[0]==="("&&f[f.length-1]===")"?g=JSON.parse(f.substring(1,f.length-1)):g=JSON.parse(f),g["cdc.crs.response"].allDocs.length>0){let m="";jQuery(".lll-vav").show();for(var c=0;c<g["cdc.crs.response"].allDocs.length;c++)m=g["cdc.crs.response"].allDocs[c].recommendations,jQuery(".lll-vav ul").append("<li><a href="+m+">"+g["cdc.crs.response"].allDocs[c].title+"</a></li>")}l()}},o.open("GET",h,!0),o.send(null)}function l(){t=jQuery(".lll-vav ul"),s=t.children("li");for(var o=0;o<s.length&&o<6;o++)jQuery(s[o]).addClass("vavlistitems-show")}jQuery(".lll-vav").length>0&&u()});jQuery(function(){var e,t,s,r,a=cdc.util.findEnvironment();a=!a||a=="prod"||a=="unknown"?"":"-stage",window.location.href.indexOf("-pstage.cisco")>-1&&(a="-pstage");var d=location.href.split("?")[0].replace(/^.*\/\/[^\/]+/,"");d=d.split("#")[0];let h="https://crs"+a+".cloudapps.cisco.com/support/cwsx/crs/service/csf/errs/Guest?eotPageUrl="+encodeURIComponent(d)+"&callback=?";function u(){let o=new XMLHttpRequest;o.onreadystatechange=function(){if(o.readyState==4&&o.status==200){let f=o.responseText.replace(";",""),g={};if(f[0]==="("&&f[f.length-1]===")"?g=JSON.parse(f.substring(1,f.length-1)):g=JSON.parse(f),g["cdc.crs.response"].allDocs.length>0){let m="";jQuery(".series-model-vav").show();for(var c=0;c<g["cdc.crs.response"].allDocs.length;c++)m=g["cdc.crs.response"].allDocs[c].recommendations,jQuery(".series-model-vav ul").append("<li><a href="+m+">"+g["cdc.crs.response"].allDocs[c].title+"</a></li>")}cdc.rc.subtabs&&cdc.rc.subtabs.update("rec"),l()}},o.open("GET",h,!0),o.send(null)}function l(){t=jQuery(".series-model-vav ul"),s=t.children("li");for(var o=0;o<s.length&&o<6;o++)jQuery(s[o]).addClass("vavlistitems-show")}jQuery(".series-model-vav ul").length>0&&u()});if(jQuery(".cdc-support-multimedia").length){jQuery("p.results").addClass("filterhide");let e=function(){jQuery("div.topiclist").removeClass("filterhide"),jQuery("ul.llllinks").removeClass("filter"),jQuery("ul.llllinks li").removeClass("show"),jQuery("div.anonlinks").removeClass("filterhide"),jQuery("#topicfilter ul").removeClass("open"),jQuery("#topicfilter").attr("aria-expanded",!1),jQuery("#documentfilter").removeClass("open"),jQuery(".topiclist .grouped-item").removeClass("filterhide"),jQuery(".topiclist").removeClass("filter")},t=function(){function s(o){let c=0;for(let f=0;f<o.length;f++){let g=!0,m=jQuery(".text",o[f]).text().toLowerCase();for(let y=0;y<d.length&&(m.indexOf(d[y])==-1&&(g=!1),!!g);y++);g&&(o[f].classList.add("show"),c++)}jQuery("p.results").removeClass("filterhide"),c>0?jQuery("p.results").html("Results: ("+c+")"):jQuery("p.results").html("No Results found")}let r=new RegExp(" ");var a=jQuery("#documentfilter #termfilter")[0].value,d=a.toLowerCase().split(r),h=jQuery("#documentfilter input:checked"),u=jQuery("div.topiclist");if(e(),h.length){let o=[],c=[];for(let f=0;f<h.length;f++)o.push(h[f].id.replace("topic",""));jQuery("div.anonlinks").addClass("filterhide"),d==""&&jQuery("p.results").addClass("filterhide");for(let f=0;f<u.length;f++)c.push(jQuery("li",u[f])),jQuery.inArray(u[f].id,o)==-1?u[f].classList.add("filterhide"):a.length&&(h.length==u.length?(jQuery("ul.llllinks").addClass("filter"),s(jQuery("ul.llllinks li"))):(u[f].classList.add("filter"),s(jQuery("li",u[f]))))}else a.length&&(jQuery("ul.llllinks").addClass("filter"),s(jQuery("ul.llllinks li")));let l=jQuery("div.topiclist");for(let o=0;o<l.length;o++)(!jQuery("li.show",l[o]).length&&jQuery("topiclist",l[o]).hasClass("filterhide")||!jQuery("li.show",l[o]).length&&jQuery("topiclist",l[o]).not(".filterhide")&&jQuery("li",l[o]).css("display")=="none")&&jQuery("p.grouped-item",l[o]).addClass("filterhide")};jQuery("#mobileFilterButton").on("click",function(){jQuery("#documentfilter").addClass("open"),jQuery("#termfilter")[0].focus()}),jQuery("#documentfilter .close-button").on("click",function(){jQuery("#documentfilter").removeClass("open"),document.getElementById("mobileFilterButton").focus()}),jQuery("#documentfilter input,#documentfilter button").keydown(function(s){s.keyCode==27&&(cdc.breakpoint.getScreenSize()=="short"||cdc.breakpoint.getScreenSize()=="xsmall")&&jQuery("#documentfilter").removeClass("open")}),jQuery("#termfilter").on("keydown",function(s){s.keyCode==13&&t()}),jQuery("#topicfilter button").on("click",function(){jQuery("#topicfilter ul").toggleClass("open");let s=jQuery("#topicfilter").attr("aria-expanded")!="true";jQuery("#topicfilter").attr("aria-expanded",s)}),jQuery("#topicfilter ul").on("keydown",function(s){s.keyCode==27&&(jQuery("#topicfilter ul").removeClass("open"),jQuery("#topicfilter").attr("aria-expanded",!1),jQuery("topicfilter button")[0].focus())}),jQuery("#resetfilters").on("click",function(){jQuery("#documentfilter #termfilter")[0].value="",jQuery("#documentfilter #topicfilter input").attr("checked",!1),jQuery("p.results").addClass("filterhide"),jQuery(".multimediallllink").parent().removeClass("filterhide"),e()}),jQuery("#applyfilters").on("click",function(){t()})}if(jQuery(".view_all").length){let e=document.getElementsByClassName("view_all");for(let t=1;t<=e.length;++t)e[t-1].addEventListener("click",function(){if(e[t-1].textContent==="View All"){e[t-1].textContent="Show Fewer";let s=jQuery("#"+t).find(".hidden_video");console.log(s);for(let r=0;r<s.length;++r)s[r].style.display="inline-block"}else{e[t-1].textContent="View All";let s=jQuery("#"+t).find(".hidden_video");console.log(s);for(let r=0;r<s.length;++r)s[r].style.display="none"}})}jQuery("body").hasClass("cdc-support-multimedia-eot")&&jQuery(document).ready(function(){function e(){var h=jQuery("#detailsSection"),u=document.querySelector("#detailsSection #detail-button"),l=document.querySelectorAll(".detailPanel ul a");h.toggleClass("open"),window.location.href.match("en/us")&&h.hasClass("open")?jQuery(".cdc-support-multimedia-eot #detailsSection #multimedia_detail_panel").css("width","25vw"):jQuery(".cdc-support-multimedia-eot #detailsSection #multimedia_detail_panel").css("width","31vw"),h.hasClass("open")?(jQuery(".contactUs").removeClass("open"),u.setAttribute("aria-expanded","true"),l.length&&l[0].focus()):(u.setAttribute("aria-expanded","false"),u.focus()),event.stopPropagation()}function t(h){var u=h.target,l=jQuery("#detailsSection");l.hasClass("open")&&!jQuery(u).parent(".detailPanel, #detailsSection button, .aboutBias, .aboutTranslation").length&&l.removeClass("open")}jQuery("#detailsSection #detail-button").on("click",e),jQuery("body").on("click",t),cdc.translationSelector().create();var s=jQuery("#multimedia_detail_panel .aboutBias button"),r=jQuery("#multimedia_detail_panel .aboutTranslation button"),a=jQuery("#multimedia_detail_panel .biasfreeContent"),d=jQuery("#multimedia_detail_panel .translationContent");s.on("click",function(){s.attr("aria-expanded")=="true"?(s.attr("aria-expanded","false"),a.removeClass("open")):(s.attr("aria-expanded","true"),a.addClass("open"))}),r.on("click",function(){r.attr("aria-expanded")=="true"?(r.attr("aria-expanded","false"),d.removeClass("open"),cdc.util.ls.setConfigInfo("closedbiasdisclaimer",!0)):(r.attr("aria-expanded","true"),d.addClass("open"))})});var ke=async()=>{window.cdcext==null&&(window.cdcext={}),window.cdcext.host==null&&(window.cdcext.host="WEM");let e="";if(window.cdcext.customEnvironment!=null&&window.cdcext.customEnvironment!=="prod"){let t=new Date;e=`?t=${t.getUTCMonth()}${t.getUTCDate()}${t.getUTCHours()}`}await import(`/etc.clientlibs/cisco-cdc/clientlibs/clientlib-external/resources/external/external.js${e}`)};(jQuery(".cdc-books #saveModule").length||jQuery(".cdc-eot #saveModule").length||jQuery(".cdc-support-multimedia-eot #saveModule").length)&&(ve=jQuery("#saveModule button.save"),Le=jQuery("label",ve),be=jQuery(".saveDocumentMessage"),Ce=window.location.href.replace(/[?#].*/,""),cdc.util.ensureNamespace("cdc.rc"),cdc.rc.savethisdocument=new function(){var e=cdc.util.findEnvironment(),t={},s=e=="dev"||e=="stage"?"-"+e:"",r="https://cdcpzn-services"+s+".cisco.com/api/pzn/psn/save/docs.json",a="https://cdcpzn-services"+s+".cisco.com/api/pzn/psn/delete/docs.json",d="https://cdcpzn-services"+s+".cisco.com/api/pzn/psn/checkurl/docs.json";window.location.href.indexOf("-pstage.cisco")>-1&&(s="-pstage",r="https://cdcpzn-services"+s+".cisco.com/api/pzn/psn/save/docs.json",d="https://cdcpzn-services"+s+".cisco.com/api/pzn/psn/saved/docs.json",a="https://cdcpzn-services"+s+".cisco.com/api/pzn/psn/delete/docs.json");function h(){cdc.sso.hasAuthHeader().then(function(g){g&&(t.Authorization=g);function m(){l()}function y(){jQuery(".confirm","myMessage").css("display","none"),jQuery(".err","myMessage").css("display","block")}jQuery.ajax({contentType:"text/plain",dataType:"json",url:r,type:"POST",data:JSON.stringify({urls:[Ce]}),headers:t,success:m,error:y})}).catch(function(g){console.log("didn't auth",g)})}function u(){cdc.sso.hasAuthHeader().then(function(g){g&&(t.Authorization=g);function m(){o(),cdc.expandPanel(be,"toggle")}function y(){jQuery(".confirm","myMessage").css("display","none"),jQuery(".err","myMessage").css("display","block")}jQuery.ajax({contentType:"text/plain",dataType:"json",url:a,type:"POST",data:JSON.stringify({urls:[Ce]}),headers:t,success:m,error:y})}).catch(function(g){console.log("didn't auth",g)})}function l(){ve.addClass("issaved"),Le.text(cdc.rc.savedoc.saved)}function o(){ve.removeClass("issaved"),Le.text(cdc.rc.savedoc.save)}function c(){cdc.sso.hasAuthHeader().then(function(g){g&&(t.Authorization=g),jQuery.ajax({contentType:"text/plain",dataType:"json",url:d,type:"POST",headers:t,data:JSON.stringify({url:Ce}),success:m,error:y});function m(p){p==!0&&l()}function y(){jQuery(".confirm","myMessage").css("display","none"),jQuery(".err","myMessage").css("display","block")}}).catch(function(g){console.log("didn't auth",g)})}function f(){ke().then(()=>{c()})}cdc.expandPanel(be,"make"),ve.on("click",function(g){cdc.expandPanel(jQuery(".docHeaderComponent .download-list"),"hide"),cdc.expandPanel(jQuery(".docHeaderComponent .availableLanguagesList"),"hide"),cdc.expandPanel(be,"toggle"),ve.hasClass("issaved")||h()}),ve.on("keydown",function(g){g.keyCode==27&&be.hasClass("cdc-expandPanel-visible")&&cdc.expandPanel(be,"toggle")}),jQuery(".saveDocumentMessage #unsaveDoc").on("click",function(g){u()}),cdc.rc.savedoc.isLoggedIn&&jQuery(document).ready(f())});var ve,Le,be,Ce;jQuery(function(){let e,t,s=cdc.util.findEnvironment(),r=s=="dev"||s=="stage"?"-"+s:"",a="https://cdcpzn-services"+r+".cisco.com/api/pzn/psn/filtered/docs.json",d=jQuery("meta[name=concept]").attr("content"),h={concept:d};window.location.href.indexOf("-pstage.cisco")>-1&&(r="-pstage",a="https://cdcpzn-services"+r+".cisco.com/api/pzn/psn/filtered/docs.json");function u(){let l={};cdc.sso.hasAuthHeader().then(function(o){o&&(l.Authorization=o,jQuery.ajax({contentType:"text/plain",dataType:"json",url:a,type:"POST",data:JSON.stringify(h),headers:l,success:f,error:c}));function c(){jQuery(".err-msg").css("display","block")}function f(m){let y=m.docs,p="";if(jQuery(".series-model-saved-content").show(),y&&y.length)for(let v=0;v<y.length&&v<10;v++){let b=y[v].metadata,Q=y.length>=10&&((v+1)%10==0||v==y.length-1)?"lastItem":"",T="";b&&b.url&&b.title&&y[v]&&y[v].url&&(T='<li class="'+Q+' actuallink"><a href="'+y[v].url+'">'+b.title+" </a> </li>"),p=p+T}p&&p.length&&(jQuery(".series-model-saved-content ul.content").prepend(p),jQuery(".view-all").css("display","block")),(!p||!p.length)&&jQuery(".no-content-msg").css("display","block"),cdc.rc.subtabs&&cdc.rc.subtabs.update("saved"),g()}function g(){e=jQuery(".series-model-saved-content ul"),t=e.children("li"),jQuery(".actuallink").length&&cdc.rc.subtabs.tabSelection();for(var m=0;m<t.length&&m<=10;m++)jQuery(t[m]).addClass("vavlistitems-show")}}).catch(function(){})}jQuery(".series-model-saved-content ul").length>0&&jQuery(document).ready(ke().then(()=>{cdc.sso.addSSOListener(u)}))});document.querySelector(".versionsdd")!=null&&(cdc.rc.versions=new function(){var e=document.querySelector(".cdc-eot-toc")?document.querySelector("#overDocWrapper .versionsdd"):document.querySelector(".versionsdd"),t=e.querySelector(".versionbutton"),s=e.querySelector(".versionlist");function r(){let a;s.classList.contains("open")?(t.setAttribute("aria-expanded",!1),s.classList.remove("open"),t.focus(),a="msc_pg_dropdown_close"):(t.setAttribute("aria-expanded",!0),s.classList.add("open"),s.querySelector("a").focus(),a="msc_pg_dropdown_open"),cdc.ut.trackEvent.event("link",{ntpagetag:{lid:a,lpos:"msc_pg_dropdown"}})}s.querySelector("li a.selected")&&s.querySelector("li a.selected").innerText?t.querySelector("label").innerText=s.querySelector("li a.selected").innerText:t.querySelector("label").innerText="Other versions",t.addEventListener("click",r),e.addEventListener("keydown",function(a){a.keyCode===27&&(a.preventDefault(),s.classList.contains("open")&&r())}),s.addEventListener("keydown",function(a){if(me=a.target.parentNode,a.keyCode==40||a.keyCode==39)return me.nextElementSibling.querySelector("a").focus(),!1;if(a.keyCode==38||a.keyCode==37)return me.previousElementSibling.querySelector("a").focus(),!1})});
/*!
Chosen, a Select Box Enhancer for jQuery and Prototype
by Patrick Filler for Harvest, http://getharvest.com

Version 1.1.0
Full source at https://github.com/harvesthq/chosen
Copyright (c) 2011 Harvest http://getharvest.com

MIT License, https://github.com/harvesthq/chosen/blob/master/LICENSE.md
This file is generated by `grunt build`, do not edit it by hand.
*/
/*!
 * jQuery Smart Banner
 * Copyright (c) 2012 Arnold Daniels <arnold@jasny.net>
 * Based on 'jQuery Smart Web App Banner' by Kurt Zenisek @ kzeni.com
 */

var T=Object.create;var w=Object.defineProperty;var C=Object.getOwnPropertyDescriptor;var I=Object.getOwnPropertyNames;var E=Object.getPrototypeOf,O=Object.prototype.hasOwnProperty;var V=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var U=(t,e,c,d)=>{if(e&&typeof e=="object"||typeof e=="function")for(let u of I(e))!O.call(t,u)&&u!==c&&w(t,u,{get:()=>e[u],enumerable:!(d=C(e,u))||d.enumerable});return t};var N=(t,e,c)=>(c=t!=null?T(E(t)):{},U(e||!t||!t.__esModule?w(c,"default",{value:t,enumerable:!0}):c,t));var L=V((exports,module)=>{typeof cdcPageTimers<"u"&&(cdcPageTimers.utloader=new Date);typeof cdc>"u"&&(cdc=new Object);typeof cdc.util>"u"&&(cdc.util=new Object);typeof cdc.util.ensureNamespace>"u"&&(cdc.util.ensureNamespace=function(t){if(t)for(var e=t.split("."),c=window,d=0;d<e.length;d++){var u=e[d];typeof c[u]!="object"&&(c[u]=new Object),c=c[u]}});cdc.util.ensureNamespace("cdc.ut.liveManager");cdc.util.ensureNamespace("cdc.ut.trackEvent");cdc.util.ensureNamespace("cdc.ut.eventqueue");cdc.util.ensureNamespace("cdc.ut.config");cdc.ut.config.set=function(t,e,c){c={},typeof t=="string"?c[t]=e:c=t;for(t in c)typeof c[t]<"u"&&(cdc.ut.config[t]=c[t])};cdc.ut.liveManager={q:{},filesToLoad:[],fileIsLoaded:{},loadedFileCount:0,o:0,lmIsLoaded:0,img:[],loadFiles:function(fileInformation){if(fileInformation.notAsync&&this.filesToLoad.push(fileInformation),document.createElement){var nodeId="Lm_"+fileInformation.nodeIdSuffix;if(!document.getElementById(nodeId)){try{eval(fileInformation.initScript)}catch(t){}var scriptNode=document.createElement("script");scriptNode.language="javascript",scriptNode.type="text/javascript",scriptNode.src=fileInformation.fileURL,scriptNode.id=nodeId,document.getElementsByTagName("head")[0].appendChild(scriptNode)}}},LOAD:function(libraryName){this.fileIsLoaded[libraryName]=0;for(var count=this.filesToLoad.length,i=this.loadedFileCount;i<count;i++){var aFile=this.filesToLoad[i];if(this.fileIsLoaded[aFile.nodeIdSuffix]==0){this.fileIsLoaded[aFile.nodeIdSuffix]=++this.loadedFileCount;try{eval(aFile.callback)}catch(t){}}else return}this.loadedFileCount==count&&this.o==0&&(this.o=1)},bindEvent:function(t,e,c,d){t.addEventListener?t.addEventListener(e,c,!1):t.attachEvent&&t.attachEvent((d==1?"":"on")+e,c)}};cdc.ut.liveManager.getEnvConfig=function(){try{if(typeof cdc<"u"&&typeof cdc.util.findEnvironment<"u"){var t=cdc.util.findEnvironment();switch(t){case"dev":return{domainUrl:"//fdk-devint.cisco.com",ntpage_domain:"//cisco-tags-stg.cisco.com"};case"stage":return{domainUrl:cdc.util.matchesTrueWemEnv()?"":"//fdk-stage.cisco.com",ntpage_domain:"//cisco-tags-stg.cisco.com"};case"prod":return{domainUrl:"//www.cisco.com",ntpage_domain:"//cisco-tags.cisco.com"};case"unknown":return{domainUrl:"",ntpage_domain:""}}}else return{domainUrl:"",ntpage_domain:""}}catch{return{domainUrl:"",ntpage_domain:""}}}();cdc.ut.liveManager.config={domain:".cisco.com",exit_domain:".cisco.com",passthru:!0,sc_acct:"cisco-us",sc_test:!1,sc_testaccount:"cisco-dev",s_code_src:cdc.ut.liveManager.getEnvConfig.domainUrl+"/etc/designs/cdc/fw/m/s_code.min.js",s_code_ut_src:cdc.ut.liveManager.getEnvConfig.domainUrl+"/etc/designs/cdc/fw/m/s_code_ut.min.js",trackevent_src:cdc.ut.liveManager.getEnvConfig.domainUrl+"/etc/designs/cdc/fw/m/trackEvent.min.js",rs_map_src:cdc.ut.liveManager.getEnvConfig.domainUrl+"/web/fw/m/rs_map.min.js",ntpagetag_src:cdc.ut.liveManager.getEnvConfig.domainUrl+"/etc/designs/cdc/fw/m/ntpagetag.min.js",ntpagetag_sensor:cdc.ut.liveManager.getEnvConfig.ntpage_domain+"/tag/ntpagetag.gif",ntpagetag_sensor_secure:cdc.ut.liveManager.getEnvConfig.ntpage_domain+"/tag/ntpagetag.gif",dev_domain:[],send:{s_code:!0,tnt:!0,ntpagetag:!1}};typeof cdc.homepage<"u"&&cdc.homepage.isHomepage==!0&&(cdc.ut.liveManager.config.rs_map_src=cdc.ut.liveManager.getEnvConfig.domainUrl+"/web/fw/m/rs_map.home.min.js",cdc.ut.liveManager.config.rs_map_src_cache=cdc.ut.liveManager.getEnvConfig.domainUrl+"/web/fw/m/rs_map.min.js");cdc.ut.liveManager.lh=location.hostname;try{if(cdc.ut.liveManager.localConfig=cdc.util.ut.getConfigInfo(),cdc.ut.liveManager.localConfig!==!1){for(i in cdc.ut.liveManager.localConfig)typeof cdc.ut.liveManager.localConfig[i]!="function"&&i!="send"&&i!="dopconfig"&&i!="ntconfig"&&(cdc.ut.liveManager.config[i]=cdc.ut.liveManager.localConfig[i]);typeof cdc.homepage<"u"&&cdc.homepage.isHomepage==!0&&(cdc.ut.liveManager.config.rs_map_src=cdc.ut.liveManager.localConfig.rs_map_home_src);try{cdc.ut.liveManager.config.ntpagetag_sensor=cdc.ut.liveManager.localConfig.ntconfig.send.ntpagetag_sensor}catch{}try{cdc.ut.liveManager.config.ntpagetag_sensor_secure=cdc.ut.liveManager.localConfig.ntconfig.send.ntpagetag_sensor_secure}catch{}if(typeof cdc.ut.liveManager.localConfig.send<"u")for(i in cdc.ut.liveManager.localConfig.send)typeof cdc.ut.liveManager.localConfig.send[i]!="function"&&(cdc.ut.liveManager.config.send[i]=cdc.ut.liveManager.localConfig.send[i])}}catch(t){}var i;cdc.ut.liveManager.storeRequest=function(t,e){try{if(cdc.ut.liveManager.config.store_requests[t]==!0&&sessionStorage){var c=sessionStorage.getItem(t+"_rc");c||(c=0),sessionStorage.setItem(t+"_r"+c,e),sessionStorage.setItem(t+"_rc",parseInt(c)+1)}}catch{}};typeof cdc.ut.eventqueue.q>"u"&&(cdc.ut.eventqueue.q=[]);typeof cdc.ut.trackEvent.event>"u"&&(cdc.ut.trackEvent={event:function(t,e){var c="";for(var d in e)c+="&"+d+"="+e[d];e.tag=cdc.ut.liveManager.trackingVariables.tag,cdc.ut.eventqueue.q.push({a:t,b:e})}});var trackEvent=cdc.ut.trackEvent;cdc.ut.liveManager.pageLocation=location.hostname+location.pathname;cdc.ut.liveManager.du=document.URL.split("?")[0];cdc.ut.liveManager.du.indexOf("#")>0&&cdc.ut.liveManager.du.lastIndexOf("/")>cdc.ut.liveManager.du.indexOf("#")&&(cdc.ut.liveManager.pageLocation+=location.hash);cdc.ut.liveManager.subDomains=new Array("www.","ecmx-wip.","ecmx-staging.","ecmx-active.","wwwin-tools-stage.","cco-rtp-1.","dev-stage.","tools-stage.","wwwin-tools-dev.");for(cdc.ut.liveManager.i=0;cdc.ut.liveManager.i<cdc.ut.liveManager.subDomains.length;cdc.ut.liveManager.i++)cdc.ut.liveManager.pageLocation=cdc.ut.liveManager.pageLocation.replace(cdc.ut.liveManager.subDomains[cdc.ut.liveManager.i],"");cdc.ut.liveManager.pageLocation.lastIndexOf("/")==cdc.ut.liveManager.pageLocation.length-1&&(cdc.ut.liveManager.pageLocation=cdc.ut.liveManager.pageLocation.substring(0,cdc.ut.liveManager.pageLocation.length-1));cdc.ut.liveManager.trackingVariables={basepage:cdc.ut.liveManager.pageLocation,property:"Cisco",tag:"ut2.0.20100823.1200",title:document.title,url:document.URL,referrer:eval("document.referrer"),linktrack:"linkpage",elementtype:"page"};try{typeof cdc.login>"u"?cdc.cookie.getCookie("wasOnLoginPage")=="true"&&(cdc.ut.liveManager.trackingVariables.referrer=cdc.cookie.getCookie("loginPageReferrer"),cdc.cookie.setCookie({cookieName:"wasOnLoginPage",cookieValue:"false",domain:".cisco.com"})):(cdc.cookie.setCookie({cookieName:"wasOnLoginPage",cookieValue:"true",domain:".cisco.com"}),cdc.cookie.setCookie({cookieName:"loginPageReferrer",cookieValue:document.referrer,domain:".cisco.com"}))}catch(t){}cdc.ut.liveManager.trackingVariables.loc="http://"+cdc.ut.liveManager.trackingVariables.basepage;cdc.ut.liveManager.getCookieData=function(t){var e=document.cookie.indexOf(t+"="),c="";return e>-1&&(c=document.cookie.indexOf(";",e+1),c=c>0?c:document.cookie.length,c=c>e?document.cookie.substring(e+t.length+1,c):""),c};cdc.ut.liveManager.getPrevpage=function(){var x=eval("document.referrer");x=x.replace(/^https:\/\/|^http:\/\//,""),x=x.replace(/^www\./,"");var a=x.split("?");return x=a[0],x.charAt(x.length-1)=="/"&&(x=x.substring(0,x.length-1)),x.length>255&&(x=x.substring(0,255)),x};cdc.ut.liveManager.trackingVariables.prevpage=cdc.ut.liveManager.getPrevpage();cdc.ut.liveManager.presend=function(){try{var t=["campaign","country_site","position","referring_site","creative","keyword"],e=location.search;if(e==""){var c=document.URL,d=c.indexOf("#"),u=c.indexOf("?");u>d&&(e="?"+c.split("?")[1])}e=e.toLowerCase(),cdc.ut.liveManager.searchString=e;var f,r,n,o,l=[];for(f=0;f<t.length;f++)if(e.indexOf(t[f])>0){for(f=e.substring(1).split("&"),r={},o=0;o<f.length;o++)n=f[o].split("="),r[n[0]]=unescape(n[1]);for(n="&tag="+cdc.ut.liveManager.trackingVariables.tag+"&vs_basepage="+escape(cdc.ut.liveManager.trackingVariables.basepage)+"&vs_elementtype=page&vs_event=campaign&vs_url="+escape(document.URL),o=0;o<t.length;o++)typeof r[t[o]]<"u"&&(n+="&"+t[o]+"="+escape(r[t[o]]),l.push(escape(r[t[o]])));o=document.cookie;var g=o.indexOf("CP_GUTC"),m=o.indexOf(";",g),p="";m>g&&g>=0&&(p=o.substring(g+8,m)),n+="&vs_vid="+p;for(var h=cdc.ut.liveManager.config.dop_sensor.split(","),M=0,v=0;v<h.length;v++)M=cdc.ut.liveManager.img.push(new Image),cdc.ut.liveManager.img[M-1].src=h[v]+n;break}}catch{}};typeof lm_libloadedflag>"u"&&cdc.ut.liveManager.presend();cdc.ut.liveManager.ONLOAD=function(){if(typeof cdc.ut.config<"u"){for(a in cdc.ut.config)typeof cdc.ut.config[a]!="function"&&(b=a.split("."),b.length==2&&typeof cdc.ut.liveManager.config[b[0]][b[1]]<"u"?cdc.ut.liveManager.config[b[0]][b[1]]=cdc.ut.config[a]:b.length==1&&typeof cdc.ut.liveManager.config[b[0]]<"u"&&(cdc.ut.liveManager.config[b[0]]=cdc.ut.config[a]));typeof cdc.ut.config.tag<"u"&&(cdc.ut.liveManager.t.tag=cdc.ut.config.tag),typeof cdc.ut.config.noload<"u"&&(cdc.ut.config.noload=="true"||cdc.ut.config.noload==!0)&&(cdc.ut.liveManager.lmIsLoaded=1)}if(cdc.ut.liveManager.lmIsLoaded!=1){if(cdc.ut.liveManager.lmIsLoaded=1,cdc.ut.liveManager.config.rs_map_src!=""&&cdc.ut.liveManager.loadFiles({nodeIdSuffix:"rs_map",fileURL:cdc.ut.liveManager.config.rs_map_src+"?v="+cdc.ut.liveManager.trackingVariables.tag,notAsync:0}),typeof cdc.homepage<"u"&&cdc.homepage.isHomepage==!0)try{cdc.ut.liveManager.config.rs_map_src_cache&&cdc.ut.liveManager.loadFiles({nodeIdSuffix:"rs_map_cache",fileURL:cdc.ut.liveManager.config.rs_map_src_cache+"?v="+cdc.ut.liveManager.trackingVariables.tag,notAsync:0})}catch{}if(typeof s_account>"u"||s.visitorNamespace=="webex"){var t=cdc.ut.liveManager.config.s_code_ut_src,e=(""+location.pathname).toLowerCase(),c=new RegExp(/\/web\/\w{2}\//).exec(e);c!=null&&(c=c.toString(),c.indexOf("/web/us/")==-1&&c.indexOf("/web/fw/")==-1&&(t=cdc.ut.liveManager.config.s_code_src)),t!=""&&cdc.ut.liveManager.loadFiles({nodeIdSuffix:"s_code",fileURL:t+"?v="+cdc.ut.liveManager.trackingVariables.tag,notAsync:1})}else cdc.ut.liveManager.config.send.s_code=!1;cdc.ut.liveManager.config.ntpagetag_src!=""&&typeof NTPT_IMGSRC>"u"&&cdc.ut.liveManager.loadFiles({nodeIdSuffix:"ntpagetag",fileURL:cdc.ut.liveManager.config.ntpagetag_src+"?v="+cdc.ut.liveManager.trackingVariables.tag,notAsync:1,callback:"NTPT_UT.init()",initScript:"NTPT_NOINITIALTAG='true'"}),cdc.ut.liveManager.config.trackevent_src!=""&&cdc.ut.liveManager.loadFiles({nodeIdSuffix:"trackEvent",fileURL:cdc.ut.liveManager.config.trackevent_src+"?v="+cdc.ut.liveManager.trackingVariables.tag,notAsync:1,callback:"cdc.ut.liveManager.getPageData();cdc.ut.trackEvent.INIT();if(typeof cdcPageTimers!='undefined')cdcPageTimers.utsent=new Date();cdc.ut.trackEvent.event('view',cdc.ut.liveManager.trackingVariables)"}),typeof cdcPageTimers<"u"&&(cdcPageTimers.utloaded=new Date)}};cdc.ut.liveManager.ONERROR=function(t,e,c){cdc.ut.liveManager.erf!=1&&(cdc.ut.liveManager.error=typeof t=="string"?t+"-"+c:"Unknown",cdc.ut.liveManager.erf=1)};cdc.ut.liveManager.bindEvent(window,"error",cdc.ut.liveManager.ONERROR);cdc.ut.liveManager.getPageData=function(){for(var t={description:1,keywords:1,date:1,pubdate:1,pushdate:1,docRequest:1,synonym:1},e=document.getElementsByTagName("meta"),c=0;c<e.length;c++)e[c].name&&e[c].name!=""&&typeof t[e[c].name]>"u"&&(cdc.ut.liveManager.trackingVariables["meta."+e[c].name.toLowerCase()]=e[c].content.toLowerCase());for(var d=document.getElementsByTagName("div"),u=[],f=0;f<d.length;f++)if(d[f].className=="hinav"){for(var r=d[f].innerHTML.split("<a"),n=0;n<r.length;n++)(r[n].indexOf('class="parent"')>-1||r[n].indexOf('class="selected"')>-1)&&u.push(r[n]);for(var o=[],l=0;l<u.length;l++){u[l]=u[l].split("&amp;").join("&"),u[l]=u[l].toLowerCase();var g=u[l].indexOf(">"),m=u[l].indexOf("<",n);o.push(u[l].substring(g+1,m))}cdc.ut.liveManager.trackingVariables.hinav=o.join("/");break}if(typeof document.getElementById("nav-treecrumb")<"u"){var p=document.getElementsByTagName("li"),h=[];for(f=0;f<p.length;f++){var M=p[f].className,v=p[f].parentNode.id;if(v=="nav-treecrumb"&&(v=p[f].innerHTML,v)){var y=v.indexOf(">"),R=v.indexOf("<",n);v=v.substring(y+1,R),h.push(v.split("&amp;").join("&"))}if(M=="crumb-selected")break}cdc.ut.liveManager.trackingVariables.treecrumb=h.join("/")}if(typeof track<"u")for(var k in track)typeof k!="function"&&(cdc.ut.liveManager.trackingVariables[k]=track[k]);var _=["meta.iapath","hinav","treecrumb"];for(n=0;n<_.length;_++)if(typeof cdc.ut.liveManager.trackingVariables[_[n]]<"u"){cdc.ut.liveManager.trackingVariables.sitearea=cdc.ut.liveManager.trackingVariables[_[n]],cdc.ut.liveManager.trackingVariables.sa_source=_[n];break}typeof lpMTagConfig<"u"&&typeof lpMTagConfig.sessionVar<"u"&&(lpMTagConfig.sessionVarBackup=new Array,lpMTagConfig.sessionVarBackup=lpMTagConfig.sessionVar)};cdc.ut.liveManager.getRSMapFileData=function(){if(typeof ut_rs_map<"u"){var t=document.URL;for(i in ut_rs_map)if(typeof ut_rs_map[i]=="string"&&t.indexOf(i)>-1)return ut_rs_map[i]}return""};(function(){var t=location.hostname,e="/c/dam/cdc/t/ctm.js",c="",d="//fdk-devint.cisco.com",u="//fdk-stage.cisco.com",f="//www.cisco.com";function r(o){var l=document.createElement("script");l.src=o,l.async=!1,l.setAttribute("data-config-src","framework"),document.getElementsByTagName("head")[0].appendChild(l)}function n(){if(typeof cdc<"u"&&typeof cdc.util.findEnvironment<"u"){var o=cdc.util.findEnvironment();switch(o){case"dev":c=d;break;case"stage":c=cdc.util.matchesTrueWemEnv()?"":u;break;case"prod":c=f;break;case"unknown":c="";break}}else c="";var l=c+e;r(l)}n()})();var lm_libloadedflag=1;cdc.ut.liveManager.debugThis=function(t,e){e=new Image,e.src="//cdn.tealium.com/track.gif?tag=ut2.0&msg="+t};cdc.ut.liveManager.t=cdc.ut.liveManager.trackingVariables;cdc.ut.liveManager.A=cdc.ut.liveManager.loadFiles;cdc.ut.liveManager.l=cdc.ut.liveManager.filesToLoad;for(i=0;i<cdc.ut.liveManager.filesToLoad.length;i++)cdc.ut.liveManager.filesToLoad[i].a=cdc.ut.liveManager.filesToLoad[i].nodeIdSuffix,cdc.ut.liveManager.filesToLoad[i].b=cdc.ut.liveManager.filesToLoad[i].fileURL,cdc.ut.liveManager.filesToLoad[i].c=cdc.ut.liveManager.filesToLoad[i].notAsync,cdc.ut.liveManager.filesToLoad[i].d=cdc.ut.liveManager.filesToLoad[i].initScript,cdc.ut.liveManager.filesToLoad[i].e=cdc.ut.liveManager.filesToLoad[i].callback;var i;cdc.ut.liveManager.cleanCookies=function(){for(var t=document.cookie,e=t.split("; "),c=0;c<e.length;c++){var d=e[c].split("=");d[0].indexOf("dgad_")==0&&d[0].indexOf(" ")>-1?(document.cookie=d[0]+"=;path=/;domain=.cisco.com;expires=Thu, 31 Dec 2009 00:00:00 GMT",d[0]=d[0].split(" ").join("_"),document.cookie=d[0]+"="+d[1]+";path=/;domain=.cisco.com;"):d[0].indexOf("dgad_")==0&&(document.cookie=d[0]+"=;path=/;domain=.cisco.com;expires=Thu, 31 Dec 2009 00:00:00 GMT",document.cookie=d[0]+"="+d[1]+";path=/;domain=.cisco.com;")}if(t.length>3500){var u={};cdc.util.ensureNamespace("cdc.ut.cdcLargeCookies"),t=t.split("; ");for(var c=0;c<t.length;c++){var f=t[c].split("=");u[f[0]]=f[1],f[1].length>250&&(cdc.ut.cdcLargeCookies[f[0]]=f[1].length)}cdc.ut.cdcLargeCookies.cdc_ut=0,cdc.ut.cdcLargeCookies.mbox=0,cdc.ut.cdcLargeCookies.dgad=0,cdc.ut.cdcLargeCookies.sc=0,cdc.ut.cdcLargeCookies.utm=0;for(var c in u)if(typeof u[c]!="function"&&(c=="cdc_ut"||c=="mbox"||c.indexOf("dgad_")==0||c.indexOf("s_")==0||c.indexOf("__utm")==0)){var r=c;r.indexOf("dgad_")==0&&(r="dgad"),r.indexOf("s_")==0&&(r="sc"),r.indexOf("__utm")==0&&(r="utm"),typeof cdc.ut.cdcLargeCookies[c]<"u"&&cdc.ut.cdcLargeCookies[c]!=0?cdc.ut.cdcLargeCookies[c]+=":d":cdc.ut.cdcLargeCookies[r]+=u[c].length,document.cookie=c+"=;path=/;domain=.cisco.com;expires=Thu, 31 Dec 2009 00:00:00 GMT"}}};try{cdc.ut.liveManager.cleanCookies()}catch(t){}});(function(t){cdc.util.addMetricsRule=function(r,n,o){return u(r,n,o)},cdc.util.getMetricsInfo=function(r){var n=d(r),o=r.name;o&&o.indexOf("&lpos=")===0&&t(o.split("&")).each(function(){var g=t(this.split("=")).map(function(){return unescape(this)});g[0]==="lpos"&&!n.lpos&&(n.lpos=g[1]),g[0]==="lid"&&!n.lid&&(n.lid=g[1])});var l={"data-config-metrics-group":"lpos","data-config-metrics-title":"lid","data-config-metrics-item":"linktext"};return n=f(r,l,n),n};var e=[],c=function(r){return typeof r=="function"};function d(r,n){var o={};return n=n||e,t(n).each(function(){var l=this.cond,g=this.vals,m=this.subs;(c(l)?l(r):t(r).is(l))&&(t.extend(o,c(g)?g(r):g),!(m.length<1)&&t.extend(o,d(r,m)))}),o}function u(r,n,o,l){n=n||{},l=l||e;var g=[],m={cond:r,vals:n,subs:g};l.push(m),c(o)&&o({subrule:function(p,h,M){return u(p,h,M,g)}})}function f(r,n,o){for(var l in n){var g=t(r).attr(l);typeof g<"u"&&g!==!1&&(o[n[l]]=t(r).attr(l))}return o}})(jQuery);var D=N(L(),1);(function(t){cdc.util.addMetricsRule('li[id$="-mm-item"] a[href]',function(e){return{lpos:"header_mb_"+t(e).closest('li[id$="-mm-item"]').attr("id").replace("-mm-item",""),lid:"header_mb_"+t(e).closest('li[id$="-mm-item"]').attr("id").replace("-mm-item","")}}),cdc.util.addMetricsRule(".mmt-container a[href]",function(e){return{lid:t(e).closest("div.mmt-container").attr("id").replace("-mmt-container","")}}),cdc.util.addMetricsRule("#support-mm-menu a[href]",function(e){return{lid:t(e).closest("div.mm-col").attr("id")}}),cdc.util.addMetricsRule(".mmt-container .mm-h a[href]",function(e){return{lid:t(e).closest("div.mmt-container").attr("id").replace("-mmt-container","")+" - Title: "+t(e).text()}}),cdc.util.addMetricsRule(".mmt-container .mm-himg a[href].mm-himg-img",function(e){return{lid:t(e).closest("div.mmt-container").attr("id").replace("-mmt-container","")+" - Image: "+t(e).text()}}),cdc.util.addMetricsRule(".mmt-container .mm-scol li a[href]",function(e){var c=t(e).closest("div.mm-scol").find("h5").text()?t(e).closest("div.mm-scol").find("h5").text()+" - ":"";return{lid:c+t(e).closest("div.mmt-container").attr("id").replace("-mmt-container","")}}),cdc.util.addMetricsRule("#fw-mbl a[href]",{lpos:"header_mb_hdr"}),cdc.util.addMetricsRule("#fw-logo a[href]",{lpos:"header_mb_hdr"}),cdc.util.addMetricsRule("#fw-treenav ul#tn-actions a[href]",function(e){return{lpos:"treenav-actions"}}),cdc.util.addMetricsRule("#fw-treenav div#tn-mycisco a[href]",function(e){return{lpos:"treenav-mycisco"}}),cdc.util.addMetricsRule("#fw-treenav ul#tn-language a[href]",function(e){return{lpos:"treenav-language"}}),cdc.util.addMetricsRule("#fw-treenav ul#treenav-primary li a[href]",function(e){return{lpos:"treenav-primary",lid:t(e).text()}}),cdc.util.addMetricsRule("#treenav-secondary li a[href]",function(e){return{lpos:"treenav-secondary-"+t('div[id="treenav-back"]').text(),lid:t(e).closest("li").prevUntil("ul").children("div:first").text()}}),cdc.util.addMetricsRule("nav#fw-utility a[href]",function(e){return{lpos:"header_mb_hdr"}}),cdc.util.addMetricsRule("#fw-embeddednav ul li a[href]",function(e){return{lpos:"embeddednav",lid:t(e).text()}}),cdc.util.addMetricsRule("#fw-breadcrumb a[href]",function(e){return{lpos:"model_breadcrumb",lid:"model_breadcrumb"}}),cdc.util.addMetricsRule('#fw-fatfooter div[class!=""] li a[href]',function(e){return{lpos:"ff",lid:t(e).closest("ul").prev("h4").text()}}),cdc.util.addMetricsRule('#fw-fatfooter div[class!=""] h4 a[href]',function(e){return{lpos:"ff",lid:t(e).text()}}),cdc.util.addMetricsRule(".fatfooter-button li a[href]",function(e){return{lpos:"ff",lid:t(e).closest("div").prev("h4").text()}}),cdc.util.addMetricsRule(".fatfooter-button h4 a[href]",function(e){return{lpos:"ff",lid:t(e).text()}}),cdc.util.addMetricsRule("#fw-footer a[href]",function(e){return{lpos:"fl",lid:t(e).text()}}),cdc.util.addMetricsRule("#pssubmitbutton",function(e){return{lpos:"header_mb_support",lid:"mm_products_find",linktext:"support search",ntpagetag:{searchPhrase:jQuery("#support-searchstring").val()}}}),cdc.util.addMetricsRule("#mm-support-download-submitbutton",function(e){return{lpos:"header_mb_support",lid:"mm_downloads_find",linktext:"download search",ntpagetag:{searchPhrase:jQuery("#mm-support-download-searchstring").val()}}}),typeof cdc.homepage<"u"&&cdc.homepage.isHomepage===!0&&(cdc.util.addMetricsRule("a",{onDemand:!0}),cdc.util.addMetricsRule(".button-cta",function(e){return{linktext:t(e).attr("name")}}),cdc.util.addMetricsRule("#spotlight-marker li a",function(e){return{lpos:"SL"}}),cdc.util.addMetricsRule("#fw-newsticker h3 a[href],#fw-newsticker li a[href]",{lpos:"nws_hp"}),cdc.util.addMetricsRule("div.fw-followus a[href]",{lpos:"sm_hp"}),cdc.util.addMetricsRule("#fw-spotlight li a",function(e){return{lpos:"SL",lid:t(e).attr("name")}}),cdc.util.addMetricsRule("section#fw-featureads a[href]",function(e){return{lpos:"fp_hp",linktext:t(e).attr("name")}}),cdc.util.addMetricsRule('#fw-fatfooter div[class!=""] li a[href]',function(e){return{lpos:"ff_hp",lid:t(e).closest("ul").prev("h4").text()}}),cdc.util.addMetricsRule('#fw-fatfooter div[class!=""] h4 a[href]',function(e){return{lpos:"ff_hp",lid:t(e).text()}}),cdc.util.addMetricsRule(".fatfooter-button li a[href]",function(e){return{lpos:"ff_hp",lid:t(e).closest("div").prev("h4").text()}}),cdc.util.addMetricsRule(".fatfooter-button h4 a[href]",function(e){return{lpos:"ff_hp",lid:t(e).text()}}))})(jQuery);

